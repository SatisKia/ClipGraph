function regGWorldDefCharInfo(n){newGWorldCharInfo(n);regGWorldCharInfo(n,_CHAR("0"),5,7,1,4,7,"011010011001100110011001011");regGWorldCharInfo(n,_CHAR("1"),4,7,1,2,7,"01110101010101");regGWorldCharInfo(n,_CHAR("2"),5,7,1,4,7,"0110100100010010010010001111");regGWorldCharInfo(n,_CHAR("3"),5,7,1,4,7,"011010010001001000011001011");regGWorldCharInfo(n,_CHAR("4"),5,7,1,4,7,"001001101010101011110010001");regGWorldCharInfo(n,_CHAR("5"),5,7,1,4,7,"111110001110100100011001011");regGWorldCharInfo(n,_CHAR("6"),5,7,1,4,7,"011010011000111010011001011");regGWorldCharInfo(n,_CHAR("7"),5,7,1,4,7,"11110001000100100010010001");regGWorldCharInfo(n,_CHAR("8"),5,7,1,4,7,"011010011001011010011001011");regGWorldCharInfo(n,_CHAR("9"),5,7,1,4,7,"011010011001011100011001011");regGWorldCharInfo(n,_CHAR("A"),5,7,1,4,7,"0110100110011111100110011001");regGWorldCharInfo(n,_CHAR("B"),5,7,1,4,7,"111010011001111010011001111");regGWorldCharInfo(n,_CHAR("C"),5,7,1,4,7,"011010011000100010001001011");regGWorldCharInfo(n,_CHAR("D"),5,7,1,4,7,"111010011001100110011001111");regGWorldCharInfo(n,_CHAR("E"),5,7,1,4,7,"1111100010001111100010001111");regGWorldCharInfo(n,_CHAR("F"),5,7,1,4,7,"1111100010001111100010001");regGWorldCharInfo(n,_CHAR("G"),5,7,1,4,7,"011010011000101110011001011");regGWorldCharInfo(n,_CHAR("H"),5,7,1,4,7,"1001100110011111100110011001");regGWorldCharInfo(n,_CHAR("I"),4,7,1,3,7,"111010010010010010111");regGWorldCharInfo(n,_CHAR("J"),5,7,1,4,7,"000100010001000100011001011");regGWorldCharInfo(n,_CHAR("K"),5,7,1,4,7,"1001100110101100101010011001");regGWorldCharInfo(n,_CHAR("L"),5,7,1,4,7,"1000100010001000100010001111");regGWorldCharInfo(n,_CHAR("M"),6,7,1,5,7,"10001100011101111011101011010110101");regGWorldCharInfo(n,_CHAR("N"),5,7,1,4,7,"1001110111011011101110011001");regGWorldCharInfo(n,_CHAR("O"),5,7,1,4,7,"011010011001100110011001011");regGWorldCharInfo(n,_CHAR("P"),5,7,1,4,7,"1110100110011110100010001");regGWorldCharInfo(n,_CHAR("Q"),5,7,1,4,7,"0110100110011101101110110111");regGWorldCharInfo(n,_CHAR("R"),5,7,1,4,7,"1110100110011110100110011001");regGWorldCharInfo(n,_CHAR("S"),5,7,1,4,7,"011010011000011000011001011");regGWorldCharInfo(n,_CHAR("T"),5,7,1,4,7,"111100100010001000100010001");regGWorldCharInfo(n,_CHAR("U"),5,7,1,4,7,"100110011001100110011001011");regGWorldCharInfo(n,_CHAR("V"),5,7,1,4,7,"100110011001010101010010001");regGWorldCharInfo(n,_CHAR("W"),6,7,1,5,7,"1010110101101011010101010010100101");regGWorldCharInfo(n,_CHAR("X"),5,7,1,4,7,"1001100110010110100110011001");regGWorldCharInfo(n,_CHAR("Y"),5,7,1,4,7,"100110011001010100100010001");regGWorldCharInfo(n,_CHAR("Z"),5,7,1,4,7,"1111000100100100100010001111");regGWorldCharInfo(n,_CHAR("a"),5,7,1,4,5,"01100001011110010111");regGWorldCharInfo(n,_CHAR("b"),5,7,1,4,7,"100010001110100110011001111");regGWorldCharInfo(n,_CHAR("c"),5,7,1,4,5,"0110100110001001011");regGWorldCharInfo(n,_CHAR("d"),5,7,1,4,7,"0001000101111001100110010111");regGWorldCharInfo(n,_CHAR("e"),5,7,1,4,5,"01101001111110000111");regGWorldCharInfo(n,_CHAR("f"),4,7,1,3,7,"00101011101001001001");regGWorldCharInfo(n,_CHAR("g"),5,7,1,4,5,"01111001100101110001111");regGWorldCharInfo(n,_CHAR("h"),5,7,1,4,7,"1000100011101001100110011001");regGWorldCharInfo(n,_CHAR("i"),3,7,1,1,7,"1011111");regGWorldCharInfo(n,_CHAR("j"),4,7,1,2,7,"010001010101011");regGWorldCharInfo(n,_CHAR("k"),5,7,1,4,7,"1000100010011010110010101001");regGWorldCharInfo(n,_CHAR("l"),3,7,1,1,7,"1111111");regGWorldCharInfo(n,_CHAR("m"),6,7,1,5,5,"1101010101101011010110101");regGWorldCharInfo(n,_CHAR("n"),5,7,1,4,5,"11101001100110011001");regGWorldCharInfo(n,_CHAR("o"),5,7,1,4,5,"0110100110011001011");regGWorldCharInfo(n,_CHAR("p"),5,7,1,4,5,"111010011001111010001");regGWorldCharInfo(n,_CHAR("q"),5,7,1,4,5,"011110011001011100010001");regGWorldCharInfo(n,_CHAR("r"),5,7,1,4,5,"10111100100010001");regGWorldCharInfo(n,_CHAR("s"),5,7,1,4,5,"0111100001100001111");regGWorldCharInfo(n,_CHAR("t"),4,7,1,3,6,"010111010010010001");regGWorldCharInfo(n,_CHAR("u"),5,7,1,4,5,"10011001100110010111");regGWorldCharInfo(n,_CHAR("v"),5,7,1,4,5,"1001100101010101001");regGWorldCharInfo(n,_CHAR("w"),6,7,1,5,5,"101011010110101010100101");regGWorldCharInfo(n,_CHAR("x"),5,7,1,4,5,"10011001011010011001");regGWorldCharInfo(n,_CHAR("y"),5,7,1,4,5,"10011001100101110001111");regGWorldCharInfo(n,_CHAR("z"),5,7,1,4,5,"11110001011010001111");regGWorldCharInfo(n,_CHAR(" "),5,7,1,4,7,"");regGWorldCharInfo(n,_CHAR("!"),2,7,1,1,7,"1111101");regGWorldCharInfo(n,_CHAR('"'),5,7,1,4,7,"01010101101");regGWorldCharInfo(n,_CHAR("#"),6,7,1,5,7,"0101011111010100101001010111110101");regGWorldCharInfo(n,_CHAR("$"),6,7,1,5,7,"001000111110100011100010111110001");regGWorldCharInfo(n,_CHAR("%"),6,7,1,5,7,"0100110110010100010001010011011001");regGWorldCharInfo(n,_CHAR("&"),6,7,1,5,7,"01100100100110010101101011001001101");regGWorldCharInfo(n,_CHAR("'"),3,7,1,2,7,"01011");regGWorldCharInfo(n,_CHAR("("),4,7,1,3,7,"001010100100100010001");regGWorldCharInfo(n,_CHAR(")"),4,7,1,3,7,"1000100010010010101");regGWorldCharInfo(n,_CHAR("*"),6,7,1,5,6,"00100101010111010101001");regGWorldCharInfo(n,_CHAR("+"),4,7,1,3,6,"01001011101001");regGWorldCharInfo(n,_CHAR(","),3,7,1,2,2,"01011");regGWorldCharInfo(n,_CHAR("-"),4,7,1,3,4,"111");regGWorldCharInfo(n,_CHAR("."),2,7,1,1,1,"1");regGWorldCharInfo(n,_CHAR("/"),6,7,1,5,7,"0000100010000100010001000010001");regGWorldCharInfo(n,_CHAR(":"),2,7,1,1,5,"1001");regGWorldCharInfo(n,_CHAR(";"),3,7,1,2,5,"010000011");regGWorldCharInfo(n,_CHAR("<"),5,7,1,4,7,"0001001001001000010000100001");regGWorldCharInfo(n,_CHAR("="),4,7,1,3,5,"111000000111");regGWorldCharInfo(n,_CHAR(">"),5,7,1,4,7,"1000010000100001001001001");regGWorldCharInfo(n,_CHAR("?"),5,7,1,4,7,"01101001001001000100000001");regGWorldCharInfo(n,_CHAR("@"),6,7,1,5,7,"0111010001111011010111110100000111");regGWorldCharInfo(n,_CHAR("["),4,7,1,3,7,"111100100100100100111");regGWorldCharInfo(n,_CHAR("\\"),6,7,1,5,7,"100010101011111001001111100100001");regGWorldCharInfo(n,_CHAR("]"),4,7,1,3,7,"111001001001001001111");regGWorldCharInfo(n,_CHAR("^"),4,7,1,3,7,"010101");regGWorldCharInfo(n,_CHAR("_"),5,7,1,4,1,"1111");regGWorldCharInfo(n,_CHAR("`"),3,7,1,2,7,"101001");regGWorldCharInfo(n,_CHAR("{"),4,7,1,3,7,"011010010100010010011");regGWorldCharInfo(n,_CHAR("|"),2,7,1,1,7,"1111111");regGWorldCharInfo(n,_CHAR("}"),4,7,1,3,7,"11001001000101001011");regGWorldCharInfo(n,_CHAR("~"),5,7,1,4,7,"0101101")}function consoleBreak(){return _console_break}function _Console(n){window.onConsoleUpdate==undefined&&(window.onConsoleUpdate=function(){});this._id=n;this._div=document.getElementById(this._id);this._html="";this._blankLine="";this._maxLen=0;this._color="";this._lastColor="";this._bold=!1;this._italic=!1;this._lock=!1;this._needUpdate=!1}function onConsoleUpdate(){started&&(document.getElementById("button_ui_log").innerHTML="<b><span style='color:#FF0000'>！<\/span><\/b>",document.getElementById("button_ui_log2").innerHTML="<b><span style='color:#FF0000'>！<\/span><\/b>")}function _Error(){window.onError==undefined&&(window.onError=function(){});this._message=new String;this._name=new String;this._description=new String;this._number=new String;this._file=new String;this._line=new String;this._column=new String;this._stack=new String}function catchError(n){var t=new _Error;t._message=n.message;t._name=n.name;n.description&&(t._description=n.description);n.number&&(t._number=""+n.number);n.fileName&&(t._file=n.fileName);n.lineNumber&&(t._line=""+n.lineNumber);n.columnNumber&&(t._column=""+n.columnNumber);n.stack&&(t._stack=n.stack);onError(t)}function clip_onerror(n,t,i){var r=new _Error;return r._message=n,r._file=t,r._line=i,onError(r),!0}function onError(n){con.newLine();con.setColor("ff0000");con.println("message: "+n.message());con.println("name: "+n.name());con.println("description: "+n.description());con.println("number: "+n.number());con.println("file: "+n.file());con.println("line: "+n.line());con.println("column: "+n.column());var t=new _String(n.stack());t.escape().replaceNewLine(consoleBreak());con.println("stack: "+t.str());con.setColor()}function _CanvasEnv(){this._color_r=0;this._color_g=0;this._color_b=0;this._color_a=255;this._font="";this._stroke_width=1}function setCanvasEnv(n){_canvas_env=n}function _Canvas(n){n==undefined?(this._canvas=document.createElement("canvas"),this._create=!0):(this._canvas=document.getElementById(n),this._create=!1);this._context=this._canvas.getContext("2d");this._resetContext()}function canvasClear(){canvas.clear()}function canvasSetColor(n){colorR=n&255;colorG=(n&65280)>>8;colorB=(n&16711680)>>16;colorA=255;n==colorBack&&(colorA=colorBackAlpha());canvas.setColor(colorR,colorG,colorB,colorA)}function canvasPut(n,t){colorA!=255&&canvas.clear(n,t);canvas.put(n,t)}function canvasFill(n,t,i,r){canvas.fill(n,t,i,r)}function canvasLine(n,t,i,r){colorA!=255&&(colorA=255,canvas.setColor(colorR,colorG,colorB,colorA));canvas.line(n,t,i,r)}function canUseFile(){return window.FileReader&&window.FileList&&window.File}function _InputFile(n){window.onInputFileLoadImage==undefined&&(window.onInputFileLoadImage=function(){});window.onInputFileLoad==undefined&&(window.onInputFileLoad=function(){});window.onInputFileLoadEnd==undefined&&(window.onInputFileLoadEnd=function(){});this._input=document.getElementById(n);this._input.addEventListener("change",_onInputFileChange,!1)}function _onInputFileChange(n){var t=n.target.files,f,r,u,i;if(t.length!=0){if(t[0].type.startsWith("image/")){f=t[0].name;i=new FileReader;i.onload=function(){var n=new Image;n.onload=function(){onInputFileLoadImage(f,n)};n.src=i.result};i.readAsDataURL(t[0]);return}for(_input_file_cnt=0,_input_file_num=t.length,r=0;r<t.length;r++)u=t.item(r),i=new FileReader,i.onload=function(n){return function(t){var r,u,e,i,h,c,f,o,s;if(n.name.indexOf(".cef")>0){for(u=t.target.result,e=n.name.substring(0,n.name.indexOf(".cef")),i=0;i<u.length;i++)if(!isCharSpace(u,i)&&u.charAt(i)!="\t")break;if(h=u.substring(i,i+11),h.toLowerCase()=="#!namespace"){for(c=new _String(u),f=c.replaceNewLine().str(),f.indexOf("\n")<0&&(f+="\n"),o=new String,r=i+11;;r++)if(!isCharSpace(f,r)&&f.charAt(r)!="\t")break;if(r>i+11){for(;;r++){if(s=f.charAt(r),isCharSpace(f,r)||s=="\t"||s=="\n")break;o+=s}o.length>0&&(e=o+":"+e)}}onInputFileLoad(e,u);_input_file_cnt++;_input_file_cnt>=_input_file_num&&onInputFileLoadEnd(_input_file_cnt)}}}(u),i.readAsText(u)}}function __ProcError(){this._err=0;this._num=0;this._func=new String;this._token=new String;this._before=null;this._next=null}function _ProcError(){this._top=null;this._end=null;this._num=0}function getProcErrorDefString(n,t,i,r){var u=new String;switch(n){case _CLIP_PROC_WARN_ARRAY:u=r?"Array element number is negative.":"配列の要素番号が負の値です";break;case _CLIP_PROC_WARN_DIV:u=r?"Divide by zero.":"ゼロで除算しました";break;case _CLIP_PROC_WARN_UNDERFLOW:u=r?"Underflowed.":"アンダーフローしました";break;case _CLIP_PROC_WARN_OVERFLOW:u=r?"Overflow occurred.":"オーバーフローしました";break;case _CLIP_PROC_WARN_ASIN:u=r?'Argument of "asin" is out of the range of -1 to 1.':"asinの引数が-1から1の範囲外になりました";break;case _CLIP_PROC_WARN_ACOS:u=r?'Argument of "acos" is out of the range of -1 to 1.':"acosの引数が-1から1の範囲外になりました";break;case _CLIP_PROC_WARN_ACOSH:u=r?'Argument of "acosh" now has value less than 1.':"acoshの引数が1未満の値になりました";break;case _CLIP_PROC_WARN_ATANH:u=r?'The argument of "atanh" is less than or equal to -1 or 1 or more.':"atanhの引数が-1以下または1以上の値になりました";break;case _CLIP_PROC_WARN_LOG:u=r?'Argument of "'+(i?"ln":"log")+'" is 0 or negative value.':(i?"ln":"log")+"の引数が0または負の値になりました";break;case _CLIP_PROC_WARN_LOG10:u=r?'Argument of "'+(i?"log":"log10")+'" has become 0 or negative value.':(i?"log":"log10")+"の引数が0または負の値になりました";break;case _CLIP_PROC_WARN_SQRT:u=r?'Argument of "sqrt" has a negative value.':"sqrtの引数が負の値になりました";break;case _CLIP_PROC_WARN_FUNCTION:u=r?'Invalid argument for "'+t+'".':t+"の引数が無効です";break;case _CLIP_PROC_WARN_RETURN:u=r?'"return" can not return a value.':"returnで値を返すことができません";break;case _CLIP_PROC_WARN_DEAD_TOKEN:u=r?"Token is not executed.":"実行されないトークンです";break;case _CLIP_PROC_WARN_SE_RETURN:u=r?'"$RETURN_A" can not return a value.':"$RETURN_Aで値を返すことができません";break;case _CLIP_LOOP_ERR_NULL:u=r?"There is no token.":"トークンがありません";break;case _CLIP_LOOP_ERR_COMMAND:u=r?"Command not supported.":"コマンドはサポートされていません";break;case _CLIP_LOOP_ERR_STAT:u=r?"Control structure is not supported.":"制御構造はサポートされていません";break;case _CLIP_PROC_ERR_UNARY:u=r?'"'+t+'": Unary operator expression is incorrect.':t+":単項演算子表現が間違っています";break;case _CLIP_PROC_ERR_OPERATOR:u=r?'"'+t+'": Operator expression is wrong.':t+":演算子表現が間違っています";break;case _CLIP_PROC_ERR_ARRAY:u=r?'"'+t+'": Array representation is incorrect.':t+":配列表現が間違っています";break;case _CLIP_PROC_ERR_FUNCTION:u=r?'Argument of function "'+t+'" is wrong.':"関数"+t+"の引数が間違っています";break;case _CLIP_PROC_ERR_LVALUE:u=r?'The left side of "'+t+'" must be a variable or an array.':t+"の左辺は変数または配列でなければなりません";break;case _CLIP_PROC_ERR_RVALUE:u=r?'The right side of "'+t+'" must be a variable or an array.':t+"の右辺は変数または配列でなければなりません";break;case _CLIP_PROC_ERR_RVALUE_NULL:u=r?'There is no right side of "'+t+'".':t+"の右辺がありません";break;case _CLIP_PROC_ERR_CONDITIONAL:u=r?'Two constant or variable are not specified on the right side of the ternary operator "'+t+'".':"三項演算子"+t+"の右辺に定数または変数が2個指定されていません";break;case _CLIP_PROC_ERR_EXTFUNC:u=r?'Execution of the external function "'+t.slice(1)+'" was interrupted.':"外部関数"+t.slice(1)+"の実行が中断されました";break;case _CLIP_PROC_ERR_USERFUNC:u=r?'Execution of function "'+t+'" was interrupted.':"関数"+t+"の実行が中断されました";break;case _CLIP_PROC_ERR_CONSTANT:u=r?'"'+t+'": Constant expression is wrong.':t+":定数表現が間違っています";break;case _CLIP_PROC_ERR_STRING:u=r?'"'+t+'": String representation is incorrect.':t+":文字列表現が間違っています";break;case _CLIP_PROC_ERR_COMPLEX:u=r?'"'+t+'": Wrong complex number representation.':t+":複素数表現が間違っています";break;case _CLIP_PROC_ERR_FRACT:u=r?'"'+t+'": Fractional representation is incorrect.':t+":分数表現が間違っています";break;case _CLIP_PROC_ERR_ASS:u=r?'Assignment to a constant by "'+t+'" is invalid.':t+"による定数への代入は無効です";break;case _CLIP_PROC_ERR_CALL:u=r?"Function call failed.":"関数呼び出しに失敗しました";break;case _CLIP_PROC_ERR_STAT_IF:u=r?'"'+t+'" too many nests.':t+"のネスト数が多すぎます";break;case _CLIP_PROC_ERR_STAT_ENDIF:u=r?'There is no "if" corresponding to "'+t+'".':t+"に対応するifがありません";break;case _CLIP_PROC_ERR_STAT_SWITCH:u=r?'"'+t+'" too many nests.':t+"のネスト数が多すぎます";break;case _CLIP_PROC_ERR_STAT_ENDSWI:u=r?'There is no "switch" corresponding to "'+t+'".':t+"に対応するswitchがありません";break;case _CLIP_PROC_ERR_STAT_UNTIL:u=r?'No "do" corresponding to "'+t+'".':t+"に対応するdoがありません";break;case _CLIP_PROC_ERR_STAT_ENDWHILE:u=r?'There is no "while" corresponding to "'+t+'".':t+"に対応するwhileがありません";break;case _CLIP_PROC_ERR_STAT_FOR_CON:u=r?'No condition part in "'+t+'".':t+"における条件部がありません";break;case _CLIP_PROC_ERR_STAT_FOR_EXP:u=r?'There is no update expression in "'+t+'".':t+"における更新式がありません";break;case _CLIP_PROC_ERR_STAT_NEXT:u=r?'There is no "for" corresponding to "'+t+'".':t+"に対応するforがありません";break;case _CLIP_PROC_ERR_STAT_CONTINUE:u=r?'"'+t+'" is invalid.':t+"は無効です";break;case _CLIP_PROC_ERR_STAT_BREAK:u=r?'"'+t+'" is invalid.':t+"は無効です";break;case _CLIP_PROC_ERR_STAT_FUNC:u=r?"Too many functions.":"関数の数が多すぎます";break;case _CLIP_PROC_ERR_STAT_FUNC_NEST:u=r?"Function can not be defined in function.":"関数内で関数は定義できません";break;case _CLIP_PROC_ERR_STAT_ENDFUNC:u=r?'There is no "func" corresponding to "'+t+'".':t+"に対応するfuncがありません";break;case _CLIP_PROC_ERR_STAT_FUNCNAME:u=r?'"'+t+'": Function name is invalid.':t+":関数名は無効です";break;case _CLIP_PROC_ERR_STAT_FUNCPARAM:u=r?'"'+t+'": Label can not be set for function argument.':t+":関数の引数にラベル設定できません";break;case _CLIP_PROC_ERR_STAT_LOOP:u=r?"Number of loops exceeded the upper limit.":"ループ回数オーバーしました";break;case _CLIP_PROC_ERR_COMMAND_NULL:u=r?"The command is incorrect.":"コマンドが間違っています";break;case _CLIP_PROC_ERR_COMMAND_PARAM:u=r?'The argument of the command "'+t.slice(1)+'" is incorrect.':"コマンド"+t.slice(1)+"の引数が間違っています";break;case _CLIP_PROC_ERR_COMMAND_DEFINE:u=r?'"'+t+'" has already been defined.':t+"は既に定義されています";break;case _CLIP_PROC_ERR_COMMAND_UNDEF:u=r?'"'+t+'" is not defined.':t+"は定義されていません";break;case _CLIP_PROC_ERR_COMMAND_PARAMS:u=r?'You can only specify up to 10 arguments for the command "'+t.slice(1)+'".':"コマンド"+t.slice(1)+"の引数は10個までしか指定できません";break;case _CLIP_PROC_ERR_FUNC_OPEN:u=r?'The external function "'+t.slice(1)+'" can not be opened.':"外部関数"+t.slice(1)+"がオープンできません";break;case _CLIP_PROC_ERR_FUNC_PARANUM:u=r?"Up to 10 arguments of external function can be specified.":"外部関数の引数は10個までしか指定できません";break;case _CLIP_PROC_ERR_FUNC_PARACODE:u=r?'"token": The argument of the external function must be a constant, variable or array name.':t+":外部関数の引数は定数、変数または配列名でなければなりません";break;case _CLIP_PROC_ERR_SE_NULL:u=r?"The single expression is incorrect.":"単一式が間違っています";break;case _CLIP_PROC_ERR_SE_OPERAND:u=r?"Operand of the single expression is incorrect.":"単一式のオペランドが間違っています";break;case _CLIP_PROC_ERR_SE_LOOPEND:u=r?'No "$LOOPSTART" corresponding to "$LOOPEND".':"$LOOPENDに対応する$LOOPSTARTがありません";break;case _CLIP_PROC_ERR_SE_LOOPCONT:u=r?'No "$LOOPSTART" corresponding to "$LOOPCONT".':"$LOOPCONTに対応する$LOOPSTARTがありません";break;case _CLIP_PROC_ERR_SE_CONTINUE:u=r?'"$CONTINUE" is invalid.':"$CONTINUEは無効です";break;case _CLIP_PROC_ERR_SE_BREAK:u=r?'"$BREAK" is invalid.':"$BREAKは無効です"}return u}function EditExprToken(n){this._token=n;this._before=null;this._next=null}function EditExpr(n){this._id=n;this._top=null;this._end=null;this._num=0;this._cur=null;this._cursor=0;this._disp=2;this._forward=0;this._scroll=0;this._selAll=!1;this._firstChars="(*/+-%[&^|<>"}function ListBoxObj(n){this._obj=n;this._before=null;this._next=null}function ListBox(){this._top=null;this._end=null;this._num=0;this._index=0;this._line=1;this._scroll=0}function ListTableItem(n,t,i){this._x=n;this._y1=t;this._y2=i}function ListImageItem(n,t,i){this._url=n;this._x=t;this._y=i}function setEditorSmartFlag(n){_editor_smart=n}function editorSmartFlag(){return _editor_smart}function _Editor(n){window.onEditorUpdateText==undefined&&(window.onEditorUpdateText=function(){});this._textarea=document.getElementById(n);this._textarea.addEventListener("input",_onEditorInput,!1);this._textarea.addEventListener("keydown",_onEditorKeyDown,!1)}function _onEditorInput(n){var f=n.target,t=f.selectionStart,i,r,u;if(_editor_smart&&t>0&&t!=_editor_cursor_pos&&(i=f.value,i.length>_editor_text.length))if(isCharSpace(i,t-1)){if(t==1||i.charAt(t-2)=="\t")f.value=i.substr(0,t-1)+"\t"+i.slice(t),f.setSelectionRange(t,t);else if(i.charAt(t-2)=="\n"){for(r=t-3;r>=0;r--)if(i.charAt(r)=="\n")break;for(r++,u="";i.charAt(r)=="\t";)u+="\t",r++;u.length==0&&(u="\t");f.value=i.substr(0,t-1)+u+i.slice(t);f.setSelectionRange(t-1+u.length,t-1+u.length)}}else if(i.charAt(t-1)=="\n"){for(r=t-2;r>=0;r--)if(i.charAt(r)=="\n")break;for(r++,u="";i.charAt(r)=="\t";)u+="\t",r++;f.value=i.substr(0,t)+u+i.slice(t);f.setSelectionRange(t+u.length,t+u.length)}_editor_cursor_pos=f.selectionStart;_editor_text=f.value;onEditorUpdateText(_editor_text.length)}function _onEditorKeyDown(n){var i=n.target,r,t,u,f;if(n.keyCode==9){if(n.preventDefault(),r=i.value,t=i.selectionStart,_editor_smart&&t>0&&r.charAt(t-1)=="\n"){for(u=t-2;u>=0;u--)if(r.charAt(u)=="\n")break;for(u++,f="";r.charAt(u)=="\t";)f+="\t",u++;f.length==0&&(f="\t");i.value=r.substr(0,t)+f+r.slice(t);i.setSelectionRange(t+f.length,t+f.length)}else i.value=r.substr(0,t)+"\t"+r.slice(t),i.setSelectionRange(t+1,t+1);_editor_text=i.value;onEditorUpdateText(_editor_text.length)}_editor_cursor_pos=i.selectionStart}function _StringUtil(){this._fontSize=0;this._fontFamily="";this._text=document.createElement("span");this._textStyle="visibility:hidden;position:absolute;left:0;top:0";this._text.style.cssText=this._textStyle;document.body.appendChild(this._text);this._h="";this._e=""}function Common(){var n=window.navigator.userAgent;this._androidMobile=!1;this._androidTablet=!1;this._iPhone=!1;this._iPad=!1;n.indexOf("iPad")!=-1?this._iPad=!0:n.indexOf("iPhone")!=-1||n.indexOf("iPod")!=-1?this._iPhone=!0:n.indexOf("Android")!=-1&&(n.indexOf("Mobile")!=-1?this._androidMobile=!0:this._androidTablet=!0);this._app=!1;n.lastIndexOf(" APP")==n.length-4&&(this._app=!0);this._su=new _StringUtil}function cssGetPropertyValue(n,t){for(var r,o=new String,s=document.styleSheets,u,f,e,i=0;i<s.length;i++)for(u=s[i],f=u.rules||u.cssRules,r=0;r<f.length;r++)e=f[r],e.selectorText==n&&(o=e.style.getPropertyValue(t));return o}function cssSetPropertyValue(n,t,i){for(var u,s=document.styleSheets,f,e,o,r=0;r<s.length;r++)for(f=s[r],e=f.rules||f.cssRules,u=0;u<e.length;u++)o=e[u],o.selectorText==n&&o.style.setProperty(t,i)}function cssLockStyleDisplay(){_css_display_none=[];_css_display_block=[]}function cssSetStyleDisplay(n,t){_css_display_none==null?n.style.display=t?"block":"none":t?_css_display_block[_css_display_block.length]=n:_css_display_none[_css_display_none.length]=n}function cssSetStyleDisplayById(n,t){cssSetStyleDisplay(document.getElementById(n),t)}function cssUnlockStyleDisplay(){for(var n=0;n<_css_display_none.length;n++)_css_display_none[n].style.display="none";for(n=0;n<_css_display_block.length;n++)_css_display_block[n].style.display="block";_css_display_none=null;_css_display_block=null}function cssSetButton(n,t,i,r,u,f,e){cssSetPropertyValue(n,"background","-webkit-gradient("+t+",color-stop(0%,"+i+"),color-stop(100%,"+r+"))");cssSetPropertyValue(n,"color",u);cssSetPropertyValue(n,"text-shadow",(e?"1px 1px ":"-1px -1px ")+f)}function cssSetSelect(n,t,i,r,u,f,e){cssSetPropertyValue(n,"background","-webkit-gradient("+t+",color-stop(0%,"+i+"),color-stop(100%,"+r+"))");cssSetPropertyValue(n,"color",u);f.length>0?cssSetPropertyValue(n,"text-shadow",(e?"1px 1px ":"-1px -1px ")+f):cssSetPropertyValue(n,"text-shadow","0 0")}function initSelect(n,t){for(var r=document.getElementById(n),i=0;i<r.options.length;i++)r.options[i].selected=i==t?!0:!1}function doButtonUpFloat(n,t,i){var r=parseFloat(document.getElementById(n).value);return!_ISNAN(r)&&(i==undefined||r<i)?(r+=t,i!=undefined&&r>i&&(r=i),document.getElementById(n).value=floatToStringPoint(r),!0):!1}function doButtonDownFloat(n,t,i){var r=parseFloat(document.getElementById(n).value);return!_ISNAN(r)&&(i==undefined||r>i)?(r-=t,i!=undefined&&r<i&&(r=i),document.getElementById(n).value=floatToStringPoint(r),!0):!1}function doButtonUpInt(n,t,i){var r=parseInt(document.getElementById(n).value);return!_ISNAN(r)&&(i==undefined||r<i)?(r+=t,i!=undefined&&r>i&&(r=i),document.getElementById(n).value=""+r,!0):!1}function doButtonDownInt(n,t,i){var r=parseInt(document.getElementById(n).value);return!_ISNAN(r)&&(i==undefined||r>i)?(r-=t,i!=undefined&&r<i&&(r=i),document.getElementById(n).value=""+r,!0):!1}function printUsage(n,t,i,r,u){var f=new String,e;n=="e+"&&(f=r?"exponent part of floating point constant":"浮動小数点定数の指数部");n=="e-"&&(f=r?"exponent part of floating point constant":"浮動小数点定数の指数部");n=="d"&&(f=r?"degrees":"度");n=="g"&&(f=r?"gradian":"グラジアン");n=="r"&&(f=r?"radians":"ラジアン");n=="h"&&(f=r?"hour":"時");n=="m"&&(f=r?"min":"分");n=="s"&&(f=r?"second":"秒");n=="f"&&(f=r?"frame":"フレーム");n=="_"&&(f=r?"fraction":"分数");n=="i"&&(f=r?"imaginary part of complex number":"複素数の虚数部");n==":"&&(f=r?"time":"時間");n=="\\b"&&(f=r?"in binary notation":"2進表記");n=="\\0"&&(f=r?"octal notation":"8進表記");n=="\\"&&(f=r?"decimal notation":"10進表記");n=="\\x"&&(f=r?"hexadecimal notation":"16進表記");n=="\\-"&&(f=r?"unary minus (for constant)":"単項マイナス(定数用)");n=="\\+"&&(f=r?"unary plus (for constant)":"単項プラス(定数用)");n=="[-]"&&(f=r?"unary minus":"単項マイナス");n=="[~]"&&(f=r?"complement (unary operator)":"補数(単項演算子)");n=="+"&&(f=r?"addition (binomial plus)":"加算(二項プラス)");n=="-"&&(f=r?"subtraction (binomial minus)":"減算(二項マイナス)");n=="*"&&(f=r?"multiplication":"乗算");n=="/"&&(f=r?"division":"除算");n=="%"&&(f=r?"modulo (remainder)":"モジュロ(剰余)");n=="&"&&(f=r?"bitwise logical AND":"ビット単位の論理積");n=="^"&&(f=(i._mode&_CLIP_MODE_INT)==0?r?"power":"累乗":r?"bitwise exclusive OR":"ビット単位の排他的論理和");n=="|"&&(f=r?"inclusive logical sum of bits":"ビット単位の内包的論理和");n=="<<"&&(f=r?"shift left":"左シフト");n==">>"&&(f=r?"shift right":"右シフト");n=="("&&(f=r?"beginning of parenthesis indicating priority of operation":"演算の優先順位を示す括弧の始まり");n==")"&&(f=r?"end of parenthesis indicating the priority of operation":"演算の優先順位を示す括弧の終わり");n==" "&&(f=r?"space":"空白");n=="sin "&&(f="sin &lt;x&gt; : "+(r?"sine":"正弦"));n=="cos "&&(f="cos &lt;x&gt; : "+(r?"cosine":"余弦"));n=="tan "&&(f="tan &lt;x&gt; : "+(r?"tangent":"正接"));n=="asin "&&(f="asin &lt;x&gt; : "+(r?"arc sine":"逆正弦"));n=="acos "&&(f="acos &lt;x&gt; : "+(r?"arc cosine":"逆余弦"));n=="atan "&&(f="atan &lt;x&gt; : "+(r?"arc tangent":"逆正接"));n=="sinh "&&(f="sinh &lt;x&gt; : "+(r?"hyperbolic sine":"双曲線正弦"));n=="cosh "&&(f="cosh &lt;x&gt; : "+(r?"hyperbolic cosine":"双曲線余弦"));n=="tanh "&&(f="tanh &lt;x&gt; : "+(r?"hyperbolic tangent":"双曲線正接"));n=="asinh "&&(f="asinh &lt;x&gt; : "+(r?"inverse hyperbolic sine":"逆双曲線正弦"));n=="acosh "&&(f="acosh &lt;x&gt; : "+(r?"inverse hyperbolic cosine":"逆双曲線余弦"));n=="atanh "&&(f="atanh &lt;x&gt; : "+(r?"inverse hyperbolic tangent":"逆双曲線正接"));n=="ln "&&(f="ln &lt;x&gt; : "+(r?"natural logarithm":"自然対数"));n=="log "&&(f="log &lt;x&gt; : "+(i._calculator?r?"base 10 logarithm":"底10の対数":r?"natural logarithm":"自然対数"));n=="log10 "&&(f="log10 &lt;x&gt; : "+(r?"base 10 logarithm":"底10の対数"));n=="exp "&&(f="exp &lt;x&gt; : "+(r?"exponent":"指数"));n=="exp10 "&&(f="exp10 &lt;x&gt; : "+(r?"base 10 exponent":"底10の指数"));n=="sqr "&&(f="sqr &lt;x&gt; : "+(r?"squared":"自乗"));n=="sqrt "&&(f="sqrt &lt;x&gt; : "+(r?"square root":"平方根"));n=="atan2 "&&(f="atan2 &lt;y&gt; &lt;x&gt; : "+(r?"arc tangent of &lt;y&gt;/&lt;x&gt;":"&lt;y&gt;/&lt;x&gt;の逆正接"));n=="abs "&&(f="abs &lt;x&gt; : "+(r?"absolute value":"絶対値"));n=="ceil "&&(f="ceil &lt;x&gt; : "+(r?"the smallest integer greater than or equal to &lt;x&gt;":"&lt;x&gt;以上の最小の整数"));n=="floor "&&(f="floor &lt;x&gt; : "+(r?"the largest integer less than or equal to &lt;x&gt;":"&lt;x&gt;以下の最大の整数"));n=="int "&&(f="int &lt;x&gt; : "+(r?"integer":"整数"));n=="ldexp "&&(f="ldexp &lt;x&gt; &lt;exp&gt; : "+(r?"calculate real numbers from mantissa &lt;x&gt; and exponent &lt;exp&gt;":"仮数&lt;x&gt;と指数&lt;exp&gt;から実数を計算"));n=="frexp "&&(f="frexp &lt;x&gt; &lt;var_exp&gt; : "+(r?"returns the mantissa of &lt;x&gt;, stores the exponent in &lt;var_exp&gt;":"&lt;x&gt;の仮数を返し、変数&lt;var_exp&gt;に指数を格納"));n=="modf "&&(f="modf &lt;x&gt; &lt;var_int&gt; : "+(r?"returns the fraction part of &lt;x&gt;, stores the integer part in &lt;var_int&gt;":"&lt;x&gt;の小数部を返し、変数&lt;var_int&gt;に整数部を格納"));n=="pow "&&(f="pow &lt;x&gt; &lt;y&gt; : "+(r?"the &lt;y&gt; power of &lt;x&gt;":"&lt;x&gt;の&lt;y&gt;乗"));n=="num "&&(f="num &lt;x&gt; : "+(r?"numerator of fraction":"分数の分子"));n=="denom "&&(f="denom &lt;x&gt; : "+(r?"denominator of fraction":"分数の分母"));n=="real "&&(f="real &lt;x&gt; : "+(r?"real part of complex number":"複素数の実数部"));n=="imag "&&(f="imag &lt;x&gt; : "+(r?"imaginary part of complex number":"複素数の虚数部"));n=="arg "&&(f="arg &lt;x&gt; : "+(r?"phase angle of complex number":"複素数の位相角度"));n=="norm "&&(f="norm &lt;x&gt; : "+(r?"squared absolute value":"絶対値の自乗"));n=="conjg "&&(f="conjg &lt;x&gt; : "+(r?"conjugate complex number":"共役複素数"));n=="polar "&&(f="polar &lt;rho&gt; &lt;t&gt; : "+(r?"complex value of absolute value &lt;rho&gt; and phase angle &lt;t&gt;":"絶対値&lt;rho&gt;、位相角度&lt;t&gt;の複素数値"));n=="rand "&&(f="rand : "+(r?"pseudorandom number":"疑似乱数"));n=="time "&&(f="time : "+(r?"current time":"現在の時刻"));f.length>0&&(document.getElementById(u).innerHTML=f);n.charAt(0)=="!"&&n.charAt(n.length-1)==" "&&(e=n.substring(1,n.length-1),t.usage(e,i,!0))}function getUrlParameter(n){var r="",t=location.href.indexOf("?"+n+"="),i;return t<0&&(t=location.href.indexOf("&"+n+"=")),t>=0&&(t+=n.length+2,i=location.href.indexOf("&",t),i<0&&(i=location.href.length),r=location.href.substring(t,i)),decodeURIComponent(r)}function _RGB(n,t,i){return n>255&&(n=255),t>255&&(t=255),i>255&&(i=255),n<0&&(n=0),t<0&&(t=0),i<0&&(i=0),"#"+intToString(n,16,2)+intToString(t,16,2)+intToString(i,16,2)}function RGB(n,t,i,r){this.r=n;this.g=t;this.b=i;this.f=r==undefined?7:r}function makeColor(n,t,i,r){var s,u;n==COLOR.length-1&&(COLOR[n][0]=parseInt(document.getElementById(t).value),COLOR[n][1]=parseInt(document.getElementById(i).value),COLOR[n][2]=parseInt(document.getElementById(r).value),COLOR[n][3]=0,skinLockR||(COLOR[n][3]+=1),skinLockG||(COLOR[n][3]+=2),skinLockB||(COLOR[n][3]+=4));var e=COLOR[n][0],f=COLOR[n][1],o=COLOR[n][2];COLOR_BG=_RGB(e,f,o);s=0;(COLOR[n][3]&1)!=0&&s++;(COLOR[n][3]&2)!=0&&s++;(COLOR[n][3]&4)!=0&&s++;u=40-8*s;(COLOR[n][3]&1)!=0&&(e+=u);(COLOR[n][3]&2)!=0&&(f+=u);(COLOR[n][3]&4)!=0&&(o+=u);COLOR_LIGHT=new RGB(e,f,o,COLOR[n][3]);(COLOR[n][3]&1)!=0&&(e-=u*2);(COLOR[n][3]&2)!=0&&(f-=u*2);(COLOR[n][3]&4)!=0&&(o-=u*2);COLOR_DARK=new RGB(e,f,o,COLOR[n][3]);COLOR_SYSTEM=COLOR_LIGHT;COLOR_SELECT=COLOR_LIGHT;(COLOR[n][3]&1)!=0&&(e-=u*2);(COLOR[n][3]&2)!=0&&(f-=u*2);(COLOR[n][3]&4)!=0&&(o-=u*2);COLOR_CHECKED=_RGB(e,f,o);IMAGE_CHECKED=e==f&&f==o?_RGB(32,128,176):COLOR_CHECKED}function GraphUI(n,t){this._proc=n;this._param=t;this._curVar=65;this._graph=procGraph();this._gWorld=procGWorld();this._mode=0;this._rectOffsetX=_DIV(this._gWorld._width,2);this._rectOffsetY=_DIV(this._gWorld._height,2);this._rectRatioX=20;this._rectRatioY=-20;this._paramOffsetX=_DIV(this._gWorld._width,2);this._paramOffsetY=_DIV(this._gWorld._height,2);this._paramRatioX=20;this._paramRatioY=-20;this._paramMin=0;this._paramMax=360;this._paramPitch=1;this._polarOffsetX=_DIV(this._gWorld._width,2);this._polarOffsetY=_DIV(this._gWorld._height,2);this._polarRatioX=20;this._polarRatioY=-20;this._polarMin=0;this._polarMax=360;this._polarPitch=1;this._colorBack=11;this._colorScale=12;this._colorUnit=14;this._colorText=15;this._color=4;this._unitX=1;this._unitY=1;this._textX=1;this._textY=1;this._rePlotModeFlag=!0;this._rePlotAngleFlag=!0;this._rePlotWindowFlag=!0;this._tool=0;this._scrollFlag=!1;this._toolX=0;this._toolY=0;this._posX=0;this._posY=0;this._posY2=0;this._endX=0;this._endY=0;this._drawFlag=!1;this._envType=0;this._envOffsetX=0;this._envOffsetY=0;this._envRatioX=0;this._envRatioY=0;this._staticExpr1=new String;this._staticExpr2=new String;this._editExpr1=new String;this._editExpr2=new String;this._staticX=new String;this._staticY1=new String;this._staticY2=new String;this._editX=new String;this._editY1=new String;this._editY2=new String;this._tableX=new String;this._tableY1=new String;this._tableY2=new String;this._editMin=new String;this._editMax=new String;this._editPitch=new String;this._editEnvOffsetX=new String;this._editEnvOffsetY=new String;this._editEnvRatioX=new String;this._editEnvRatioY=new String;this._editEnvLeft=new String;this._editEnvBottom=new String;this._editEnvRight=new String;this._editEnvTop=new String;onGraphInitEnv(this);this.setMode()}function _addGraphEventListener(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent("on"+t,i):n["on"+t]=i}function _addGraphEventListenerById(n,t,i){_addGraphEventListener(document.getElementById(n),t,i)}function _removeGraphEventListener(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent?n.detachEvent("on"+t,i):n["on"+t]=null}function addGraphEvent(n){_graph_event_canvas!=null&&removeGraphEvent();_graph_event_canvas=n;isPC()?(_addGraphEventListener(_graph_event_canvas.element(),"mousedown",_onGraphMouseDown),_addGraphEventListener(_graph_event_canvas.element(),"mousemove",_onGraphMouseMove),_addGraphEventListener(_graph_event_canvas.element(),"mouseout",_onGraphMouseOut),_addGraphEventListener(_graph_event_canvas.element(),"mouseover",_onGraphMouseOver),_addGraphEventListener(_graph_event_canvas.element(),"mouseup",_onGraphMouseUp)):(_addGraphEventListener(document,"touchstart",_onGraphTouchStart),_addGraphEventListener(document,"touchmove",_onGraphTouchMove),_addGraphEventListener(document,"touchend",_onGraphTouchEnd))}function removeGraphEvent(){_graph_event_canvas!=null&&(isPC()?(_removeGraphEventListener(_graph_event_canvas.element(),"mousedown",_onGraphMouseDown),_removeGraphEventListener(_graph_event_canvas.element(),"mousemove",_onGraphMouseMove),_removeGraphEventListener(_graph_event_canvas.element(),"mouseout",_onGraphMouseOut),_removeGraphEventListener(_graph_event_canvas.element(),"mouseover",_onGraphMouseOver),_removeGraphEventListener(_graph_event_canvas.element(),"mouseup",_onGraphMouseUp)):(_removeGraphEventListener(document,"touchstart",_onGraphTouchStart),_removeGraphEventListener(document,"touchmove",_onGraphTouchMove),_removeGraphEventListener(document,"touchend",_onGraphTouchEnd)),_graph_event_canvas=null)}function _getGraphMouse(n){return _graph_event_canvas==null?!1:(_graph_mouse_x=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft-_graph_event_canvas.left(),_graph_mouse_y=n.clientY+document.body.scrollTop+document.documentElement.scrollTop-_graph_event_canvas.top(),!0)}function _onGraphMouseDown(n){_getGraphMouse(n)&&onGraphMouseDown()}function _onGraphMouseMove(n){_getGraphMouse(n)&&onGraphMouseMove()}function _onGraphMouseOut(n){_getGraphMouse(n)&&onGraphMouseOut()}function _onGraphMouseOver(n){_getGraphMouse(n)&&onGraphMouseOver()}function _onGraphMouseUp(n){_getGraphMouse(n)&&onGraphMouseUp()}function graphMouseX(){return _graph_mouse_x}function graphMouseY(){return _graph_mouse_y}function _getGraphTouch(n){if(_graph_event_canvas==null)return!1;_graph_touch_x=[];_graph_touch_y=[];for(var t=0;t<n.touches.length;t++)_graph_touch_x[t]=n.touches[t].pageX-_graph_event_canvas.left(),_graph_touch_y[t]=n.touches[t].pageY-_graph_event_canvas.top();return!0}function _onGraphTouchStart(n){_getGraphTouch(n)&&(_graph_touch_x0=_graph_touch_x[0],_graph_touch_y0=_graph_touch_y[0],_graph_touch_x0>=0&&_graph_touch_x0<_graph_event_canvas.width()&&_graph_touch_y0>=0&&_graph_touch_y0<_graph_event_canvas.height()&&(_graph_touch_start=!0,onGraphTouchStart(),n.preventDefault()))}function _onGraphTouchMove(n){_graph_touch_start&&_getGraphTouch(n)&&(_graph_touch_x0=_graph_touch_x[0],_graph_touch_y0=_graph_touch_y[0],onGraphTouchMove(),n.preventDefault())}function _onGraphTouchEnd(n){_graph_touch_start&&(_graph_touch_start=!1,_getGraphTouch(n)&&(onGraphTouchEnd(),n.preventDefault()))}function graphTouchNum(){return _graph_touch_x.length}function graphTouchX(n){return n<_graph_touch_x.length?_graph_touch_x[n]:_graph_touch_x0}function graphTouchY(n){return n<_graph_touch_y.length?_graph_touch_y[n]:_graph_touch_y0}function NativeRequest(){this.e=document.createElement("iframe");this.e.setAttribute("width",0);this.e.setAttribute("height",0);this.e.setAttribute("style","position:absolute;left:0;top:0");this.e.setAttribute("scrolling","no");this.e.setAttribute("frameborder","no");this.e.setAttribute("src","about:blank");document.body.appendChild(this.e);this.s=""}function initProfile(n){_preference=new _Preference(n)}function setEnableWriteProfile(n){_enable_write_profile=n}function setProfilePrefix(n){_profile_prefix=n}function getProfileString(n,t,i){return _preference.get(_profile_prefix+n+t,i)}function getProfileInt(n,t,i){return parseInt(getProfileString(n,t,""+i))}function getProfileFloat(n,t,i){return parseFloat(getProfileString(n,t,""+i))}function writeProfileString(n,t,i){_enable_write_profile&&_preference.set(_profile_prefix+n+t,i)}function writeProfileInt(n,t,i){writeProfileString(n,t,""+i)}function writeProfileFloat(n,t,i){writeProfileString(n,t,""+i)}function clearProfile(n){_preference.clear(n)}function beginGetProfile(n){_preference.beginRead(_profile_prefix+n)}function getProfile(){return _preference.read()}function endGetProfile(){_preference.endRead()}function beginWriteProfile(){_enable_write_profile&&_preference.beginWrite()}function writeProfile(n){_enable_write_profile&&_preference.write(n)}function endWriteProfile(n){_enable_write_profile&&_preference.endWrite(_profile_prefix+n)}function profileNum(){return _preference.num()}function getProfileKey(n){return _preference.getKey(n)}function doExportProfile(n){for(var f,e=[],r=0,s=profileNum(),t,u,o,i=0;i<s;i++)if(t=getProfileKey(i),t!=null&&t.indexOf(_profile_prefix)==0&&t.indexOf(_profile_prefix+"TMP_")!=0){for(t=t.slice(_profile_prefix.length),t.indexOf("FUNC_")==0?(u=new _String,u.set(getProfileString(t,"","")),u.replace("\\","¥"),u.replace("\t","\\t"),u.replace("\r","\\r"),u.replace("\n","\\n"),e[r]=t+"="+u.str()):e[r]=t+"="+getProfileString(t,"",""),f=0;f<r;f++)if(e[f]==e[r])break;f>=r&&r++}for(o=new String,i=0;i<r;i++)o+=e[i]+"\n";document.getElementById(n).value=o;doButtonUIProfile(!0)}function splitData(n){for(var f=n.length,u,e,t,i,r;f>0;){if(!isCharEnter(n,f-1))break;f--}if(n=n.substr(0,f),u=new _String(n),u.replaceNewLine(),u.str().indexOf("\n")<0)return e=[],e[0]=u.str(),e;for(t=u.str().split("\n"),i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)if(!isCharSpace(t[i],r)&&t[i].charAt(r)!="\t"){t[i]=t[i].slice(r);break}return t}function doImportProfile(n){for(var o,v,i,s,p,l,u,f,c,y,e,h=0;;h++)if(c=getProfileString("IMAGE_PATH_",""+(h+1),""),c.length==0)break;for(p=document.getElementById(n).value,l=splitData(p),o=0;o<l.length;o++)if(v=l[o].indexOf("="),v>0){for(var r=l[o].substring(0,v),t=l[o].slice(v+1),a=t.length;a>0;){if(!isCharSpace(t,a-1)&&t.charAt(a-1)!="\t")break;a--}if(t=t.substr(0,a),r.indexOf("FUNC_")==0)u=new _String,u.set(t),u.replace("\\t","\t"),u.replace("\\r","\r"),u.replace("\\n","\n"),u.replace("¥","\\"),t=u.str();else if(r=="IMAGE_"){for(f=new String,i=0;i<t.length;i++){if(c=""+t.charAt(i),c=="%"&&i<=t.length-3&&t.charAt(i+1)=="7"&&t.charAt(i+2)=="B"){for(s=i+3;s<t.length;s++)if(t.charAt(s)=="%")break;s-(i+3)>0&&(e=""+(parseInt(t.substring(i+3,s))+h),c="%7B"+e,i+=2+e.length)}f+=c}y=getProfileString(r,"","");f.length==0?f=y:y.length>0&&(f=y+"&"+f);t=f}else r.indexOf("IMAGE_PATH_")==0?(e=""+(parseInt(r.slice(11))+h),r="IMAGE_PATH_"+e):r.indexOf("IMAGE_")==0&&(e=""+(parseInt(r.slice(6))+h),r="IMAGE_"+e);writeProfileString(r,"",t)}location.replace("index.html?menu=option")}function doClearStorage(n){canUseStorage()&&(document.getElementById(n).disabled=!0,clearStorage(_profile_prefix+"TMP_"),electron!=null&&electron.clearExtFunc(),location.replace("index.html?menu=option"))}function doClearCookie(n){canUseCookie()&&(document.getElementById(n).disabled=!0,clearCookie(_profile_prefix+"TMP_"),electron!=null&&electron.clearExtFunc(),location.replace("index.html?menu=option"))}function Electron(n){this._main=n;try{this._extfunc=JSON.parse(this._main.fs.readFileSync(this._main.extFuncCachePath,"utf8"))}catch(t){this._extfunc={}}this._extfunc_update=!1;this._extfunc_val="";this._extfunc_s=0;this._extfunc_str=""}function colorBackAlpha(){if(skin==7)switch(skinTrans){case 0:return 0;case 1:return _INT(255*.1);case 2:return _INT(255*.2);case 3:return _INT(255*.3);case 4:return _INT(255*.4);case 5:return _INT(255*.5)}return 255}function isAndroidTablet(){return androidTabletTest||common.isAndroidTablet()}function isIPad(){return iPadTest||common.isIPad()}function main(n,t,i,r,u,f,e,o){var c,h,s,l,a,v,y,p,w;defGWorldFunction();defProcFunction();con=new _Console(i);con.setMaxLen(conMaxLen);try{electron=new Electron(require("electron").remote.require("./electron"))}catch(b){electron=null}for(common=new Common,con.println("ClipGraph"+consoleBreak()+"Copyright (C) SatisKia"),con.setColor("0000ff"),dispUserAgent&&(con.setBold(!0),con.print("UserAgent: "),con.setBold(!1),con.println(window.navigator.userAgent)),electron!=null?(con.setBold(!0),con.print("Platform: "),con.setBold(!1),con.println(electron.platform())):(con.setBold(!0),con.print("App: "),con.setBold(!1),con.println(common.isApp()?"true":"false")),con.setColor(),(common.isIPhone()||common.isIPad())&&(document.documentElement.addEventListener("touchstart",function(n){n.touches.length>1&&n.preventDefault()},!0),document.documentElement.addEventListener("touchend",function(n){var t=(new Date).getTime();t-lastTouchEnd<=500&&n.preventDefault();lastTouchEnd=t},!0),common.isApp()&&(useStorage=!1)),initProfile(useStorage),setProfilePrefix("_CLIPGRAPH_"),(isAndroidTablet()||isIPad())&&(cssSetPropertyValue(".div_body","width","357px"),cssSetPropertyValue(".div_body","height","471px"),cssSetPropertyValue(".div_selectimage","height","387px"),cssSetPropertyValue(".textarea_profile","height","415px")),skin=getProfileInt("ENV_","Skin",0),skin>7&&(skin=7),skinColor=getProfileInt("ENV_","SkinColor",0),skinColor>=COLOR.length&&(skinColor=0),document.getElementById("graph_edit_r").value=getProfileInt("ENV_","SkinColorR",161),document.getElementById("graph_edit_g").value=getProfileInt("ENV_","SkinColorG",161),document.getElementById("graph_edit_b").value=getProfileInt("ENV_","SkinColorB",161),skinLockR=getProfileInt("ENV_","SkinLockR",0)==1,skinLockG=getProfileInt("ENV_","SkinLockG",0)==1,skinLockB=getProfileInt("ENV_","SkinLockB",0)==1,document.getElementById("check_color_r").checked=skinLockR,document.getElementById("check_color_g").checked=skinLockG,document.getElementById("check_color_b").checked=skinLockB,skinTrans=getProfileInt("ENV_","SkinTrans",0),skinTrans>5&&(skin=0),skinImage=getProfileString("ENV_","SkinImage",""),document.getElementById("graph_edit_skin_image").value=skinImage,document.getElementById("graph_edit_x").value=getProfileString("ENV_","SkinImageX","50"),document.getElementById("graph_edit_y").value=getProfileString("ENV_","SkinImageY","50"),makeColor(skinColor,"graph_edit_r","graph_edit_g","graph_edit_b"),updateSkin(),initSelect("graph_select_skin",skin),initSelect("graph_select_skin_color",skinColor),initSelect("graph_select_skin_trans",skinTrans),cssSetStyleDisplayById("graph_select_skin_color",skin==6),cssSetStyleDisplayById("graph_select_skin_trans",skin==7),cssSetStyleDisplayById("input_skin_color",skin==6&&skinColor==COLOR.length-1),cssSetStyleDisplayById("input_skin_image",skin==7),fontSpan=getProfileString("ENV_","FontSpan","Helvetica"),fontEdit=getProfileString("ENV_","FontEdit","Courier New"),updateFont(),usageFlag=getProfileInt("ENV_","PrintUsage",1)==1,updateButtonHeight(),englishFlag=getProfileInt("ENV_","Language",0)==1,updateLanguage(),divEdit=document.getElementById(n),divLog=document.getElementById(t),divTable=document.getElementById(r),divSelectImage=document.getElementById(u),inputVars=document.getElementsByName("graph_edit_var"),regGWorldDefCharInfo(0),setCanvasEnv(new _CanvasEnv),canvas=new _Canvas(f),inputFile=[],c=0;c<e.length;c++)inputFile[c]=new _InputFile(e[c]);for(procError=new _ProcError,editExpr[0]=[],editExpr[0][0]=new EditExpr(1),editExpr[0][0].setDispLen(26,8),editExpr[0][1]=new EditExpr(2),editExpr[0][1].setDispLen(26,8),logExpr=new ListBox,logExpr.setLineNum(12),listTable[0]=new ListBox,listTable[0].setLineNum(19),listImage=new ListBox,listImage.setLineNum(isAndroidTablet()||isIPad()?19:21),setProcEnv(new _ProcEnv),topProc=new _Proc(_PROC_DEF_PARENT_MODE,_PROC_DEF_PRINT_ASSERT,_PROC_DEF_PRINT_WARN,_PROC_DEF_GUPDATE_FLAG),topProc._printAns=!0,setProcWarnFlowFlag(!1),setProcLoopMax(loopMax),topParam=new _Param,topParam.setMode(_CLIP_MODE_G_COMPLEX),topParam.setPrec(0),topParam._enableCommand=!1,topParam._enableOpPow=!0,topParam._enableStat=!1,setGlobalParam(topParam),srand(time()),rand(),procGWorld().create(canvas.width(),canvas.height(),!0),graphUI=new GraphUI(topProc,topParam),updateLogButton(),h=COLOR_WIN[graphUI.indexToColor(0)],cssSetPropertyValue(".button_color_00","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(1)],cssSetPropertyValue(".button_color_01","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(2)],cssSetPropertyValue(".button_color_02","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(3)],cssSetPropertyValue(".button_color_03","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(4)],cssSetPropertyValue(".button_color_04","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(5)],cssSetPropertyValue(".button_color_05","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(6)],cssSetPropertyValue(".button_color_06","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(7)],cssSetPropertyValue(".button_color_07","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(8)],cssSetPropertyValue(".button_color_08","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(9)],cssSetPropertyValue(".button_color_09","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(10)],cssSetPropertyValue(".button_color_10","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(11)],cssSetPropertyValue(".button_color_11","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(12)],cssSetPropertyValue(".button_color_12","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(13)],cssSetPropertyValue(".button_color_13","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(14)],cssSetPropertyValue(".button_color_14","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),h=COLOR_WIN[graphUI.indexToColor(15)],cssSetPropertyValue(".button_color_15","background-color",_RGB(h&255,(h&65280)>>8,(h&16711680)>>16)),updateButtonColorBack(),updateButtonColorScale(),updateButtonColorUnit(),updateButtonColorText(),updateButtonColorGraph(),getProfileExpr(),updateEditExpr(),getProfileLogExpr(),changeExprVar(),getProfileVar(),updateSelectVar(),getProfileTable(),updateListTable(graphUI),getProfileImage(),selListImage(skinImage,document.getElementById("graph_edit_x").value,document.getElementById("graph_edit_y").value),updateGraphRadioTool(),updateGraphRadioMode(),updateGraphRadioAngType(),updateGraphEditScreen(),updateGraphRadioEnvType(),doButtonUIGraph(),initSelect("graph_select_mode",graphUI._mode),initSelect("graph_select_var",0),document.getElementById("check_replot_mode").checked=graphUI.rePlotModeFlag(),document.getElementById("check_replot_angle").checked=graphUI.rePlotAngleFlag(),document.getElementById("check_replot_window").checked=graphUI.rePlotWindowFlag(),document.getElementById("check_print_usage").checked=usageFlag,document.getElementById("check_calculator").checked=topParam._calculator,s=common.isPC()?"mousedown":"touchstart",_addGraphEventListenerById("button_zoom_in",s,doGraphZoomIn),_addGraphEventListenerById("button_zoom_out",s,doGraphZoomOut),_addGraphEventListenerById("button_draw",s,doGraphDraw),_addGraphEventListenerById("button_clear",s,doGraphClear),_addGraphEventListenerById("button_cursor_top",s,topEditExpr),_addGraphEventListenerById("button_cursor_end",s,endEditExpr),_addGraphEventListenerById("button_cursor_backward",s,backwardEditExpr),_addGraphEventListenerById("button_cursor_forward",s,forwardEditExpr),_addGraphEventListenerById("button_del",s,delEditExpr),_addGraphEventListenerById("button_del_all",s,delAllEditExpr),_addGraphEventListenerById("button_0",s,doButton0),_addGraphEventListenerById("button_1",s,doButton1),_addGraphEventListenerById("button_2",s,doButton2),_addGraphEventListenerById("button_3",s,doButton3),_addGraphEventListenerById("button_4",s,doButton4),_addGraphEventListenerById("button_5",s,doButton5),_addGraphEventListenerById("button_6",s,doButton6),_addGraphEventListenerById("button_7",s,doButton7),_addGraphEventListenerById("button_8",s,doButton8),_addGraphEventListenerById("button_9",s,doButton9),_addGraphEventListenerById("button_point",s,doButtonPoint),_addGraphEventListenerById("button_plus",s,doButtonPlus),_addGraphEventListenerById("button_minus",s,doButtonMinus),_addGraphEventListenerById("button_space",s,doButtonSpace),_addGraphEventListenerById("button_eplus",s,doButtonEPlus),_addGraphEventListenerById("button_eminus",s,doButtonEMinus),_addGraphEventListenerById("button_i",s,doButtonI),_addGraphEventListenerById("button_mul",s,doButtonMul),_addGraphEventListenerById("button_div",s,doButtonDiv),_addGraphEventListenerById("button_mod",s,doButtonMod),_addGraphEventListenerById("button_add",s,doButtonAdd),_addGraphEventListenerById("button_sub",s,doButtonSub),_addGraphEventListenerById("button_unary_minus",s,doButtonUnaryMinus),_addGraphEventListenerById("button_pow",s,doButtonPow),l=document.getElementsByName("button_shift"),c=0;c<l.length;c++)_addGraphEventListener(l[c],"click",doButtonSHIFT);for(_addGraphEventListenerById("button_enter","click",doButtonEnter),_addGraphEventListenerById("button_log","click",doButtonLog),_addGraphEventListenerById("button_log10","click",doButtonLog10),l=document.getElementsByName("button_func"),c=0;c<l.length;c++)_addGraphEventListener(l[c],"click",doButtonFunc);if(_addGraphEventListenerById("button_var",s,doButtonVar),_addGraphEventListenerById("button_rcl",s,doButtonRCL),_addGraphEventListenerById("button_top",s,doButtonTop),_addGraphEventListenerById("button_end",s,doButtonEnd),_addGraphEventListenerById("button_sto",s,doButtonSTO),_addGraphEventListenerById("button_lang","click",doButtonLang),_addGraphEventListenerById("button_log_up",s,upLogExpr),_addGraphEventListenerById("button_log_down",s,downLogExpr),_addGraphEventListenerById("button_log_del",s,delLogExpr),_addGraphEventListenerById("button_table_up",s,upListTable),_addGraphEventListenerById("button_table_down",s,downListTable),_addGraphEventListenerById("button_table_del",s,delListTable),_addGraphEventListenerById("button_edit_min_up",s,doButtonEditMinUp),_addGraphEventListenerById("button_edit_min_down",s,doButtonEditMinDown),_addGraphEventListenerById("button_edit_max_up",s,doButtonEditMaxUp),_addGraphEventListenerById("button_edit_max_down",s,doButtonEditMaxDown),_addGraphEventListenerById("button_edit_pitch_up",s,doButtonEditPitchUp),_addGraphEventListenerById("button_edit_pitch_down",s,doButtonEditPitchDown),_addGraphEventListenerById("button_edit_offset_x_up",s,doButtonEditOffsetXUp),_addGraphEventListenerById("button_edit_offset_x_down",s,doButtonEditOffsetXDown),_addGraphEventListenerById("button_edit_offset_y_up",s,doButtonEditOffsetYUp),_addGraphEventListenerById("button_edit_offset_y_down",s,doButtonEditOffsetYDown),_addGraphEventListenerById("button_edit_ratio_x_up",s,doButtonEditRatioXUp),_addGraphEventListenerById("button_edit_ratio_x_down",s,doButtonEditRatioXDown),_addGraphEventListenerById("button_edit_ratio_y_up",s,doButtonEditRatioYUp),_addGraphEventListenerById("button_edit_ratio_y_down",s,doButtonEditRatioYDown),_addGraphEventListenerById("button_edit_left_up",s,doButtonEditLeftUp),_addGraphEventListenerById("button_edit_left_down",s,doButtonEditLeftDown),_addGraphEventListenerById("button_edit_bottom_up",s,doButtonEditBottomUp),_addGraphEventListenerById("button_edit_bottom_down",s,doButtonEditBottomDown),_addGraphEventListenerById("button_edit_right_up",s,doButtonEditRightUp),_addGraphEventListenerById("button_edit_right_down",s,doButtonEditRightDown),_addGraphEventListenerById("button_edit_top_up",s,doButtonEditTopUp),_addGraphEventListenerById("button_edit_top_down",s,doButtonEditTopDown),_addGraphEventListenerById("button_edit_unit_x_up",s,doButtonEditUnitXUp),_addGraphEventListenerById("button_edit_unit_x_down",s,doButtonEditUnitXDown),_addGraphEventListenerById("button_edit_unit_y_up",s,doButtonEditUnitYUp),_addGraphEventListenerById("button_edit_unit_y_down",s,doButtonEditUnitYDown),_addGraphEventListenerById("button_edit_text_x_up",s,doButtonEditTextXUp),_addGraphEventListenerById("button_edit_text_x_down",s,doButtonEditTextXDown),_addGraphEventListenerById("button_edit_text_y_up",s,doButtonEditTextYUp),_addGraphEventListenerById("button_edit_text_y_down",s,doButtonEditTextYDown),_addGraphEventListenerById("button_edit_r_up",s,doButtonEditRUp),_addGraphEventListenerById("button_edit_r_down",s,doButtonEditRDown),_addGraphEventListenerById("button_edit_g_up",s,doButtonEditGUp),_addGraphEventListenerById("button_edit_g_down",s,doButtonEditGDown),_addGraphEventListenerById("button_edit_b_up",s,doButtonEditBUp),_addGraphEventListenerById("button_edit_b_down",s,doButtonEditBDown),_addGraphEventListenerById("button_edit_x_up",s,doButtonEditXUp),_addGraphEventListenerById("button_edit_x_down",s,doButtonEditXDown),_addGraphEventListenerById("button_edit_y_up",s,doButtonEditYUp),_addGraphEventListenerById("button_edit_y_down",s,doButtonEditYDown),_addGraphEventListenerById("button_selectimage_up",s,upListImage),_addGraphEventListenerById("button_selectimage_down",s,downListImage),_addGraphEventListenerById("button_selectimage_del",s,delListImage),_addGraphEventListenerById("button_edit_tab_up",s,doButtonEditTabUp),_addGraphEventListenerById("button_edit_tab_down",s,doButtonEditTabDown),common.isPC()&&(cssSetStyleDisplayById("graph_ui_var_2",!0),cssSetStyleDisplayById("graph_ui_var_change",!1)),common.isApp()||(useStorage&&canUseStorage()?cssSetStyleDisplayById("button_storage_clear",!0):canUseCookie()&&cssSetStyleDisplayById("button_cookie_clear",!0)),getUrlParameter("menu")=="option"&&doButtonUIOption(),dispCache){if(canUseStorage())for(a=storageNum(),con.setColor("0000ff"),con.setBold(!0),con.print("Storage: "),con.setBold(!1),con.println(""+a),con.setColor(),c=0;c<a;c++)v=getStorageKey(c),con.print("<b>["+v+"]<\/b> "),con.println(common.escape(getStorage(v,"")));if(canUseCookie())for(a=cookieNum(),con.setColor("0000ff"),con.setBold(!0),con.print("Cookie: "),con.setBold(!1),con.println(""+a),con.setColor(),c=0;c<a;c++)v=getCookieKey(c),con.print("<b>["+v+"]<\/b> "),con.println(common.escape(getCookie(v,"")))}for(loadExtFuncFile(),c=0;c<extFuncFile.length;c++)y=extFuncName(extFuncFile[c]),y.length>0&&regExtFuncButton(y);for(loadExtFuncFile2(),c=0;c<extFuncFile2.length;c++)y=extFuncName(extFuncFile2[c]),y.length>0&&regExtFuncButton(y);editor=new _Editor(o);p=getProfileInt("EDITOR_","Tab",4);p<0&&(p=0);document.getElementById("tab_width").value=""+p;cssSetPropertyValue(".textarea_func","tab-size",""+p);w=getProfileInt("EDITOR_","Smart",1)==1;document.getElementById("check_smart").checked=w;setEditorSmartFlag(w);selFunc=getProfileInt("EDITOR_","SelFunc",0);initSelect("graph_select_func",selFunc);curFunc=document.getElementById("graph_select_func").options[selFunc].value;loadFunc();updateSelectFunc();setEnableWriteProfile(!0);resetCalculator&&(changeExpr(),writeProfileInt("ENV_","Calculator",topParam._calculator?1:0));started=!0;common.isPC()||(nativeRequest=new NativeRequest,nativeRequest.setScheme("native"),nativeRequest.send("start_load_extfunc/"+extFuncFile[loadNum]));electron!=null&&setEnglish(electron.isEnglish());(androidTabletTest||iPadTest||bodyHeight!=defHeight(!1))&&setHeight(bodyHeight)}function setDeviceWidth(n){if(isAndroidTablet()&&document.querySelector("meta[name='viewport']").setAttribute("content","target-densitydpi=device-dpi, width=357, user-scalable=no"),isIPad()){var t=""+n/357;t=t.substring(0,5);document.querySelector("meta[name='viewport']").setAttribute("content","target-densitydpi=device-dpi, width=357, initial-scale="+t+", maximum-scale="+t+", user-scalable=no")}}function defHeight(n){var t=isAndroidTablet()||isIPad()?471:510;return n&&!usageFlag&&(t-=51),t}function updateButtonHeight(){if(bodyHeight>=defHeight(!0)){var n=35+_DIV(bodyHeight-defHeight(!0),7);cssSetPropertyValue(".height35","height",""+n+"px");document.getElementById("td_calculator").setAttribute("height",""+n)}}function setHeight(n){var i,t;bodyHeight=n;started=!1;con.setColor("0000ff");con.setBold(!0);con.print("Height: ");con.setBold(!1);con.println(""+bodyHeight);con.setColor();started=!0;bodyHeight>defHeight(!1)&&(cssSetPropertyValue(".div_body","height",""+bodyHeight+"px"),i=280+(bodyHeight-defHeight(!1)),cssSetPropertyValue(".div_gworld","height",""+i+"px"),canvas.element().setAttribute("height",""+i),procGWorld().create(canvas.width(),canvas.height(),!1),graphUI.redraw());updateButtonHeight();t=0;isAndroidTablet()?t=bodyHeight-227:!androidTabletTest&&common.isAndroidMobile()?t=bodyHeight-294:isIPad()?t=bodyHeight-145:!iPadTest&&common.isIPhone()&&(t=bodyHeight-261);t>0&&cssSetPropertyValue(".textarea_func","height",""+t+"px")}function updateSkin(){var t=document.getElementById("graph_body"),n;t.classList.remove("bg_gold");t.classList.remove("bg_silver");t.classList.remove("bg_iron");t.classList.remove("bg_image");switch(skin){case 0:document.getElementById("button_enter").innerHTML="<img src='draw.png' width='20' height='20'>";cssSetPropertyValue(".div_body","background-color",GREEN_BG);cssSetButton(".button_common","linear,left top,left bottom",GREEN_GRAY.get(16),GREEN_GRAY.get(-16),"#000000","#E0E0E0",!0);cssSetButton(".button_cursor","linear,left top,left bottom",GREEN_GRAY.get(16),GREEN_GRAY.get(-16),"#000000","#E0E0E0",!0);cssSetButton(".button_menu","linear,left top,left bottom",GREEN_GRAY.get(16),GREEN_GRAY.get(-16),"#000000","#E0E0E0",!0);cssSetButton(".button_menu2","linear,left top,left bottom",GREEN_GRAY.get(16),GREEN_GRAY.get(-16),"#000000","#E0E0E0",!0);cssSetButton(".button_shift","linear,left top,left bottom",GREEN_GRAY.get(16),GREEN_GRAY.get(-16),"#000000","#E0E0E0",!0);cssSetButton(".button_topend","linear,left top,left bottom",GREEN_GRAY.get(16),GREEN_GRAY.get(-16),"#000000","#E0E0E0",!0);cssSetButton(".button_del","linear,left top,left bottom",GREEN_RED.get(16),GREEN_RED.get(-16),GREEN_TEXT,"#404040",!1);cssSetButton(".button_rcl","linear,left top,left bottom",GREEN_BLUE.get(16),GREEN_BLUE.get(-16),GREEN_TEXT,"#404040",!1);cssSetButton(".button_var","linear,left top,left bottom",GREEN_BLUE.get(16),GREEN_BLUE.get(-16),GREEN_TEXT,"#404040",!1);cssSetButton(".button_enter","linear,left top,left bottom",GREEN_EMERALD.get(16),GREEN_EMERALD.get(-16),GREEN_TEXT,"#404040",!1);cssSetButton(".button_func","linear,left top,left bottom",GREEN_LIGHT.get(16),GREEN_LIGHT.get(-16),GREEN_TEXT,"#404040",!1);cssSetButton(".button_number","linear,left top,left bottom",GREEN_DARK.get(16),GREEN_DARK.get(-16),GREEN_TEXT,"#202020",!1);cssSetButton(".button_op","linear,left top,left bottom",GREEN_LIGHT.get(16),GREEN_LIGHT.get(-16),GREEN_TEXT,"#404040",!1);cssSetButton(".button_symbol","linear,left top,left bottom",GREEN_LIGHT.get(16),GREEN_LIGHT.get(-16),GREEN_TEXT,"#404040",!1);cssSetSelect(".select_common","linear,left top,left bottom",GREEN_SELECT.get(16),GREEN_SELECT.get(-16),"#000000","",!0);cssSetSelect(".select_var","linear,left top,left bottom",GREEN_SELECT.get(16),GREEN_SELECT.get(-16),"#000000","",!0);cssSetSelect(".select_func","linear,left top,left bottom",GREEN_SELECT.get(16),GREEN_SELECT.get(-16),"#000000","",!0);cssSetPropertyValue(".span","color",GREEN_SPAN);cssSetPropertyValue(".span_expr","color",GREEN_SPAN);cssSetPropertyValue(".div_usage","color",GREEN_SPAN);cssSetPropertyValue(".span","text-shadow","0 0");cssSetPropertyValue(".span_expr","text-shadow","0 0");cssSetPropertyValue(".div_usage","text-shadow","0 0");cssSetPropertyValue('input[type="checkbox"]:checked + label::after',"background",GREEN_CHECKED);cssSetPropertyValue('input[type="radio"]:checked + label::after',"background",GREEN_CHECKED);cssSetPropertyValue(".button_color:disabled","border","3px solid "+GREEN_CHECKED);cssSetPropertyValue(".div_edit","background-color","#FFFFFF");cssSetPropertyValue(".input_expr","background-color","#FFFFFF");cssSetPropertyValue(".div_log","background-color","#FFFFFF");cssSetPropertyValue(".div_table","background-color","#FFFFFF");cssSetPropertyValue(".div_selectimage","background-color","#FFFFFF");cssSetPropertyValue(".div_console","background-color","#C0C0C0");cursorText="#FFFFFF";cursorBack=GREEN_CHECKED;break;case 1:document.getElementById("button_enter").innerHTML="<img src='draw.png' width='20' height='20'>";cssSetPropertyValue(".div_body","background-color",GRAY_BG);cssSetButton(".button_common","linear,left top,left bottom",GRAY_SYSTEM.get(-32),GRAY_SYSTEM.get(32),"#000000","#E0E0E0",!0);cssSetButton(".button_cursor","linear,left top,left bottom",GRAY_SYSTEM.get(-32),GRAY_SYSTEM.get(32),"#000000","#E0E0E0",!0);cssSetButton(".button_menu","linear,left top,left bottom",GRAY_SYSTEM.get(-32),GRAY_SYSTEM.get(32),"#000000","#E0E0E0",!0);cssSetButton(".button_menu2","linear,left top,left bottom",GRAY_SYSTEM.get(-32),GRAY_SYSTEM.get(32),"#000000","#E0E0E0",!0);cssSetButton(".button_shift","linear,left top,left bottom",GRAY_SYSTEM.get(-32),GRAY_SYSTEM.get(32),"#000000","#E0E0E0",!0);cssSetButton(".button_topend","linear,left top,right bottom",GRAY_DARK_1,GRAY_DARK_2,GRAY_TEXT,"#202020",!1);cssSetButton(".button_del","linear,left top,left bottom",GRAY_RED_1,GRAY_RED_2,GRAY_TEXT,"#404040",!1);cssSetButton(".button_rcl","linear,left top,right bottom",GRAY_RED_1,GRAY_RED_2,GRAY_TEXT,"#404040",!1);cssSetButton(".button_var","linear,left top,right bottom",GRAY_RED_1,GRAY_RED_2,GRAY_TEXT,"#404040",!1);cssSetButton(".button_enter","linear,left top,right bottom",GRAY_RED_1,GRAY_RED_2,GRAY_TEXT,"#404040",!1);cssSetButton(".button_func","linear,left top,right bottom",GRAY_DARK_1,GRAY_DARK_2,GRAY_TEXT,"#202020",!1);cssSetButton(".button_number","linear,left top,right bottom",GRAY_LIGHT_1,GRAY_LIGHT_2,GRAY_TEXT,"#404040",!1);cssSetButton(".button_op","linear,left top,right bottom",GRAY_DARK_1,GRAY_DARK_2,GRAY_TEXT,"#202020",!1);cssSetButton(".button_symbol","linear,left top,right bottom",GRAY_DARK_1,GRAY_DARK_2,GRAY_TEXT,"#202020",!1);cssSetSelect(".select_common","linear,left top,left bottom",GRAY_SELECT.get(32),GRAY_SELECT.get(-32),"#000000","",!0);cssSetSelect(".select_var","linear,left top,left bottom",GRAY_SELECT.get(32),GRAY_SELECT.get(-32),"#000000","",!0);cssSetSelect(".select_func","linear,left top,left bottom",GRAY_SELECT.get(32),GRAY_SELECT.get(-32),"#000000","",!0);cssSetPropertyValue(".span","color",GRAY_SPAN);cssSetPropertyValue(".span_expr","color",GRAY_SPAN);cssSetPropertyValue(".div_usage","color",GRAY_SPAN);cssSetPropertyValue(".span","text-shadow","0 0");cssSetPropertyValue(".span_expr","text-shadow","0 0");cssSetPropertyValue(".div_usage","text-shadow","0 0");cssSetPropertyValue('input[type="checkbox"]:checked + label::after',"background",GRAY_CHECKED);cssSetPropertyValue('input[type="radio"]:checked + label::after',"background",GRAY_CHECKED);cssSetPropertyValue(".button_color:disabled","border","3px solid "+GRAY_CHECKED);cssSetPropertyValue(".div_edit","background-color","#FFFFFF");cssSetPropertyValue(".input_expr","background-color","#FFFFFF");cssSetPropertyValue(".div_log","background-color","#FFFFFF");cssSetPropertyValue(".div_table","background-color","#FFFFFF");cssSetPropertyValue(".div_selectimage","background-color","#FFFFFF");cssSetPropertyValue(".div_console","background-color","#C0C0C0");cursorText="#FFFFFF";cursorBack=GRAY_CHECKED;break;case 2:document.getElementById("button_enter").innerHTML="<img src='draw.png' width='20' height='20'>";cssSetPropertyValue(".div_body","background-color",PURPLE_BG);cssSetButton(".button_common","linear,left top,left bottom",PURPLE_GRAY_1,PURPLE_GRAY_2,"#000000","#E0E0E0",!0);cssSetButton(".button_cursor","linear,left top,left bottom",PURPLE_GRAY_1,PURPLE_GRAY_2,"#000000","#E0E0E0",!0);cssSetButton(".button_menu","linear,left top,left bottom",PURPLE_GRAY_1,PURPLE_GRAY_2,"#000000","#E0E0E0",!0);cssSetButton(".button_menu2","linear,left top,left bottom",PURPLE_GRAY_1,PURPLE_GRAY_2,"#000000","#E0E0E0",!0);cssSetButton(".button_shift","linear,left top,left bottom",PURPLE_GRAY_1,PURPLE_GRAY_2,"#000000","#E0E0E0",!0);cssSetButton(".button_topend","linear,left top,left bottom",PURPLE_BLUE_1,PURPLE_BLUE_2,PURPLE_TEXT,"#202020",!1);cssSetButton(".button_del","linear,left top,left bottom",PURPLE_GRAY_1,PURPLE_GRAY_2,"#000000","#E0E0E0",!0);cssSetButton(".button_rcl","linear,left top,left bottom",PURPLE_GRAY_1,PURPLE_GRAY_2,"#000000","#E0E0E0",!0);cssSetButton(".button_var","linear,left top,left bottom",PURPLE_GRAY_1,PURPLE_GRAY_2,"#000000","#E0E0E0",!0);cssSetButton(".button_enter","linear,left top,left bottom",PURPLE_BLUE_1,PURPLE_BLUE_2,PURPLE_TEXT,"#202020",!1);cssSetButton(".button_func","linear,left top,left bottom",PURPLE_BLUE_1,PURPLE_BLUE_2,PURPLE_TEXT,"#202020",!1);cssSetButton(".button_number","linear,left top,left bottom",PURPLE_BLUE_1,PURPLE_BLUE_2,PURPLE_TEXT,"#202020",!1);cssSetButton(".button_op","linear,left top,left bottom",PURPLE_BLUE_1,PURPLE_BLUE_2,PURPLE_TEXT,"#202020",!1);cssSetButton(".button_symbol","linear,left top,left bottom",PURPLE_BLUE_1,PURPLE_BLUE_2,PURPLE_TEXT,"#202020",!1);cssSetSelect(".select_common","linear,left top,left bottom",PURPLE_SELECT.get(32),PURPLE_SELECT.get(-32),"#000000","",!0);cssSetSelect(".select_var","linear,left top,left bottom",PURPLE_SELECT.get(32),PURPLE_SELECT.get(-32),"#000000","",!0);cssSetSelect(".select_func","linear,left top,left bottom",PURPLE_SELECT.get(32),PURPLE_SELECT.get(-32),"#000000","",!0);cssSetPropertyValue(".span","color",PURPLE_SPAN);cssSetPropertyValue(".span_expr","color",PURPLE_SPAN);cssSetPropertyValue(".div_usage","color",PURPLE_SPAN);cssSetPropertyValue(".span","text-shadow","0 0");cssSetPropertyValue(".span_expr","text-shadow","0 0");cssSetPropertyValue(".div_usage","text-shadow","0 0");cssSetPropertyValue('input[type="checkbox"]:checked + label::after',"background",PURPLE_CHECKED);cssSetPropertyValue('input[type="radio"]:checked + label::after',"background",PURPLE_CHECKED);cssSetPropertyValue(".button_color:disabled","border","3px solid "+PURPLE_CHECKED);cssSetPropertyValue(".div_edit","background-color","#FFFFFF");cssSetPropertyValue(".input_expr","background-color","#FFFFFF");cssSetPropertyValue(".div_log","background-color","#FFFFFF");cssSetPropertyValue(".div_table","background-color","#FFFFFF");cssSetPropertyValue(".div_selectimage","background-color","#FFFFFF");cssSetPropertyValue(".div_console","background-color","#C0C0C0");cursorText="#FFFFFF";cursorBack=PURPLE_CHECKED;break;case 3:case 4:case 5:document.getElementById("button_enter").innerHTML="<img src='draw_r.png' width='20' height='20'>";switch(skin){case 3:document.getElementById("graph_body").classList.add("bg_gold");cssSetPropertyValue('input[type="checkbox"]:checked + label::after',"background",GOLD_CHECKED);cssSetPropertyValue('input[type="radio"]:checked + label::after',"background",GOLD_CHECKED);cssSetPropertyValue(".button_color:disabled","border","3px solid "+GOLD_CHECKED);cursorText="#FFFFFF";cursorBack=GOLD_CHECKED;break;case 4:document.getElementById("graph_body").classList.add("bg_silver");cssSetPropertyValue('input[type="checkbox"]:checked + label::after',"background",SILVER_CHECKED);cssSetPropertyValue('input[type="radio"]:checked + label::after',"background",SILVER_CHECKED);cssSetPropertyValue(".button_color:disabled","border","3px solid "+SILVER_CHECKED);cursorText="#FFFFFF";cursorBack=SILVER_CHECKED;break;case 5:document.getElementById("graph_body").classList.add("bg_iron");cssSetPropertyValue('input[type="checkbox"]:checked + label::after',"background",IRON_CHECKED);cssSetPropertyValue('input[type="radio"]:checked + label::after',"background",IRON_CHECKED);cssSetPropertyValue(".button_color:disabled","border","3px solid "+IRON_CHECKED);cursorText="#FFFFFF";cursorBack=IRON_CHECKED}cssSetButton(".button_common","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetButton(".button_cursor","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetButton(".button_menu","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetButton(".button_menu2","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetButton(".button_shift","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetButton(".button_topend","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetButton(".button_del","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#FF0000","#A0A0A0",!1);cssSetButton(".button_rcl","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#FF0000","#A0A0A0",!1);cssSetButton(".button_var","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#FF0000","#A0A0A0",!1);cssSetButton(".button_enter","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#FF0000","#A0A0A0",!1);cssSetButton(".button_func","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetButton(".button_number","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetButton(".button_op","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetButton(".button_symbol","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","#E0E0E0",!0);cssSetSelect(".select_common","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","",!0);cssSetSelect(".select_var","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","",!0);cssSetSelect(".select_func","linear,left top,left bottom","rgba(255,255,255,0.0)","rgba(255,255,255,0.0)","#000000","",!0);cssSetPropertyValue(".span","color","#000000");cssSetPropertyValue(".span_expr","color","#000000");cssSetPropertyValue(".div_usage","color","#000000");cssSetPropertyValue(".span","text-shadow","0 0");cssSetPropertyValue(".span_expr","text-shadow","0 0");cssSetPropertyValue(".div_usage","text-shadow","0 0");cssSetPropertyValue(".div_edit","background-color","#FFFFFF");cssSetPropertyValue(".input_expr","background-color","#FFFFFF");cssSetPropertyValue(".div_log","background-color","#FFFFFF");cssSetPropertyValue(".div_table","background-color","#FFFFFF");cssSetPropertyValue(".div_selectimage","background-color","#FFFFFF");cssSetPropertyValue(".div_console","background-color","#C0C0C0");break;case 6:document.getElementById("button_enter").innerHTML="<img src='draw.png' width='20' height='20'>";cssSetPropertyValue(".div_body","background-color",COLOR_BG);cssSetButton(".button_common","linear,left top,left bottom",COLOR_SYSTEM.get(32),COLOR_SYSTEM.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_cursor","linear,left top,left bottom",COLOR_SYSTEM.get(32),COLOR_SYSTEM.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_menu","linear,left top,left bottom",COLOR_SYSTEM.get(32),COLOR_SYSTEM.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_menu2","linear,left top,left bottom",COLOR_SYSTEM.get(32),COLOR_SYSTEM.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_shift","linear,left top,left bottom",COLOR_DARK.get(32),COLOR_DARK.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_topend","linear,left top,left bottom",COLOR_LIGHT.get(32),COLOR_LIGHT.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_del","linear,left top,left bottom",COLOR_DARK.get(32),COLOR_DARK.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_rcl","linear,left top,left bottom",COLOR_DARK.get(32),COLOR_DARK.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_var","linear,left top,left bottom",COLOR_DARK.get(32),COLOR_DARK.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_enter","linear,left top,left bottom",COLOR_LIGHT.get(32),COLOR_LIGHT.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_func","linear,left top,left bottom",COLOR_LIGHT.get(32),COLOR_LIGHT.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_number","linear,left top,left bottom",COLOR_LIGHT.get(32),COLOR_LIGHT.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_op","linear,left top,left bottom",COLOR_LIGHT.get(32),COLOR_LIGHT.get(-32),"#000000","#E0E0E0",!0);cssSetButton(".button_symbol","linear,left top,left bottom",COLOR_LIGHT.get(32),COLOR_LIGHT.get(-32),"#000000","#E0E0E0",!0);cssSetSelect(".select_common","linear,left top,left bottom",COLOR_SELECT.get(32),COLOR_SELECT.get(-32),"#000000","",!0);cssSetSelect(".select_var","linear,left top,left bottom",COLOR_SELECT.get(32),COLOR_SELECT.get(-32),"#000000","",!0);cssSetSelect(".select_func","linear,left top,left bottom",COLOR_SELECT.get(32),COLOR_SELECT.get(-32),"#000000","",!0);cssSetPropertyValue(".span","color","#000000");cssSetPropertyValue(".span_expr","color","#000000");cssSetPropertyValue(".div_usage","color","#000000");cssSetPropertyValue(".span","text-shadow","0 0");cssSetPropertyValue(".span_expr","text-shadow","0 0");cssSetPropertyValue(".div_usage","text-shadow","0 0");cssSetPropertyValue('input[type="checkbox"]:checked + label::after',"background",COLOR_CHECKED);cssSetPropertyValue('input[type="radio"]:checked + label::after',"background",COLOR_CHECKED);cssSetPropertyValue(".button_color:disabled","border","3px solid "+COLOR_CHECKED);cssSetPropertyValue(".div_edit","background-color","#FFFFFF");cssSetPropertyValue(".input_expr","background-color","#FFFFFF");cssSetPropertyValue(".div_log","background-color","#FFFFFF");cssSetPropertyValue(".div_table","background-color","#FFFFFF");cssSetPropertyValue(".div_selectimage","background-color","#FFFFFF");cssSetPropertyValue(".div_console","background-color","#C0C0C0");cursorText="#FFFFFF";cursorBack=COLOR_CHECKED;break;case 7:document.getElementById("button_enter").innerHTML="<img src='draw_r.png' width='20' height='20'>";cssSetPropertyValue(".bg_image","background-image",'url("'+skinImage+'")');cssSetPropertyValue(".bg_image","background-position",document.getElementById("graph_edit_x").value+"% "+document.getElementById("graph_edit_y").value+"%");document.getElementById("graph_body").classList.add("bg_image");cssSetPropertyValue(".div_body","background-color",COLOR_BG);n="rgba(255,255,255,0.0)";switch(skinTrans){case 1:n="rgba(255,255,255,0.1)";break;case 2:n="rgba(255,255,255,0.2)";break;case 3:n="rgba(255,255,255,0.3)";break;case 4:n="rgba(255,255,255,0.4)";break;case 5:n="rgba(255,255,255,0.5)"}cssSetButton(".button_common","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetButton(".button_cursor","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetButton(".button_menu","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetButton(".button_menu2","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetButton(".button_shift","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetButton(".button_topend","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetButton(".button_del","linear,left top,left bottom",n,n,"#FF0000","#A0A0A0",!1);cssSetButton(".button_rcl","linear,left top,left bottom",n,n,"#FF0000","#A0A0A0",!1);cssSetButton(".button_var","linear,left top,left bottom",n,n,"#FF0000","#A0A0A0",!1);cssSetButton(".button_enter","linear,left top,left bottom",n,n,"#FF0000","#A0A0A0",!1);cssSetButton(".button_func","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetButton(".button_number","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetButton(".button_op","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetButton(".button_symbol","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetSelect(".select_common","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetSelect(".select_var","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetSelect(".select_func","linear,left top,left bottom",n,n,"#000000","#E0E0E0",!0);cssSetPropertyValue(".span","color","#000000");cssSetPropertyValue(".span_expr","color","#000000");cssSetPropertyValue(".div_usage","color","#000000");cssSetPropertyValue(".span","text-shadow","1px 1px #E0E0E0");cssSetPropertyValue(".span_expr","text-shadow","1px 1px #E0E0E0");cssSetPropertyValue(".div_usage","text-shadow","1px 1px #E0E0E0");cssSetPropertyValue('input[type="checkbox"]:checked + label::after',"background",IMAGE_CHECKED);cssSetPropertyValue('input[type="radio"]:checked + label::after',"background",IMAGE_CHECKED);cssSetPropertyValue(".button_color:disabled","border","3px solid "+IMAGE_CHECKED);cssSetPropertyValue(".div_edit","background-color","#FFFFFF");cssSetPropertyValue(".input_expr","background-color","#FFFFFF");cssSetPropertyValue(".div_log","background-color","rgba(255,255,255,0.0)");cssSetPropertyValue(".div_table","background-color","rgba(255,255,255,0.0)");cssSetPropertyValue(".div_selectimage","background-color","rgba(255,255,255,0.0)");cssSetPropertyValue(".div_console","background-color","rgba(255,255,255,0.0)");cursorText="#FFFFFF";cursorBack=IMAGE_CHECKED}}function updateSkinColor(){makeColor(skinColor,"graph_edit_r","graph_edit_g","graph_edit_b");updateSkin();updateEditExpr();updateLogExpr();updateListTable(graphUI);updateListImage()}function doChangeSkin(n){skin=n.selectedIndex;updateSkin();updateEditExpr();updateLogExpr();updateListTable(graphUI);updateListImage();graphUI.clear();writeProfileInt("ENV_","Skin",skin);cssSetStyleDisplayById("graph_select_skin_color",skin==6);cssSetStyleDisplayById("graph_select_skin_trans",skin==7);cssSetStyleDisplayById("input_skin_color",skin==6&&skinColor==COLOR.length-1);cssSetStyleDisplayById("input_skin_image",skin==7)}function doChangeSkinColor(n){skinColor=n.selectedIndex;updateSkinColor();writeProfileInt("ENV_","SkinColor",skinColor);cssSetStyleDisplayById("input_skin_color",skin==6&&skinColor==COLOR.length-1)}function doChangeSkinTrans(n){skinTrans=n.selectedIndex;updateSkin();graphUI.clear();writeProfileInt("ENV_","SkinTrans",skinTrans)}function doGraphEditSkinImage(){skinImage=document.getElementById("graph_edit_skin_image").value;skinImage.indexOf("://")<0&&(skinImage="http://"+skinImage,document.getElementById("graph_edit_skin_image").value=skinImage);updateSkin();writeProfileString("ENV_","SkinImage",skinImage);addListImage()}function onChangeEditR(){updateSkinColor();writeProfileInt("ENV_","SkinColorR",COLOR[COLOR.length-1][0])}function onChangeEditG(){updateSkinColor();writeProfileInt("ENV_","SkinColorG",COLOR[COLOR.length-1][1])}function onChangeEditB(){updateSkinColor();writeProfileInt("ENV_","SkinColorB",COLOR[COLOR.length-1][2])}function doButtonEditRUp(){doButtonUpInt("graph_edit_r",1,255)&&onChangeEditR()}function doButtonEditRDown(){doButtonDownInt("graph_edit_r",1,0)&&onChangeEditR()}function doButtonEditGUp(){doButtonUpInt("graph_edit_g",1,255)&&onChangeEditG()}function doButtonEditGDown(){doButtonDownInt("graph_edit_g",1,0)&&onChangeEditG()}function doButtonEditBUp(){doButtonUpInt("graph_edit_b",1,255)&&onChangeEditB()}function doButtonEditBDown(){doButtonDownInt("graph_edit_b",1,0)&&onChangeEditB()}function doCheckColorR(){skinLockR=document.getElementById("check_color_r").checked;updateSkinColor();writeProfileInt("ENV_","SkinLockR",skinLockR?1:0)}function doCheckColorG(){skinLockG=document.getElementById("check_color_g").checked;updateSkinColor();writeProfileInt("ENV_","SkinLockG",skinLockG?1:0)}function doCheckColorB(){skinLockB=document.getElementById("check_color_b").checked;updateSkinColor();writeProfileInt("ENV_","SkinLockB",skinLockB?1:0)}function onChangeEditX(){updateSkin();writeProfileString("ENV_","SkinImageX",document.getElementById("graph_edit_x").value);addListImage()}function onChangeEditY(){updateSkin();writeProfileString("ENV_","SkinImageY",document.getElementById("graph_edit_y").value);addListImage()}function doButtonEditXUp(){doButtonUpInt("graph_edit_x",5,100)&&onChangeEditX()}function doButtonEditXDown(){doButtonDownInt("graph_edit_x",5,0)&&onChangeEditX()}function doButtonEditYUp(){doButtonUpInt("graph_edit_y",5,100)&&onChangeEditY()}function doButtonEditYDown(){doButtonDownInt("graph_edit_y",5,0)&&onChangeEditY()}function updateFont(){cssSetPropertyValue("button","font-family",fontSpan);cssSetPropertyValue("select","font-family",fontSpan);cssSetPropertyValue(".span","font-family",fontSpan);cssSetPropertyValue(".span_ellipsis","font-family",fontSpan);cssSetPropertyValue(".div_usage","font-family",fontSpan);cssSetPropertyValue(".input_file","font-family",fontSpan);cssSetPropertyValue(".span_expr","font-family",fontEdit);cssSetPropertyValue(".input","font-family",fontEdit);cssSetPropertyValue(".select_var_font","font-family",fontEdit);cssSetPropertyValue(".select_func_font","font-family",fontEdit);cssSetPropertyValue(".div_edit","font-family",fontEdit);cssSetPropertyValue(".div_log","font-family",fontEdit);cssSetPropertyValue(".div_console","font-family",fontEdit);cssSetPropertyValue(".div_table","font-family",fontEdit);cssSetPropertyValue(".div_selectimage","font-family",fontEdit);cssSetPropertyValue(".textarea_profile","font-family",fontEdit)}function graphIndex(){return procGraph()._curIndex}function updateEditExpr(){var t=new _String,n=new _String;if(editExpr[graphIndex()][exprType].get(t,n,!0),editExpr[graphIndex()][exprType].isSelAll())divEdit.innerHTML="<span style='color:"+cursorText+"; background-color:"+cursorBack+"'>"+t.escape().str()+n.escape().str()+"<\/span>";else if(n.str().length==0)divEdit.innerHTML=t.escape().str()+"<span style='color:"+cursorText+"; background-color:"+cursorBack+"'>&nbsp;<\/span>";else if(n.str().length==1)divEdit.innerHTML=t.escape().str()+"<span style='color:"+cursorText+"; background-color:"+cursorBack+"'>"+n.escape().str()+"<\/span>";else{var i=n.str(),r=new _String(i.substring(0,1)),u=new _String(i.slice(1));divEdit.innerHTML=t.escape().str()+"<span style='color:"+cursorText+"; background-color:"+cursorBack+"'>"+r.escape().str()+"<\/span>"+u.escape().str()}}function insEditExpr(n){usageFlag&&printUsage(n,topProc,topParam,englishFlag,"graph_usage");editExpr[graphIndex()][exprType].ins(n);writeProfileExpr();updateEditExpr()}function topEditExpr(){editExpr[graphIndex()][exprType].top();updateEditExpr()}function endEditExpr(){editExpr[graphIndex()][exprType].end();updateEditExpr()}function backwardEditExpr(){editExpr[graphIndex()][exprType].backward();updateEditExpr()}function forwardEditExpr(){editExpr[graphIndex()][exprType].forward();updateEditExpr()}function delEditExpr(){editExpr[graphIndex()][exprType].del();writeProfileExpr();updateEditExpr()}function delAllEditExpr(){editExpr[graphIndex()][exprType].delAll();writeProfileExpr();updateEditExpr();document.getElementById("graph_usage").innerHTML=""}function doButton0(){insEditExpr("0")}function doButton1(){insEditExpr("1")}function doButton2(){insEditExpr("2")}function doButton3(){insEditExpr("3")}function doButton4(){insEditExpr("4")}function doButton5(){insEditExpr("5")}function doButton6(){insEditExpr("6")}function doButton7(){insEditExpr("7")}function doButton8(){insEditExpr("8")}function doButton9(){insEditExpr("9")}function doButtonPoint(){insEditExpr(".")}function doButtonPlus(){insEditExpr("\\+")}function doButtonMinus(){insEditExpr("\\-")}function doButtonSpace(){insEditExpr(" ")}function doButtonEPlus(){insEditExpr("e+")}function doButtonEMinus(){insEditExpr("e-")}function doButtonI(){insEditExpr("i")}function doButtonMul(){insEditExpr("*")}function doButtonDiv(){insEditExpr("/")}function doButtonMod(){insEditExpr("%")}function doButtonAdd(){insEditExpr("+")}function doButtonSub(){insEditExpr("-")}function doButtonUnaryMinus(){insEditExpr("[-]")}function doButtonPow(){insEditExpr("^")}function doButtonEnter(n){doButtonUIGraph();doGraphDraw(n)}function doButtonLog(){insEditExpr(topParam._calculator?"ln ":"log ");setButtonMode(0)}function doButtonLog10(){insEditExpr(topParam._calculator?"log ":"log10 ");setButtonMode(0)}function doButtonFunc(n){insEditExpr(n.target.innerHTML+" ");setButtonMode(0)}function doButtonExtFunc(n){insEditExpr("!"+n.target.innerHTML+" ");topProc.usage(n.target.innerHTML,topParam,!0);setButtonMode(0)}function doButtonVar(){switch(graphUI._mode){case 4:case 5:insEditExpr("t");break;default:insEditExpr("x")}}function doButtonRCL(){insEditExpr(graphUI.buttonRCL())}function doButtonTop(){insEditExpr("(")}function doButtonEnd(){insEditExpr(")")}function updateLogExpr(){var i=new String,r=new EditExpr(-1),u=new _String,f=new _String,n,e=0,t;for(i+="<table width='100%' border='0' cellpadding='0' cellspacing='0'>",t=logExpr.scroll();t<logExpr.num();t++)if(r.importLog(logExpr.obj(t)),r.get(u,f),i+=t==logExpr.index()?"<tr><td bgcolor='"+cursorBack+"'>":"<tr><td>",n=u.str()+f.str(),n=n.length>29?t==logExpr.index()?common.escape(n.substring(0,27))+"<span class='span_ellipsis' style='color:"+cursorText+"'>...<\/span>":common.escape(n.substring(0,27))+"<span class='span_ellipsis'>...<\/span>":common.escape(n),i+=t==logExpr.index()?"<span style='color:"+cursorText+"'>"+n+"<\/span>":n,i+="<\/td><\/tr>",e++,e>=logExpr.lineNum())break;i+="<\/table>";divLog.innerHTML=i}function addLogExpr(){for(var n,t,i=1;i>=0;i--)if(n=new _String,editExpr[graphIndex()][i].exportLog(n),n.str().length>0){for(t=logExpr.num()-1;t>=0;t--)logExpr.obj(t)==n.str()&&logExpr.del(t);logExpr.ins(0,n.str())}updateLogExpr();writeProfileLogExpr()}function importLogExpr(){var n=logExpr.obj(logExpr.index());n!=null&&(editExpr[graphIndex()][exprType].importLog(n),writeProfileExpr(),updateEditExpr(),doButtonUIMain(),setButtonMode(0))}function upLogExpr(){logExpr.up();updateLogExpr()}function downLogExpr(){logExpr.down();updateLogExpr()}function delLogExpr(){logExpr.del(logExpr.index());updateLogExpr();writeProfileLogExpr()}function delAllLogExpr(){logExpr.delAll();updateLogExpr();writeProfileLogExpr()}function updateSelectVar(){for(var i,r,u=document.getElementById("graph_select_var"),n,t=0;t<26;t++)n=65+t,topParam.isZero(n)?u.options[t].innerHTML="@"+String.fromCharCode(n):(i=new _String,r=new _String,(new _Token).valueToString(topParam,topParam.val(n),i,r),u.options[t].innerHTML="@"+String.fromCharCode(n)+"&nbsp;=&nbsp;"+i.str()+r.str())}function getInputVarsValue(n){var t=parseFloat(inputVars[n-65].value);return _ISNAN(t)&&(t=0),t}function doGraphEditVar(n){topParam.setVal(n,getInputVarsValue(n),!0);updateSelectVar();writeProfileVar(n)}function selListImage(n,t,i){if(n.length>0){for(var r=0;r<listImage.num();r++)if(listImage.obj(r)._url==n){listImage.setIndex(r);break}r==listImage.num()&&(listImage.add(new ListImageItem(n,t,i)),writeProfileImage())}updateListImage()}function addListImage(){var i=skinImage,n,t;if(i.length>0){for(n=0;n<listImage.num();n++)if(listImage.obj(n)._url==i){listImage.obj(n)._x=document.getElementById("graph_edit_x").value;listImage.obj(n)._y=document.getElementById("graph_edit_y").value;listImage.setIndex(n);break}n==listImage.num()&&(t="50",document.getElementById("graph_edit_x").value=t,document.getElementById("graph_edit_y").value=t,updateSkin(),writeProfileString("ENV_","SkinImageX",t),writeProfileString("ENV_","SkinImageY",t),listImage.add(new ListImageItem(i,t,t)));updateListImage();writeProfileImage()}}function getListImage(){var n=listImage.obj(listImage.index());n!=null&&(skinImage=n._url,document.getElementById("graph_edit_skin_image").value=skinImage,document.getElementById("graph_edit_x").value=n._x,document.getElementById("graph_edit_y").value=n._y,updateSkin(),writeProfileString("ENV_","SkinImage",skinImage),writeProfileString("ENV_","SkinImageX",n._x),writeProfileString("ENV_","SkinImageY",n._y))}function updateListImage(){var i=new String,n,r=0,t;for(i+="<table width='100%' border='0' cellpadding='0' cellspacing='0'>",t=listImage.scroll();t<listImage.num();t++)if(i+=t==listImage.index()?"<tr><td bgcolor='"+cursorBack+"'>":"<tr><td>",n=listImage.obj(t)._url,n.length>29&&(n=t==listImage.index()?"<span class='span_ellipsis' style='color:"+cursorText+"'>...<\/span>"+n.slice(n.length-27):"<span class='span_ellipsis'>...<\/span>"+n.slice(n.length-27)),i+=t==listImage.index()?"<span style='color:"+cursorText+"'>"+n+"<\/span>":n,i+="<\/td><\/tr>",r++,r>=listImage.lineNum())break;i+="<\/table>";divSelectImage.innerHTML=i}function upListImage(){listImage.up();updateListImage();getListImage()}function downListImage(){listImage.down();updateListImage();getListImage()}function delListImage(){listImage.del(listImage.index());updateListImage();writeProfileImage();getListImage()}function doCheckReplotMode(){graphUI.setRePlotModeFlag(document.getElementById("check_replot_mode").checked);writeProfileInt("ENV_","RePlotMode",graphUI.rePlotModeFlag()?1:0)}function doCheckReplotAngle(){graphUI.setRePlotAngleFlag(document.getElementById("check_replot_angle").checked);writeProfileInt("ENV_","RePlotAngle",graphUI.rePlotAngleFlag()?1:0)}function doCheckReplotWindow(){graphUI.setRePlotWindowFlag(document.getElementById("check_replot_window").checked);writeProfileInt("ENV_","RePlotWindow",graphUI.rePlotWindowFlag()?1:0)}function doCheckPrintUsage(){usageFlag=document.getElementById("check_print_usage").checked;updateButtonHeight();writeProfileInt("ENV_","PrintUsage",usageFlag?1:0)}function canUseCookie(){return navigator.cookieEnabled}function setExpiresDate(n){_cookie_expires=new Date(currentTimeMillis()+n*864e5).toGMTString()}function _getCookieArray(){return document.cookie.split(";")}function _getCookieParam(n){var t=n.split("=");return t[0]=t[0].replace(new RegExp("^\\s+"),""),t}function cookieNum(){return document.cookie.length==0?0:_getCookieArray().length}function getCookieKey(n){var t,i;return document.cookie.length==0?"":(t=_getCookieArray(),n>=t.length)?"":(i=_getCookieParam(t[n]),i[0])}function getCookie(n,t){for(var r,u=_getCookieArray(),i=0;i<u.length;i++)if(r=_getCookieParam(u[i]),r[0]==n)return unescape(r[1]);return t}function setCookie(n,t){var i,r;t==null&&(t="");i=_cookie_expires;t.length==0&&(r=new Date,r.setTime(0),i=r.toGMTString());document.cookie=n+"="+escape(t)+"; expires="+i}function clearCookie(n){for(var i,r=_getCookieArray(),t=r.length-1;t>=0;t--)i=_getCookieParam(r[t]),(n==undefined||i[0].indexOf(n)==0)&&setCookie(i[0],"")}function beginCookieRead(n){_cookie_val=getCookie(n,"");_cookie_s=0}function cookieRead(){if(_cookie_s>=_cookie_val.length)_cookie_str="";else{var n=_cookie_val.indexOf("&",_cookie_s);n<0&&(n=_cookie_val.length);_cookie_str=_cookie_val.substring(_cookie_s,n);_cookie_s=n+1}return unescape(_cookie_str)}function endCookieRead(){_cookie_val="";_cookie_str=""}function beginCookieWrite(){_cookie_val=""}function cookieWrite(n){_cookie_val.length>0&&(_cookie_val+="&");_cookie_val+=escape(n)}function endCookieWrite(n){setCookie(n,_cookie_val);_cookie_val=""}function canUseStorage(){try{return window.localStorage!=null}catch(n){}return!1}function storageNum(){return window.localStorage.length}function getStorageKey(n){return n>=storageNum()?"":window.localStorage.key(n)}function getStorage(n,t){var i=window.localStorage.getItem(n);return i==null?t:i}function setStorage(n,t){t!=null&&t.length>0?window.localStorage.setItem(n,t):window.localStorage.removeItem(n)}function clearStorage(n){var r,i,t;if(n==undefined)window.localStorage.clear();else for(r=storageNum(),t=r-1;t>=0;t--)i=getStorageKey(t),(n==undefined||i.indexOf(n)==0)&&setStorage(i,null)}function beginStorageRead(n){_storage_val=getStorage(n,"");_storage_s=0}function storageRead(){if(_storage_s>=_storage_val.length)_storage_str="";else{var n=_storage_val.indexOf("&",_storage_s);n<0&&(n=_storage_val.length);_storage_str=_storage_val.substring(_storage_s,n);_storage_s=n+1}return unescape(_storage_str)}function endStorageRead(){_storage_val="";_storage_str=""}function beginStorageWrite(){_storage_val=""}function storageWrite(n){_storage_val.length>0&&(_storage_val+="&");_storage_val+=escape(n)}function endStorageWrite(n){setStorage(n,_storage_val);_storage_val=""}function _Preference(n){this.s=n&&canUseStorage();this.c=canUseCookie()}function _HttpRequestHeader(n,t){this._header=n;this._value=t}function httpInitHeader(){_http_header=[]}function httpAddHeader(n,t){_http_header[_http_header.length]=new _HttpRequestHeader(n,t)}function httpHeader(){return _http_header}function _httpOpen(n,t){var i=null;if(!XMLHttpRequest){if(!!ActiveXObject)try{i=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(r){try{i=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(r){try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(r){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(r){}}}}}else i=new XMLHttpRequest;return i!=null&&(i.open(n,t,!0),i.onreadystatechange=function(){i.readyState==4&&(i.status==200?onHttpResponse(i,i.responseText):onHttpError(i,i.status))}),i}function _httpSetRequestHeader(n,t,i){n.setRequestHeader(t,i);onHttpSetRequestHeader(t,i)}function httpGet(n,t){var i=_httpOpen("GET",n),r;if(i!=null){if(_httpSetRequestHeader(i,"If-Modified-Since","Thu, 01 Jun 1970 00:00:00 GMT"),t!=undefined)for(r=0;r<t.length;r++)t[r].set(i);i.send(null)}return i}function httpPost(n,t,i,r){var u=_httpOpen("POST",n),f;if(u!=null){if(_httpSetRequestHeader(u,"If-Modified-Since","Thu, 01 Jun 1970 00:00:00 GMT"),_httpSetRequestHeader(u,"Content-Type",i),r!=undefined)for(f=0;f<r.length;f++)r[f].set(u);u.send(t)}return u}function doLoadExtFuncFile(){loading||(loading=!0,loadExtFuncFile())}function loadExtFuncFile(){var n,t;if(loadNum>=extFuncFile.length){electron!=null&&electron.applyExtFunc();cssSetStyleDisplayById("graph_button_loadextfunc",!1);common.isPC()&&(cssSetStyleDisplayById("graph_input_loadextfunc",!0),cssSetStyleDisplayById("graph_input_loadextfunc2",!0),cssSetStyleDisplayById("graph_input_loadextfunc3",!0));return}n=electron!=null?electron.getExtFunc(extFuncFile[loadNum],""):getProfileString("TMP_",extFuncFile[loadNum],"");n.length>0?onHttpResponse(null,n):loading&&(t=extFuncFile[loadNum],httpGet(t))}function onHttpSetRequestHeader(){}function onHttpResponse(n,t){extFuncData[loadNum]=splitData(t);t="";for(var i=0;i<extFuncData[loadNum].length;i++)i!=0&&(t+="\n"),t+=extFuncData[loadNum][i];n!=null&&(electron!=null?electron.setExtFunc(extFuncFile[loadNum],t):writeProfileString("TMP_",extFuncFile[loadNum],t));loadNum++;loadExtFuncFile()}function onHttpError(){loading=!1}function loadExtFuncFile2(){var n,t;if(electron!=null){for(electron.beginReadExtFunc("load"),n=0;;n++){if(file=electron.readExtFunc(),file.length==0)break;extFuncFile2[n]=file}electron.endReadExtFunc()}else{for(beginGetProfile("TMP_LOADCEF_"),n=0;;n++){if(file=getProfile(),file.length==0)break;extFuncFile2[n]=file}endGetProfile()}for(n=0;n<extFuncFile2.length;n++)t=electron!=null?electron.getExtFunc(extFuncFile2[n],""):getProfileString("TMP_",extFuncFile2[n],""),t.length>0&&(extFuncData2[n]=splitData(t))}function onInputFileLoad(n,t){var i,u,r;for(topProc.clearFuncCache(n),u="/"+n+".cef",r=extFuncFile2.length,i=0;i<extFuncFile2.length;i++)if(extFuncFile2[i]==u){r=i;break}for(extFuncFile2[r]=u,extFuncData2[r]=splitData(t),regExtFuncButton(extFuncName(extFuncFile2[r])),t="",i=0;i<extFuncData2[r].length;i++)i!=0&&(t+="\n"),t+=extFuncData2[r][i];if(electron!=null){for(electron.beginWriteExtFunc(),i=0;i<extFuncFile2.length;i++)electron.writeExtFunc(extFuncFile2[i]);electron.endWriteExtFunc("load");electron.setExtFunc(extFuncFile2[r],t)}else{for(beginWriteProfile(),i=0;i<extFuncFile2.length;i++)writeProfile(extFuncFile2[i]);endWriteProfile("TMP_LOADCEF_");writeProfileString("TMP_",extFuncFile2[r],t)}}function onInputFileLoadEnd(){electron!=null&&electron.applyExtFunc()}function extFuncName(n){var i=n.lastIndexOf(".cef"),t;return i>=0?(t=n.lastIndexOf("/"),t>=0?t++:t=0,n.substring(t,i)):""}function getExtFuncDataDirect(n){return n.charAt(0)=="!"&&n.length==2?splitData(getFunc(n.charAt(1))):null}function getExtFuncDataNameSpace(n){for(var t=0;t<extFuncFile.length;t++)if(extFuncName(extFuncFile[t])==n&&t<extFuncData.length)return extFuncData[t];for(t=0;t<extFuncFile2.length;t++)if(extFuncName(extFuncFile2[t])==n&&t<extFuncData2.length)return extFuncData2[t];return null}function regExtFuncButton(n){var t,i;if(!(n.indexOf(".inc")>=0)){for(i=document.getElementsByName("button_extfunc"),t=0;t<i.length;t++)if(i[t].innerHTML==n)return;for(t=0;t<i.length;t++)if(i[t].disabled){i[t].innerHTML=n;i[t].disabled=!1;_addGraphEventListener(i[t],"click",doButtonExtFunc);break}}}function setExtFuncData(n,t){loadNum>=extFuncFile.length||(cssSetStyleDisplayById("graph_button_loadextfunc",!1),extFuncData[loadNum]=splitData(t),loadNum++,nativeRequest.send("load_extfunc/"+extFuncFile[loadNum]))}function mainProc(n,t,i,r,u,f){var e;try{e=u.mainLoop(i,f,r,t)}catch(o){catchError(o)}return e}function assertProc(n,t){return con.newLine(),t!=null&&t.length>0&&(englishFlag?con.print(t+": "):con.print(t+":")),n>0&&(englishFlag?con.print("Line "+n+": "):con.print(""+n+"行:")),englishFlag?con.println("Error "+intToString(_CLIP_ERR_ASSERT,16,4)+":"+consoleBreak()+"Failed to assert."):con.println("エラー("+intToString(_CLIP_ERR_ASSERT,16,4)+"):"+consoleBreak()+"アサートに失敗しました"),retAssertProc}function getErrorString(n,t,i,r){var u=new String,f=getProcErrorDefString(n,r,topParam._calculator,englishFlag);return f.length>0&&(i!=null&&i.length>0&&(u+=englishFlag?i+": ":i+":"),t>0&&(u+=englishFlag?"Line "+t+": ":""+t+"行:"),u+=englishFlag?((n&_CLIP_PROC_WARN)!=0?"Warning":"Error")+" "+intToString(n,16,4)+":"+consoleBreak()+f:((n&_CLIP_PROC_WARN)!=0?"警告":"エラー")+"("+intToString(n,16,4)+"):"+consoleBreak()+f),u}function errorProc(n,t,i,r){if(silentErr)procError.add(n,t,i,r);else{var u=getErrorString(n,t,i,r);u.length>0&&(con.newLine(),con.println(u))}}function printWarn(n,t,i){con.newLine();i!=null&&i.length>0&&(englishFlag?con.print(i+": "):con.print(i+":"));t>0&&(englishFlag?con.print("Line "+t+": "):con.print(""+t+"行:"));englishFlag?con.println("Warning:"+consoleBreak()+n):con.println("警告:"+consoleBreak()+n)}function printError(n,t,i){con.newLine();i!=null&&i.length>0&&(englishFlag?con.print(i+": "):con.print(i+":"));t>0&&(englishFlag?con.print("Line "+t+": "):con.print(""+t+"行:"));englishFlag?con.println("Error:"+consoleBreak()+n):con.println("エラー:"+consoleBreak()+n)}function doFuncGColor(n){return doFuncGColorBGR(n,COLOR_WIN)}function doFuncGColor24(n){return _RGB2BGR(COLOR_WIN[n])}function doFuncEval(n,t,i,r,u){var f;try{f=n.doFuncEval(t,i,r,u)}catch(e){catchError(e)}return f}function doCommandClear(){con.clear()}function doCommandPrint(n,t){for(var i=n,r;i!=null;)i._string!=null&&(r=new _String(i._string),r.escape().replaceNewLine(consoleBreak()),con.print(r.str())),i=i._next;t&&con.println()}function doCommandScan(n,t,i){for(var f=new String,u=new String,r=n;r!=null;)f=r.getDefString(t,i),u=prompt(r.title(),f),(u==null||u.length==0)&&(u=f),r.setNewValue(u,t,i),r=r._next}function gWorldClear(n,t){canvasClear();canvasSetColor(COLOR_WIN[t]);canvasFill(0,0,n._width,n._height);canvasSetColor(COLOR_WIN[n._color])}function gWorldSetColor(n,t){canvasSetColor(COLOR_WIN[t])}function gWorldPutColor(n,t,i,r){topProc._gUpdateFlag&&(canvasSetColor(COLOR_WIN[r]),canvasPut(t,i),canvasSetColor(COLOR_WIN[n._color]))}function gWorldPut(n,t,i){topProc._gUpdateFlag&&canvasPut(t,i)}function gWorldFill(n,t,i,r,u){topProc._gUpdateFlag&&canvasFill(t,i,r,u)}function gWorldLine(n,t,i,r,u){topProc._gUpdateFlag&&canvasLine(t,i,r,u)}function doCommandGColor(n,t){COLOR_WIN[n]=_RGB2BGR(t)}function doCommandGUpdate(n){canvasClear();for(var r=n._image,u=n._offset,f=n._width,e=n._height,t,i=0;i<e;i++)for(t=0;t<f;t++)canvasSetColor(COLOR_WIN[r[i*u+t]]),canvasPut(t,i);canvasSetColor(COLOR_WIN[n._color])}function doCommandPlot(n,t,i,r,u,f){var o=new _Proc(t._mode,n._printAssert,n._printWarn,!1),e=new _Param(n._curLine._num,t,!0);e._enableCommand=!1;e._enableOpPow=!0;e._enableStat=!1;try{initProcLoopCount();n.doCommandPlot(o,e,i,r,u,f)}catch(s){catchError(s)}e.end();o.end()}function doCommandRePlot(n,t,i,r,u,f){var o=new _Proc(t._mode,n._printAssert,n._printWarn,!1),e=new _Param(n._curLine._num,t,!0);e._enableCommand=!1;e._enableOpPow=!0;e._enableStat=!1;try{initProcLoopCount();n.doCommandRePlot(o,e,i,r,u,f)}catch(s){catchError(s)}e.end();o.end()}function doCommandUsage(n){common.setFont(16,"Helvetica");for(var i=new String,t=n;t!=null;)t._string!=null&&(i+=common.escape(common.truncate(t._string,316,""))+"<br>"),t=t._next;document.getElementById("graph_usage").innerHTML=i}function onStartPlot(){silentErr=!0}function onEndPlot(){var n;silentErr=!1;var t=new _Integer,i=new _Integer,r=new _String,u=new _String;for(n=0;n<procError.num();n++)procError.get(n,t,i,r,u),errorProc(t._val,i._val,r.str(),u.str());procError.delAll()}function onStartRePlot(){onStartPlot()}function onEndRePlot(){onEndPlot()}function dummy(){}function updateGraphRadioAngType(){var n=new _Integer,t=new _Boolean;topProc.getAngType(n,t);document.getElementById("graph_radio_deg").checked=n._val==_ANG_TYPE_DEG;document.getElementById("graph_radio_rad").checked=n._val==_ANG_TYPE_RAD;document.getElementById("graph_radio_grad").checked=n._val==_ANG_TYPE_GRAD}function doGraphDeg(){graphUI.setAngType(_ANG_TYPE_DEG);updateGraphRadioAngType();writeProfileAngle()}function doGraphRad(){graphUI.setAngType(_ANG_TYPE_RAD);updateGraphRadioAngType();writeProfileAngle()}function doGraphGrad(){graphUI.setAngType(_ANG_TYPE_GRAD);updateGraphRadioAngType();writeProfileAngle()}function doChangeVar(n){graphUI.setCurVar(n.options[n.selectedIndex].value)}function doGraphZoomIn(){graphUI.zoomIn();writeProfileWindow()}function doGraphZoomOut(){graphUI.zoomOut();writeProfileWindow()}function doGraphDraw(){document.getElementById("graph_usage").innerHTML="";addLogExpr();graphUI._editExpr1=document.getElementById("graph_edit_expr1").value;graphUI._editExpr2=document.getElementById("graph_edit_expr2").value;graphUI._editMin=""+document.getElementById("graph_edit_min").value;graphUI._editMax=""+document.getElementById("graph_edit_max").value;graphUI._editPitch=""+document.getElementById("graph_edit_pitch").value;for(var n=65;n<=90;n++)topParam.setVal(n,getInputVarsValue(n),!0);con.newLine();graphUI.draw();writeProfileFloat("ENV_","ParamMin",graphUI._paramMin);writeProfileFloat("ENV_","ParamMax",graphUI._paramMax);writeProfileFloat("ENV_","ParamPitch",graphUI._paramPitch);writeProfileFloat("ENV_","PolarMin",graphUI._polarMin);writeProfileFloat("ENV_","PolarMax",graphUI._polarMax);writeProfileFloat("ENV_","PolarPitch",graphUI._polarPitch)}function doGraphClear(){graphUI.clear()}function updateInputExpr1(){var n=new _String,t=new _String;editExpr[graphIndex()][0].get(n,t,!1);document.getElementById("graph_edit_expr1").value=n.str()+t.str()}function updateInputExpr2(){var n=new _String,t=new _String;editExpr[graphIndex()][1].get(n,t,!1);document.getElementById("graph_edit_expr2").value=n.str()+t.str()}function doEditExpr1(){updateInputExpr2();exprType=0;cssSetStyleDisplayById("graph_ui_expr1",!1);cssSetStyleDisplayById("graph_ui_expr",!0);cssSetStyleDisplayById("graph_ui_expr2",!0);doGraphStartEdit()}function doEditExpr2(){updateInputExpr1();exprType=1;cssSetStyleDisplayById("graph_ui_expr2",!1);cssSetStyleDisplayById("graph_ui_expr1",!0);cssSetStyleDisplayById("graph_ui_expr",!0);doGraphStartEdit()}function updateGraphRadioTool(){document.getElementById("graph_radio_trace").checked=graphUI._tool==0;document.getElementById("graph_radio_hand").checked=graphUI._tool==1;document.getElementById("graph_radio_zoom").checked=graphUI._tool==2}function doGraphTrace(){graphUI.setTool(0);updateGraphRadioTool();writeProfileInt("ENV_","Tool",graphUI._tool)}function doGraphHand(){graphUI.setTool(1);updateGraphRadioTool();writeProfileInt("ENV_","Tool",graphUI._tool)}function doGraphZoom(){graphUI.setTool(2);updateGraphRadioTool();writeProfileInt("ENV_","Tool",graphUI._tool)}function updateButtonColorBack(){document.getElementById("color_back_00").disabled=graphUI._colorBack==0;document.getElementById("color_back_01").disabled=graphUI._colorBack==1;document.getElementById("color_back_02").disabled=graphUI._colorBack==2;document.getElementById("color_back_03").disabled=graphUI._colorBack==3;document.getElementById("color_back_04").disabled=graphUI._colorBack==4;document.getElementById("color_back_05").disabled=graphUI._colorBack==5;document.getElementById("color_back_06").disabled=graphUI._colorBack==6;document.getElementById("color_back_07").disabled=graphUI._colorBack==7;document.getElementById("color_back_08").disabled=graphUI._colorBack==8;document.getElementById("color_back_09").disabled=graphUI._colorBack==9;document.getElementById("color_back_10").disabled=graphUI._colorBack==10;document.getElementById("color_back_11").disabled=graphUI._colorBack==11;document.getElementById("color_back_12").disabled=graphUI._colorBack==12;document.getElementById("color_back_13").disabled=graphUI._colorBack==13;document.getElementById("color_back_14").disabled=graphUI._colorBack==14;document.getElementById("color_back_15").disabled=graphUI._colorBack==15}function updateButtonColorScale(){document.getElementById("color_scale_00").disabled=graphUI._colorScale==0;document.getElementById("color_scale_01").disabled=graphUI._colorScale==1;document.getElementById("color_scale_02").disabled=graphUI._colorScale==2;document.getElementById("color_scale_03").disabled=graphUI._colorScale==3;document.getElementById("color_scale_04").disabled=graphUI._colorScale==4;document.getElementById("color_scale_05").disabled=graphUI._colorScale==5;document.getElementById("color_scale_06").disabled=graphUI._colorScale==6;document.getElementById("color_scale_07").disabled=graphUI._colorScale==7;document.getElementById("color_scale_08").disabled=graphUI._colorScale==8;document.getElementById("color_scale_09").disabled=graphUI._colorScale==9;document.getElementById("color_scale_10").disabled=graphUI._colorScale==10;document.getElementById("color_scale_11").disabled=graphUI._colorScale==11;document.getElementById("color_scale_12").disabled=graphUI._colorScale==12;document.getElementById("color_scale_13").disabled=graphUI._colorScale==13;document.getElementById("color_scale_14").disabled=graphUI._colorScale==14;document.getElementById("color_scale_15").disabled=graphUI._colorScale==15}function updateButtonColorUnit(){document.getElementById("color_unit_00").disabled=graphUI._colorUnit==0;document.getElementById("color_unit_01").disabled=graphUI._colorUnit==1;document.getElementById("color_unit_02").disabled=graphUI._colorUnit==2;document.getElementById("color_unit_03").disabled=graphUI._colorUnit==3;document.getElementById("color_unit_04").disabled=graphUI._colorUnit==4;document.getElementById("color_unit_05").disabled=graphUI._colorUnit==5;document.getElementById("color_unit_06").disabled=graphUI._colorUnit==6;document.getElementById("color_unit_07").disabled=graphUI._colorUnit==7;document.getElementById("color_unit_08").disabled=graphUI._colorUnit==8;document.getElementById("color_unit_09").disabled=graphUI._colorUnit==9;document.getElementById("color_unit_10").disabled=graphUI._colorUnit==10;document.getElementById("color_unit_11").disabled=graphUI._colorUnit==11;document.getElementById("color_unit_12").disabled=graphUI._colorUnit==12;document.getElementById("color_unit_13").disabled=graphUI._colorUnit==13;document.getElementById("color_unit_14").disabled=graphUI._colorUnit==14;document.getElementById("color_unit_15").disabled=graphUI._colorUnit==15}function updateButtonColorText(){document.getElementById("color_text_00").disabled=graphUI._colorText==0;document.getElementById("color_text_01").disabled=graphUI._colorText==1;document.getElementById("color_text_02").disabled=graphUI._colorText==2;document.getElementById("color_text_03").disabled=graphUI._colorText==3;document.getElementById("color_text_04").disabled=graphUI._colorText==4;document.getElementById("color_text_05").disabled=graphUI._colorText==5;document.getElementById("color_text_06").disabled=graphUI._colorText==6;document.getElementById("color_text_07").disabled=graphUI._colorText==7;document.getElementById("color_text_08").disabled=graphUI._colorText==8;document.getElementById("color_text_09").disabled=graphUI._colorText==9;document.getElementById("color_text_10").disabled=graphUI._colorText==10;document.getElementById("color_text_11").disabled=graphUI._colorText==11;document.getElementById("color_text_12").disabled=graphUI._colorText==12;document.getElementById("color_text_13").disabled=graphUI._colorText==13;document.getElementById("color_text_14").disabled=graphUI._colorText==14;document.getElementById("color_text_15").disabled=graphUI._colorText==15}function updateButtonColorGraph(){document.getElementById("color_graph_00").disabled=graphUI._color==0;document.getElementById("color_graph_01").disabled=graphUI._color==1;document.getElementById("color_graph_02").disabled=graphUI._color==2;document.getElementById("color_graph_03").disabled=graphUI._color==3;document.getElementById("color_graph_04").disabled=graphUI._color==4;document.getElementById("color_graph_05").disabled=graphUI._color==5;document.getElementById("color_graph_06").disabled=graphUI._color==6;document.getElementById("color_graph_07").disabled=graphUI._color==7;document.getElementById("color_graph_08").disabled=graphUI._color==8;document.getElementById("color_graph_09").disabled=graphUI._color==9;document.getElementById("color_graph_10").disabled=graphUI._color==10;document.getElementById("color_graph_11").disabled=graphUI._color==11;document.getElementById("color_graph_12").disabled=graphUI._color==12;document.getElementById("color_graph_13").disabled=graphUI._color==13;document.getElementById("color_graph_14").disabled=graphUI._color==14;document.getElementById("color_graph_15").disabled=graphUI._color==15;document.getElementById("color_graph2_00").disabled=graphUI._color==0;document.getElementById("color_graph2_01").disabled=graphUI._color==1;document.getElementById("color_graph2_02").disabled=graphUI._color==2;document.getElementById("color_graph2_03").disabled=graphUI._color==3;document.getElementById("color_graph2_04").disabled=graphUI._color==4;document.getElementById("color_graph2_05").disabled=graphUI._color==5;document.getElementById("color_graph2_06").disabled=graphUI._color==6;document.getElementById("color_graph2_07").disabled=graphUI._color==7;document.getElementById("color_graph2_08").disabled=graphUI._color==8;document.getElementById("color_graph2_09").disabled=graphUI._color==9;document.getElementById("color_graph2_10").disabled=graphUI._color==10;document.getElementById("color_graph2_11").disabled=graphUI._color==11;document.getElementById("color_graph2_12").disabled=graphUI._color==12;document.getElementById("color_graph2_13").disabled=graphUI._color==13;document.getElementById("color_graph2_14").disabled=graphUI._color==14;document.getElementById("color_graph2_15").disabled=graphUI._color==15}function doButtonColorBack(n){graphUI._colorBack=n;updateButtonColorBack();colorBack=COLOR_WIN[graphUI.indexToColor(graphUI._colorBack)];graphUI.clear();writeProfileInt("ENV_","BackColor",graphUI._colorBack)}function doButtonColorScale(n){graphUI._colorScale=n;updateButtonColorScale();graphUI.clear();writeProfileInt("ENV_","ScaleColor",graphUI._colorScale)}function doButtonColorUnit(n){graphUI._colorUnit=n;updateButtonColorUnit();graphUI.clear();writeProfileInt("ENV_","UnitColor",graphUI._colorUnit)}function doButtonColorText(n){graphUI._colorText=n;updateButtonColorText();graphUI.clear();writeProfileInt("ENV_","TextColor",graphUI._colorText)}function doButtonColorGraph(n){graphUI._color=n;updateButtonColorGraph();writeProfileInt("ENV_","GraphColor",graphUI._color)}function changeExprVar(){for(var n,r,t=new EditExpr(-1),u,i=0;i<logExpr.num();i++){for(t.importLog(logExpr.obj(i)),n=0;n<t.num();n++){r=t.token(n);switch(graphUI._mode){case 4:case 5:r=="x"&&t.set(n,"t");break;default:r=="t"&&t.set(n,"x")}}u=new _String;t.exportLog(u);logExpr.set(i,u.str())}updateLogExpr();writeProfileLogExpr()}function updateGraphRadioMode(){doEditExpr1();document.getElementById("graph_edit_expr2").disabled=graphUI._mode==4?!1:!0}function doGraphLinear(){graphUI.setMode(0);updateGraphRadioMode();writeProfileInt("ENV_","Mode",graphUI._mode)}function doGraphLogX(){graphUI.setMode(1);updateGraphRadioMode();writeProfileInt("ENV_","Mode",graphUI._mode)}function doGraphLogY(){graphUI.setMode(2);updateGraphRadioMode();writeProfileInt("ENV_","Mode",graphUI._mode)}function doGraphLogXY(){graphUI.setMode(3);updateGraphRadioMode();writeProfileInt("ENV_","Mode",graphUI._mode)}function doGraphParam(){graphUI.setMode(4);updateGraphRadioMode();writeProfileInt("ENV_","Mode",graphUI._mode)}function doGraphPolar(){graphUI.setMode(5);updateGraphRadioMode();writeProfileInt("ENV_","Mode",graphUI._mode)}function doChangeMode(n){switch(n.selectedIndex){case 0:doGraphLinear();break;case 1:doGraphLogX();break;case 2:doGraphLogY();break;case 3:doGraphLogXY();break;case 4:doGraphParam();break;case 5:doGraphPolar()}changeExprVar()}function updateGraphEditScreen(){document.getElementById("graph_edit_unit_x").value=""+graphUI._unitX+(graphUI._unitX==_INT(graphUI._unitX)?".0":"");document.getElementById("graph_edit_unit_y").value=""+graphUI._unitY+(graphUI._unitY==_INT(graphUI._unitY)?".0":"");document.getElementById("graph_edit_text_x").value=""+graphUI._textX;document.getElementById("graph_edit_text_y").value=""+graphUI._textY}function doGraphEditScreen(){var n=parseFloat(document.getElementById("graph_edit_unit_x").value),t=parseFloat(document.getElementById("graph_edit_unit_y").value),i=parseInt(document.getElementById("graph_edit_text_x").value),r=parseInt(document.getElementById("graph_edit_text_y").value);_ISNAN(n)||_ISNAN(t)||_ISNAN(i)||_ISNAN(r)||(graphUI._unitX=n,graphUI._unitY=t,graphUI._textX=i,graphUI._textY=r,writeProfileFloat("ENV_","UnitX",graphUI._unitX),writeProfileFloat("ENV_","UnitY",graphUI._unitY),writeProfileInt("ENV_","TextX",graphUI._textX),writeProfileInt("ENV_","TextY",graphUI._textY),graphUI.redraw())}function doGraphStartEdit(){updateEditExpr();document.getElementById("graph_static_expr").innerHTML=exprType==0?graphUI._staticExpr1:graphUI._staticExpr2}function doGraphStartEnv(){updateGraphRadioEnvType();graphUI.startEnv()}function doGraphResetEnv(){graphUI.resetEnv()}function doGraphEndEnv(n){if(n){var t=graphUI._envType;switch(graphUI._mode){case 4:case 5:t=0}switch(t){case 0:lockGraphResetEnv=!0;doGraphEditOffsetX();doGraphEditOffsetY();doGraphEditRatioX();doGraphEditRatioY();lockGraphResetEnv=!1;graphUI.resetEnvWindow();break;case 1:lockGraphResetEnv=!0;doGraphEditLeft();doGraphEditBottom();doGraphEditRight();doGraphEditTop();lockGraphResetEnv=!1;graphUI.resetEnvOffset()}graphUI.endEnv();writeProfileWindow()}doButtonUIGraph()}function updateGraphRadioEnvType(){var n=graphUI._envType;switch(graphUI._mode){case 4:case 5:n=0}cssSetStyleDisplayById("button_edit_offset_x_up",n==0);cssSetStyleDisplayById("button_edit_offset_x_down",n==0);cssSetStyleDisplayById("button_edit_offset_y_up",n==0);cssSetStyleDisplayById("button_edit_offset_y_down",n==0);cssSetStyleDisplayById("button_edit_ratio_x_up",n==0);cssSetStyleDisplayById("button_edit_ratio_x_down",n==0);cssSetStyleDisplayById("button_edit_ratio_y_up",n==0);cssSetStyleDisplayById("button_edit_ratio_y_down",n==0);cssSetStyleDisplayById("button_edit_left_up",n==1);cssSetStyleDisplayById("button_edit_left_down",n==1);cssSetStyleDisplayById("button_edit_bottom_up",n==1);cssSetStyleDisplayById("button_edit_bottom_down",n==1);cssSetStyleDisplayById("button_edit_right_up",n==1);cssSetStyleDisplayById("button_edit_right_down",n==1);cssSetStyleDisplayById("button_edit_top_up",n==1);cssSetStyleDisplayById("button_edit_top_down",n==1);switch(graphUI._mode){case 4:case 5:document.getElementById("graph_radio_window").disabled=!0;document.getElementById("graph_edit_ratio_y").disabled=!0;cssSetStyleDisplayById("graph_static_ratio_x",!1);cssSetStyleDisplayById("graph_static_ratio",!0);cssSetStyleDisplayById("graph_edit_ratio_y",!1);cssSetStyleDisplayById("graph_static_ratio_y",!1);cssSetStyleDisplayById("button_edit_ratio_y_up",!1);cssSetStyleDisplayById("button_edit_ratio_y_down",!1);break;default:document.getElementById("graph_radio_window").disabled=!1;document.getElementById("graph_edit_ratio_y").disabled=n==1;cssSetStyleDisplayById("graph_static_ratio",!1);cssSetStyleDisplayById("graph_static_ratio_x",!0);cssSetStyleDisplayById("graph_edit_ratio_y",!0);cssSetStyleDisplayById("graph_static_ratio_y",!0)}document.getElementById("graph_radio_offset").checked=n==0;document.getElementById("graph_radio_window").checked=n==1;document.getElementById("graph_edit_offset_x").disabled=n==1;document.getElementById("graph_edit_offset_y").disabled=n==1;document.getElementById("graph_edit_ratio_x").disabled=n==1;document.getElementById("graph_edit_left").disabled=n==0;document.getElementById("graph_edit_bottom").disabled=n==0;document.getElementById("graph_edit_right").disabled=n==0;document.getElementById("graph_edit_top").disabled=n==0}function doGraphEnvOffset(){lockGraphResetEnv=!0;doGraphEditLeft();doGraphEditBottom();doGraphEditRight();doGraphEditTop();lockGraphResetEnv=!1;graphUI.resetEnvOffset();graphUI.setEnvType(0);updateGraphRadioEnvType()}function doGraphEnvWindow(){lockGraphResetEnv=!0;doGraphEditOffsetX();doGraphEditOffsetY();doGraphEditRatioX();doGraphEditRatioY();lockGraphResetEnv=!1;graphUI.resetEnvWindow();graphUI.setEnvType(1);updateGraphRadioEnvType()}function doGraphEditOffsetX(){graphUI._editEnvOffsetX=""+document.getElementById("graph_edit_offset_x").value;var n=parseFloat(graphUI._editEnvOffsetX);_ISNAN(n)||(graphUI._envOffsetX=n,lockGraphResetEnv||graphUI.resetEnvWindow())}function doGraphEditOffsetY(){graphUI._editEnvOffsetY=""+document.getElementById("graph_edit_offset_y").value;var n=parseFloat(graphUI._editEnvOffsetY);_ISNAN(n)||(graphUI._envOffsetY=n,lockGraphResetEnv||graphUI.resetEnvWindow())}function doGraphEditRatioX(){graphUI._editEnvRatioX=""+document.getElementById("graph_edit_ratio_x").value;var n=parseFloat(graphUI._editEnvRatioX);_ISNAN(n)||(graphUI._envRatioX=n,lockGraphResetEnv||graphUI.resetEnvWindow())}function doGraphEditRatioY(){graphUI._editEnvRatioY=""+document.getElementById("graph_edit_ratio_y").value;var n=parseFloat(graphUI._editEnvRatioY);_ISNAN(n)||(graphUI._envRatioY=n,lockGraphResetEnv||graphUI.resetEnvWindow())}function doGraphEditLeft(){graphUI._editEnvLeft=""+document.getElementById("graph_edit_left").value;lockGraphResetEnv||graphUI.resetEnvOffset()}function doGraphEditBottom(){graphUI._editEnvBottom=""+document.getElementById("graph_edit_bottom").value;lockGraphResetEnv||graphUI.resetEnvOffset()}function doGraphEditRight(){graphUI._editEnvRight=""+document.getElementById("graph_edit_right").value;lockGraphResetEnv||graphUI.resetEnvOffset()}function doGraphEditTop(){graphUI._editEnvTop=""+document.getElementById("graph_edit_top").value;lockGraphResetEnv||graphUI.resetEnvOffset()}function onGraphClearExpr(){editExpr[graphIndex()][0].delAll();editExpr[graphIndex()][1].delAll();writeProfileExpr();updateEditExpr();document.getElementById("graph_edit_expr1").value="";document.getElementById("graph_edit_expr2").value=""}function onGraphClearTable(n){listTable[graphIndex()].delAll();updateListTable(n);writeProfileTable()}function onGraphUpdateStatic(n){document.getElementById("graph_static_expr1").innerHTML=n._staticExpr1;document.getElementById("graph_static_expr2").innerHTML=n._staticExpr2;document.getElementById("graph_static_x").innerHTML=n._staticX;document.getElementById("graph_static_y1").innerHTML=n._staticY1;document.getElementById("graph_static_y2").innerHTML=n._staticY2}function onGraphUpdateValue(n){document.getElementById("graph_edit_trace_x").value=n._editX;document.getElementById("graph_edit_trace_y1").value=n._editY1;document.getElementById("graph_edit_trace_y2").value=n._editY2}function onGraphUpdatePitch(n){document.getElementById("graph_edit_min").value=n._editMin;document.getElementById("graph_edit_max").value=n._editMax;document.getElementById("graph_edit_pitch").value=n._editPitch}function onGraphUpdateEnvOffset(n){document.getElementById("graph_edit_offset_x").value=n._editEnvOffsetX;document.getElementById("graph_edit_offset_y").value=n._editEnvOffsetY;document.getElementById("graph_edit_ratio_x").value=n._editEnvRatioX;document.getElementById("graph_edit_ratio_y").value=n._editEnvRatioY}function onGraphUpdateEnvWindow(n){document.getElementById("graph_edit_left").value=n._editEnvLeft;document.getElementById("graph_edit_bottom").value=n._editEnvBottom;document.getElementById("graph_edit_right").value=n._editEnvRight;document.getElementById("graph_edit_top").value=n._editEnvTop}function onGraphStartPlot(){onStartPlot()}function onGraphEndPlot(){onEndPlot()}function onGraphStartRePlot(){onStartRePlot()}function onGraphEndRePlot(){onEndRePlot()}function isPC(){return common.isPC()}function onGraphMouseDown(){graphUI.startTool(graphMouseX(),graphMouseY())}function onGraphMouseMove(){graphUI.moveTool(graphMouseX(),graphMouseY())}function onGraphMouseOut(){onGraphMouseUp()}function onGraphMouseOver(){}function onGraphMouseUp(){graphUI.endTool();switch(graphUI._tool){case 2:case 1:writeProfileWindow()}}function onGraphTouchStart(){graphUI.startTool(graphTouchX(0),graphTouchY(0))}function onGraphTouchMove(){graphUI.moveTool(graphTouchX(0),graphTouchY(0))}function onGraphTouchEnd(){graphUI.endTool();switch(graphUI._tool){case 2:case 1:writeProfileWindow()}}function setMenu(n){if(menu==5)for(var t=65;t<=90;t++)doGraphEditVar(t);switch(menu){case 0:document.getElementById("button_ui_graph").innerHTML="<img src='icon1.png' width='20' height='20'>";document.getElementById("button_ui_graph2").innerHTML="<img src='icon1.png' width='20' height='20'>";break;case 2:document.getElementById("button_ui_main").innerHTML="<img src='icon6.png' width='20' height='20'>";document.getElementById("button_ui_main2").innerHTML="<img src='icon6.png' width='20' height='20'>";break;case 3:document.getElementById("button_ui_func").innerHTML="<img src='icon7.png' width='20' height='20'>";document.getElementById("button_ui_func2").innerHTML="<img src='icon7.png' width='20' height='20'>";break;case 4:document.getElementById("button_ui_log").innerHTML="<img src='icon3.png' width='20' height='20'>";document.getElementById("button_ui_log2").innerHTML="<img src='icon3.png' width='20' height='20'>";break;case 5:document.getElementById("button_ui_var").innerHTML="<img src='icon4.png' width='20' height='20'>";document.getElementById("button_ui_var2").innerHTML="<img src='icon4.png' width='20' height='20'>";break;case 6:document.getElementById("button_ui_table").innerHTML="<img src='icon2.png' width='20' height='20'>";document.getElementById("button_ui_table2").innerHTML="<img src='icon2.png' width='20' height='20'>";break;case 7:document.getElementById("button_ui_option").innerHTML="<img src='icon5.png' width='20' height='20'>";document.getElementById("button_ui_option2").innerHTML="<img src='icon5.png' width='20' height='20'>"}menu=n;switch(menu){case 0:document.getElementById("button_ui_graph").innerHTML="<img src='icon1.png' width='25' height='25'>";document.getElementById("button_ui_graph2").innerHTML="<img src='icon1.png' width='25' height='25'>";break;case 2:document.getElementById("button_ui_main").innerHTML="<img src='icon6.png' width='25' height='25'>";document.getElementById("button_ui_main2").innerHTML="<img src='icon6.png' width='25' height='25'>";break;case 3:document.getElementById("button_ui_func").innerHTML="<img src='icon7.png' width='25' height='25'>";document.getElementById("button_ui_func2").innerHTML="<img src='icon7.png' width='25' height='25'>";break;case 4:document.getElementById("button_ui_log").innerHTML="<img src='icon3.png' width='25' height='25'>";document.getElementById("button_ui_log2").innerHTML="<img src='icon3.png' width='25' height='25'>";break;case 5:document.getElementById("button_ui_var").innerHTML="<img src='icon4.png' width='25' height='25'>";document.getElementById("button_ui_var2").innerHTML="<img src='icon4.png' width='25' height='25'>";break;case 6:document.getElementById("button_ui_table").innerHTML="<img src='icon2.png' width='25' height='25'>";document.getElementById("button_ui_table2").innerHTML="<img src='icon2.png' width='25' height='25'>";break;case 7:document.getElementById("button_ui_option").innerHTML="<img src='icon5.png' width='25' height='25'>";document.getElementById("button_ui_option2").innerHTML="<img src='icon5.png' width='25' height='25'>"}}function doButtonUIMain(){menu!=2&&(setMenu(2),removeGraphEvent(),document.getElementById("button_ui_main").disabled=!0,document.getElementById("button_ui_func").disabled=!1,document.getElementById("button_ui_log").disabled=!1,document.getElementById("button_ui_var").disabled=!1,document.getElementById("button_ui_graph").disabled=!1,document.getElementById("button_ui_table").disabled=!1,document.getElementById("button_ui_option").disabled=!1,document.getElementById("button_ui_main2").disabled=!0,document.getElementById("button_ui_func2").disabled=!1,document.getElementById("button_ui_log2").disabled=!1,document.getElementById("button_ui_var2").disabled=!1,document.getElementById("button_ui_graph2").disabled=!1,document.getElementById("button_ui_table2").disabled=!1,document.getElementById("button_ui_option2").disabled=!1,cssLockStyleDisplay(),cssSetStyleDisplayById("graph_ui_menu",isAndroidTablet()||isIPad()?!1:!0),cssSetStyleDisplayById("graph_ui_menu2",isAndroidTablet()||isIPad()?!0:!1),cssSetStyleDisplayById("graph_ui_main",!0),cssSetStyleDisplayById("graph_ui_edit",!0),cssSetStyleDisplayById("graph_ui_button_1",!1),cssSetStyleDisplayById("graph_ui_button_2",!1),cssSetStyleDisplayById("graph_ui_button_3",!1),cssSetStyleDisplayById("graph_ui_button_4",!1),cssSetStyleDisplayById("graph_ui_button_5",!1),cssSetStyleDisplayById("graph_ui_button_6",!1),cssSetStyleDisplayById("graph_ui_usage",usageFlag?!0:!1),cssSetStyleDisplayById("graph_ui_func",!1),cssSetStyleDisplayById("graph_ui_log",!1),cssSetStyleDisplayById("graph_ui_var",!1),cssSetStyleDisplayById("graph_ui_graph",!1),cssSetStyleDisplayById("graph_ui_window",!1),cssSetStyleDisplayById("graph_ui_table",!1),cssSetStyleDisplayById("graph_ui_option",!1),cssSetStyleDisplayById("graph_ui_color",!1),cssSetStyleDisplayById("graph_ui_selectimage",!1),cssSetStyleDisplayById("graph_ui_profile",!1),cssSetStyleDisplayById("graph_ui_table2",!1),cssUnlockStyleDisplay(),updateInputExpr1(),updateInputExpr2(),cssSetStyleDisplayById("graph_ui_button_"+(buttonMode+1),!0),doGraphStartEdit())}function setButtonMode(n){cssSetStyleDisplayById("graph_ui_button_1",!1);cssSetStyleDisplayById("graph_ui_button_2",!1);cssSetStyleDisplayById("graph_ui_button_3",!1);cssSetStyleDisplayById("graph_ui_button_4",!1);cssSetStyleDisplayById("graph_ui_button_5",!1);cssSetStyleDisplayById("graph_ui_button_6",!1);n==undefined?(buttonMode++,buttonMode==4?document.getElementById("last_button_extfunc").disabled&&(buttonMode=0):buttonMode==5?document.getElementById("last_button_extfunc2").disabled&&(buttonMode=0):buttonMode>=6&&(buttonMode=0)):buttonMode=n;cssSetStyleDisplayById("graph_ui_button_"+(buttonMode+1),!0)}function doButtonSHIFT(){setButtonMode()}function doButtonUIFunc(){menu!=3&&(setMenu(3),removeGraphEvent(),document.getElementById("button_ui_main").disabled=!1,document.getElementById("button_ui_func").disabled=!0,document.getElementById("button_ui_log").disabled=!1,document.getElementById("button_ui_var").disabled=!1,document.getElementById("button_ui_graph").disabled=!1,document.getElementById("button_ui_table").disabled=!1,document.getElementById("button_ui_option").disabled=!1,document.getElementById("button_ui_main2").disabled=!1,document.getElementById("button_ui_func2").disabled=!0,document.getElementById("button_ui_log2").disabled=!1,document.getElementById("button_ui_var2").disabled=!1,document.getElementById("button_ui_graph2").disabled=!1,document.getElementById("button_ui_table2").disabled=!1,document.getElementById("button_ui_option2").disabled=!1,cssLockStyleDisplay(),cssSetStyleDisplayById("graph_ui_menu",isAndroidTablet()||isIPad()?!1:!0),cssSetStyleDisplayById("graph_ui_menu2",isAndroidTablet()||isIPad()?!0:!1),cssSetStyleDisplayById("graph_ui_main",!1),cssSetStyleDisplayById("graph_ui_edit",!1),cssSetStyleDisplayById("graph_ui_button_1",!1),cssSetStyleDisplayById("graph_ui_button_2",!1),cssSetStyleDisplayById("graph_ui_button_3",!1),cssSetStyleDisplayById("graph_ui_button_4",!1),cssSetStyleDisplayById("graph_ui_button_5",!1),cssSetStyleDisplayById("graph_ui_button_6",!1),cssSetStyleDisplayById("graph_ui_usage",!1),cssSetStyleDisplayById("graph_ui_func",!0),cssSetStyleDisplayById("graph_ui_log",!1),cssSetStyleDisplayById("graph_ui_var",!1),cssSetStyleDisplayById("graph_ui_graph",!1),cssSetStyleDisplayById("graph_ui_window",!1),cssSetStyleDisplayById("graph_ui_table",!1),cssSetStyleDisplayById("graph_ui_option",!1),cssSetStyleDisplayById("graph_ui_color",!1),cssSetStyleDisplayById("graph_ui_selectimage",!1),cssSetStyleDisplayById("graph_ui_profile",!1),cssSetStyleDisplayById("graph_ui_table2",!1),cssUnlockStyleDisplay())}function doButtonUILog(){menu!=4&&(setMenu(4),removeGraphEvent(),document.getElementById("button_ui_main").disabled=!1,document.getElementById("button_ui_func").disabled=!1,document.getElementById("button_ui_log").disabled=!0,document.getElementById("button_ui_var").disabled=!1,document.getElementById("button_ui_graph").disabled=!1,document.getElementById("button_ui_table").disabled=!1,document.getElementById("button_ui_option").disabled=!1,document.getElementById("button_ui_main2").disabled=!1,document.getElementById("button_ui_func2").disabled=!1,document.getElementById("button_ui_log2").disabled=!0,document.getElementById("button_ui_var2").disabled=!1,document.getElementById("button_ui_graph2").disabled=!1,document.getElementById("button_ui_table2").disabled=!1,document.getElementById("button_ui_option2").disabled=!1,cssLockStyleDisplay(),cssSetStyleDisplayById("graph_ui_menu",isAndroidTablet()||isIPad()?!1:!0),cssSetStyleDisplayById("graph_ui_menu2",isAndroidTablet()||isIPad()?!0:!1),cssSetStyleDisplayById("graph_ui_main",!1),cssSetStyleDisplayById("graph_ui_edit",!1),cssSetStyleDisplayById("graph_ui_button_1",!1),cssSetStyleDisplayById("graph_ui_button_2",!1),cssSetStyleDisplayById("graph_ui_button_3",!1),cssSetStyleDisplayById("graph_ui_button_4",!1),cssSetStyleDisplayById("graph_ui_button_5",!1),cssSetStyleDisplayById("graph_ui_button_6",!1),cssSetStyleDisplayById("graph_ui_usage",!1),cssSetStyleDisplayById("graph_ui_func",!1),cssSetStyleDisplayById("graph_ui_log",!0),cssSetStyleDisplayById("graph_ui_var",!1),cssSetStyleDisplayById("graph_ui_graph",!1),cssSetStyleDisplayById("graph_ui_window",!1),cssSetStyleDisplayById("graph_ui_table",!1),cssSetStyleDisplayById("graph_ui_option",!1),cssSetStyleDisplayById("graph_ui_color",!1),cssSetStyleDisplayById("graph_ui_selectimage",!1),cssSetStyleDisplayById("graph_ui_profile",!1),cssSetStyleDisplayById("graph_ui_table2",!1),cssUnlockStyleDisplay(),con.scrollBottom())}function doButtonUIVar(){menu!=5&&(setMenu(5),removeGraphEvent(),document.getElementById("button_ui_main").disabled=!1,document.getElementById("button_ui_func").disabled=!1,document.getElementById("button_ui_log").disabled=!1,document.getElementById("button_ui_var").disabled=!0,document.getElementById("button_ui_graph").disabled=!1,document.getElementById("button_ui_table").disabled=!1,document.getElementById("button_ui_option").disabled=!1,document.getElementById("button_ui_main2").disabled=!1,document.getElementById("button_ui_func2").disabled=!1,document.getElementById("button_ui_log2").disabled=!1,document.getElementById("button_ui_var2").disabled=!0,document.getElementById("button_ui_graph2").disabled=!1,document.getElementById("button_ui_table2").disabled=!1,document.getElementById("button_ui_option2").disabled=!1,cssLockStyleDisplay(),cssSetStyleDisplayById("graph_ui_menu",isAndroidTablet()||isIPad()?!1:!0),cssSetStyleDisplayById("graph_ui_menu2",isAndroidTablet()||isIPad()?!0:!1),cssSetStyleDisplayById("graph_ui_main",!1),cssSetStyleDisplayById("graph_ui_edit",!1),cssSetStyleDisplayById("graph_ui_button_1",!1),cssSetStyleDisplayById("graph_ui_button_2",!1),cssSetStyleDisplayById("graph_ui_button_3",!1),cssSetStyleDisplayById("graph_ui_button_4",!1),cssSetStyleDisplayById("graph_ui_button_5",!1),cssSetStyleDisplayById("graph_ui_button_6",!1),cssSetStyleDisplayById("graph_ui_usage",!1),cssSetStyleDisplayById("graph_ui_func",!1),cssSetStyleDisplayById("graph_ui_log",!1),cssSetStyleDisplayById("graph_ui_var",!0),cssSetStyleDisplayById("graph_ui_graph",!1),cssSetStyleDisplayById("graph_ui_window",!1),cssSetStyleDisplayById("graph_ui_table",!1),cssSetStyleDisplayById("graph_ui_option",!1),cssSetStyleDisplayById("graph_ui_color",!1),cssSetStyleDisplayById("graph_ui_selectimage",!1),cssSetStyleDisplayById("graph_ui_profile",!1),cssSetStyleDisplayById("graph_ui_table2",!1),cssUnlockStyleDisplay())}function doButtonUIGraph(){menu!=0&&(setMenu(0),addGraphEvent(canvas),document.getElementById("button_ui_main").disabled=!1,document.getElementById("button_ui_func").disabled=!1,document.getElementById("button_ui_log").disabled=!1,document.getElementById("button_ui_var").disabled=!1,document.getElementById("button_ui_graph").disabled=!0,document.getElementById("button_ui_table").disabled=!1,document.getElementById("button_ui_option").disabled=!1,document.getElementById("button_ui_main2").disabled=!1,document.getElementById("button_ui_func2").disabled=!1,document.getElementById("button_ui_log2").disabled=!1,document.getElementById("button_ui_var2").disabled=!1,document.getElementById("button_ui_graph2").disabled=!0,document.getElementById("button_ui_table2").disabled=!1,document.getElementById("button_ui_option2").disabled=!1,cssLockStyleDisplay(),cssSetStyleDisplayById("graph_ui_menu",isAndroidTablet()||isIPad()?!1:!0),cssSetStyleDisplayById("graph_ui_menu2",isAndroidTablet()||isIPad()?!0:!1),cssSetStyleDisplayById("graph_ui_main",!1),cssSetStyleDisplayById("graph_ui_edit",!1),cssSetStyleDisplayById("graph_ui_button_1",!1),cssSetStyleDisplayById("graph_ui_button_2",!1),cssSetStyleDisplayById("graph_ui_button_3",!1),cssSetStyleDisplayById("graph_ui_button_4",!1),cssSetStyleDisplayById("graph_ui_button_5",!1),cssSetStyleDisplayById("graph_ui_button_6",!1),cssSetStyleDisplayById("graph_ui_usage",!1),cssSetStyleDisplayById("graph_ui_func",!1),cssSetStyleDisplayById("graph_ui_log",!1),cssSetStyleDisplayById("graph_ui_var",!1),cssSetStyleDisplayById("graph_ui_graph",!0),cssSetStyleDisplayById("graph_ui_window",!1),cssSetStyleDisplayById("graph_ui_table",!1),cssSetStyleDisplayById("graph_ui_option",!1),cssSetStyleDisplayById("graph_ui_color",!1),cssSetStyleDisplayById("graph_ui_selectimage",!1),cssSetStyleDisplayById("graph_ui_profile",!1),cssSetStyleDisplayById("graph_ui_table2",!1),cssUnlockStyleDisplay(),updateInputExpr1(),updateInputExpr2())}function doButtonUIWindow(){setMenu(1);removeGraphEvent();document.getElementById("button_ui_main").disabled=!1;document.getElementById("button_ui_func").disabled=!1;document.getElementById("button_ui_log").disabled=!1;document.getElementById("button_ui_var").disabled=!1;document.getElementById("button_ui_graph").disabled=!1;document.getElementById("button_ui_table").disabled=!1;document.getElementById("button_ui_option").disabled=!1;document.getElementById("button_ui_main2").disabled=!1;document.getElementById("button_ui_func2").disabled=!1;document.getElementById("button_ui_log2").disabled=!1;document.getElementById("button_ui_var2").disabled=!1;document.getElementById("button_ui_graph2").disabled=!1;document.getElementById("button_ui_table2").disabled=!1;document.getElementById("button_ui_option2").disabled=!1;cssLockStyleDisplay();cssSetStyleDisplayById("graph_ui_menu",!1);cssSetStyleDisplayById("graph_ui_menu2",!1);cssSetStyleDisplayById("graph_ui_main",!1);cssSetStyleDisplayById("graph_ui_edit",!1);cssSetStyleDisplayById("graph_ui_button_1",!1);cssSetStyleDisplayById("graph_ui_button_2",!1);cssSetStyleDisplayById("graph_ui_button_3",!1);cssSetStyleDisplayById("graph_ui_button_4",!1);cssSetStyleDisplayById("graph_ui_button_5",!1);cssSetStyleDisplayById("graph_ui_button_6",!1);cssSetStyleDisplayById("graph_ui_usage",!1);cssSetStyleDisplayById("graph_ui_func",!1);cssSetStyleDisplayById("graph_ui_log",!1);cssSetStyleDisplayById("graph_ui_var",!1);cssSetStyleDisplayById("graph_ui_graph",!1);cssSetStyleDisplayById("graph_ui_window",!0);cssSetStyleDisplayById("graph_ui_table",!1);cssSetStyleDisplayById("graph_ui_option",!1);cssSetStyleDisplayById("graph_ui_color",!1);cssSetStyleDisplayById("graph_ui_selectimage",!1);cssSetStyleDisplayById("graph_ui_profile",!1);cssSetStyleDisplayById("graph_ui_table2",!1);cssUnlockStyleDisplay();doGraphStartEnv()}function doButtonUITable(){menu!=6&&(setMenu(6),removeGraphEvent(),document.getElementById("button_ui_main").disabled=!1,document.getElementById("button_ui_func").disabled=!1,document.getElementById("button_ui_log").disabled=!1,document.getElementById("button_ui_var").disabled=!1,document.getElementById("button_ui_graph").disabled=!1,document.getElementById("button_ui_table").disabled=!0,document.getElementById("button_ui_option").disabled=!1,document.getElementById("button_ui_main2").disabled=!1,document.getElementById("button_ui_func2").disabled=!1,document.getElementById("button_ui_log2").disabled=!1,document.getElementById("button_ui_var2").disabled=!1,document.getElementById("button_ui_graph2").disabled=!1,document.getElementById("button_ui_table2").disabled=!0,document.getElementById("button_ui_option2").disabled=!1,cssLockStyleDisplay(),cssSetStyleDisplayById("graph_ui_menu",isAndroidTablet()||isIPad()?!1:!0),cssSetStyleDisplayById("graph_ui_menu2",isAndroidTablet()||isIPad()?!0:!1),cssSetStyleDisplayById("graph_ui_main",!1),cssSetStyleDisplayById("graph_ui_edit",!1),cssSetStyleDisplayById("graph_ui_button_1",!1),cssSetStyleDisplayById("graph_ui_button_2",!1),cssSetStyleDisplayById("graph_ui_button_3",!1),cssSetStyleDisplayById("graph_ui_button_4",!1),cssSetStyleDisplayById("graph_ui_button_5",!1),cssSetStyleDisplayById("graph_ui_button_6",!1),cssSetStyleDisplayById("graph_ui_usage",!1),cssSetStyleDisplayById("graph_ui_func",!1),cssSetStyleDisplayById("graph_ui_log",!1),cssSetStyleDisplayById("graph_ui_var",!1),cssSetStyleDisplayById("graph_ui_graph",!1),cssSetStyleDisplayById("graph_ui_window",!1),cssSetStyleDisplayById("graph_ui_table",!0),cssSetStyleDisplayById("graph_ui_option",!1),cssSetStyleDisplayById("graph_ui_color",!1),cssSetStyleDisplayById("graph_ui_selectimage",!1),cssSetStyleDisplayById("graph_ui_profile",!1),cssSetStyleDisplayById("graph_ui_table2",!1),cssUnlockStyleDisplay())}function doButtonUIOption(){menu!=7&&(setMenu(7),removeGraphEvent(),document.getElementById("button_ui_main").disabled=!1,document.getElementById("button_ui_func").disabled=!1,document.getElementById("button_ui_log").disabled=!1,document.getElementById("button_ui_var").disabled=!1,document.getElementById("button_ui_graph").disabled=!1,document.getElementById("button_ui_table").disabled=!1,document.getElementById("button_ui_option").disabled=!0,document.getElementById("button_ui_main2").disabled=!1,document.getElementById("button_ui_func2").disabled=!1,document.getElementById("button_ui_log2").disabled=!1,document.getElementById("button_ui_var2").disabled=!1,document.getElementById("button_ui_graph2").disabled=!1,document.getElementById("button_ui_table2").disabled=!1,document.getElementById("button_ui_option2").disabled=!0,cssLockStyleDisplay(),cssSetStyleDisplayById("graph_ui_menu",isAndroidTablet()||isIPad()?!1:!0),cssSetStyleDisplayById("graph_ui_menu2",isAndroidTablet()||isIPad()?!0:!1),cssSetStyleDisplayById("graph_ui_main",!1),cssSetStyleDisplayById("graph_ui_edit",!1),cssSetStyleDisplayById("graph_ui_button_1",!1),cssSetStyleDisplayById("graph_ui_button_2",!1),cssSetStyleDisplayById("graph_ui_button_3",!1),cssSetStyleDisplayById("graph_ui_button_4",!1),cssSetStyleDisplayById("graph_ui_button_5",!1),cssSetStyleDisplayById("graph_ui_button_6",!1),cssSetStyleDisplayById("graph_ui_usage",!1),cssSetStyleDisplayById("graph_ui_func",!1),cssSetStyleDisplayById("graph_ui_log",!1),cssSetStyleDisplayById("graph_ui_var",!1),cssSetStyleDisplayById("graph_ui_graph",!1),cssSetStyleDisplayById("graph_ui_window",!1),cssSetStyleDisplayById("graph_ui_table",!1),cssSetStyleDisplayById("graph_ui_option",!0),cssSetStyleDisplayById("graph_ui_color",!1),cssSetStyleDisplayById("graph_ui_selectimage",!1),cssSetStyleDisplayById("graph_ui_profile",!1),cssSetStyleDisplayById("graph_ui_table2",!1),cssUnlockStyleDisplay(),updateGraphEditScreen())}function doButtonUIColor(){setMenu(8);removeGraphEvent();document.getElementById("button_ui_main").disabled=!1;document.getElementById("button_ui_func").disabled=!1;document.getElementById("button_ui_log").disabled=!1;document.getElementById("button_ui_var").disabled=!1;document.getElementById("button_ui_graph").disabled=!1;document.getElementById("button_ui_table").disabled=!1;document.getElementById("button_ui_option").disabled=!1;document.getElementById("button_ui_main2").disabled=!1;document.getElementById("button_ui_func2").disabled=!1;document.getElementById("button_ui_log2").disabled=!1;document.getElementById("button_ui_var2").disabled=!1;document.getElementById("button_ui_graph2").disabled=!1;document.getElementById("button_ui_table2").disabled=!1;document.getElementById("button_ui_option2").disabled=!1;cssLockStyleDisplay();cssSetStyleDisplayById("graph_ui_menu",!1);cssSetStyleDisplayById("graph_ui_menu2",!1);cssSetStyleDisplayById("graph_ui_main",!1);cssSetStyleDisplayById("graph_ui_edit",!1);cssSetStyleDisplayById("graph_ui_button_1",!1);cssSetStyleDisplayById("graph_ui_button_2",!1);cssSetStyleDisplayById("graph_ui_button_3",!1);cssSetStyleDisplayById("graph_ui_button_4",!1);cssSetStyleDisplayById("graph_ui_button_5",!1);cssSetStyleDisplayById("graph_ui_button_6",!1);cssSetStyleDisplayById("graph_ui_usage",!1);cssSetStyleDisplayById("graph_ui_func",!1);cssSetStyleDisplayById("graph_ui_log",!1);cssSetStyleDisplayById("graph_ui_var",!1);cssSetStyleDisplayById("graph_ui_graph",!1);cssSetStyleDisplayById("graph_ui_window",!1);cssSetStyleDisplayById("graph_ui_table",!1);cssSetStyleDisplayById("graph_ui_option",!1);cssSetStyleDisplayById("graph_ui_color",!0);cssSetStyleDisplayById("graph_ui_selectimage",!1);cssSetStyleDisplayById("graph_ui_profile",!1);cssSetStyleDisplayById("graph_ui_table2",!1);cssUnlockStyleDisplay()}function doButtonUISelectImage(){setMenu(9);removeGraphEvent();document.getElementById("button_ui_main").disabled=!1;document.getElementById("button_ui_func").disabled=!1;document.getElementById("button_ui_log").disabled=!1;document.getElementById("button_ui_var").disabled=!1;document.getElementById("button_ui_graph").disabled=!1;document.getElementById("button_ui_table").disabled=!1;document.getElementById("button_ui_option").disabled=!1;document.getElementById("button_ui_main2").disabled=!1;document.getElementById("button_ui_func2").disabled=!1;document.getElementById("button_ui_log2").disabled=!1;document.getElementById("button_ui_var2").disabled=!1;document.getElementById("button_ui_graph2").disabled=!1;document.getElementById("button_ui_table2").disabled=!1;document.getElementById("button_ui_option2").disabled=!1;cssLockStyleDisplay();cssSetStyleDisplayById("graph_ui_menu",!1);cssSetStyleDisplayById("graph_ui_menu2",!1);cssSetStyleDisplayById("graph_ui_main",!1);cssSetStyleDisplayById("graph_ui_edit",!1);cssSetStyleDisplayById("graph_ui_button_1",!1);cssSetStyleDisplayById("graph_ui_button_2",!1);cssSetStyleDisplayById("graph_ui_button_3",!1);cssSetStyleDisplayById("graph_ui_button_4",!1);cssSetStyleDisplayById("graph_ui_button_5",!1);cssSetStyleDisplayById("graph_ui_button_6",!1);cssSetStyleDisplayById("graph_ui_usage",!1);cssSetStyleDisplayById("graph_ui_func",!1);cssSetStyleDisplayById("graph_ui_log",!1);cssSetStyleDisplayById("graph_ui_var",!1);cssSetStyleDisplayById("graph_ui_graph",!1);cssSetStyleDisplayById("graph_ui_window",!1);cssSetStyleDisplayById("graph_ui_table",!1);cssSetStyleDisplayById("graph_ui_option",!1);cssSetStyleDisplayById("graph_ui_color",!1);cssSetStyleDisplayById("graph_ui_selectimage",!0);cssSetStyleDisplayById("graph_ui_profile",!1);cssSetStyleDisplayById("graph_ui_table2",!1);cssUnlockStyleDisplay()}function doButtonUIProfile(n){setMenu(10);removeGraphEvent();cssSetStyleDisplayById("button_profile_import2",n?!1:!0);document.getElementById("profile").readOnly=n;n||(document.getElementById("profile").value="");document.getElementById("button_ui_main").disabled=!1;document.getElementById("button_ui_func").disabled=!1;document.getElementById("button_ui_log").disabled=!1;document.getElementById("button_ui_var").disabled=!1;document.getElementById("button_ui_graph").disabled=!1;document.getElementById("button_ui_table").disabled=!1;document.getElementById("button_ui_option").disabled=!1;document.getElementById("button_ui_main2").disabled=!1;document.getElementById("button_ui_func2").disabled=!1;document.getElementById("button_ui_log2").disabled=!1;document.getElementById("button_ui_var2").disabled=!1;document.getElementById("button_ui_graph2").disabled=!1;document.getElementById("button_ui_table2").disabled=!1;document.getElementById("button_ui_option2").disabled=!1;cssLockStyleDisplay();cssSetStyleDisplayById("graph_ui_menu",!1);cssSetStyleDisplayById("graph_ui_menu2",!1);cssSetStyleDisplayById("graph_ui_main",!1);cssSetStyleDisplayById("graph_ui_edit",!1);cssSetStyleDisplayById("graph_ui_button_1",!1);cssSetStyleDisplayById("graph_ui_button_2",!1);cssSetStyleDisplayById("graph_ui_button_3",!1);cssSetStyleDisplayById("graph_ui_button_4",!1);cssSetStyleDisplayById("graph_ui_button_5",!1);cssSetStyleDisplayById("graph_ui_button_6",!1);cssSetStyleDisplayById("graph_ui_usage",!1);cssSetStyleDisplayById("graph_ui_func",!1);cssSetStyleDisplayById("graph_ui_log",!1);cssSetStyleDisplayById("graph_ui_var",!1);cssSetStyleDisplayById("graph_ui_graph",!1);cssSetStyleDisplayById("graph_ui_window",!1);cssSetStyleDisplayById("graph_ui_table",!1);cssSetStyleDisplayById("graph_ui_option",!1);cssSetStyleDisplayById("graph_ui_color",!1);cssSetStyleDisplayById("graph_ui_selectimage",!1);cssSetStyleDisplayById("graph_ui_profile",!0);cssSetStyleDisplayById("graph_ui_table2",!1);cssUnlockStyleDisplay()}function doButtonUITable2(){var n,t;for(setMenu(11),removeGraphEvent(),document.getElementById("table").readOnly=!0,n=new String,n+=graphUI._tableX,n+=graphUI._editExpr1.length>0?","+graphUI._editExpr1:","+graphUI._tableY1,graphUI._editExpr2.length>0?n+=","+graphUI._editExpr2:graphUI._tableY2.length>0&&(n+=","+graphUI._tableY2),n+="\n",t=0;t<listTable[graphIndex()].num();t++)n+=listTable[graphIndex()].obj(t)._x,n+=","+listTable[graphIndex()].obj(t)._y1,graphUI._tableY2.length>0&&(n+=","+listTable[graphIndex()].obj(t)._y2),n+="\n";document.getElementById("table").value=n;document.getElementById("button_ui_main").disabled=!1;document.getElementById("button_ui_func").disabled=!1;document.getElementById("button_ui_log").disabled=!1;document.getElementById("button_ui_var").disabled=!1;document.getElementById("button_ui_graph").disabled=!1;document.getElementById("button_ui_table").disabled=!1;document.getElementById("button_ui_option").disabled=!1;document.getElementById("button_ui_main2").disabled=!1;document.getElementById("button_ui_func2").disabled=!1;document.getElementById("button_ui_log2").disabled=!1;document.getElementById("button_ui_var2").disabled=!1;document.getElementById("button_ui_graph2").disabled=!1;document.getElementById("button_ui_table2").disabled=!1;document.getElementById("button_ui_option2").disabled=!1;cssLockStyleDisplay();cssSetStyleDisplayById("graph_ui_menu",!1);cssSetStyleDisplayById("graph_ui_menu2",!1);cssSetStyleDisplayById("graph_ui_main",!1);cssSetStyleDisplayById("graph_ui_edit",!1);cssSetStyleDisplayById("graph_ui_button_1",!1);cssSetStyleDisplayById("graph_ui_button_2",!1);cssSetStyleDisplayById("graph_ui_button_3",!1);cssSetStyleDisplayById("graph_ui_button_4",!1);cssSetStyleDisplayById("graph_ui_button_5",!1);cssSetStyleDisplayById("graph_ui_button_6",!1);cssSetStyleDisplayById("graph_ui_usage",!1);cssSetStyleDisplayById("graph_ui_func",!1);cssSetStyleDisplayById("graph_ui_log",!1);cssSetStyleDisplayById("graph_ui_var",!1);cssSetStyleDisplayById("graph_ui_graph",!1);cssSetStyleDisplayById("graph_ui_window",!1);cssSetStyleDisplayById("graph_ui_table",!1);cssSetStyleDisplayById("graph_ui_option",!1);cssSetStyleDisplayById("graph_ui_color",!1);cssSetStyleDisplayById("graph_ui_selectimage",!1);cssSetStyleDisplayById("graph_ui_profile",!1);cssSetStyleDisplayById("graph_ui_table2",!0);cssUnlockStyleDisplay()}function clearConsole(){con.clear()}function updateListTable(n){var t=new String,i,f=0,r,u;for(t+="<table width='450' border='0' cellpadding='0' cellspacing='0'>",t+="<tr><td width='140' height='24' bgcolor='#E0E0E0'>",t+=n._tableX,t+="<\/td><td width='140' height='24' bgcolor='#E0E0E0'>",t+=n._tableY1,t+="<\/td><td width='140' height='24' bgcolor='#E0E0E0'>",t+=n._tableY2,t+="<\/td><\/tr>",r=listTable[graphIndex()].scroll();r<listTable[graphIndex()].num();r++){for(t+="<tr>",u=0;u<3;u++){t+=r==listTable[graphIndex()].index()?"<td width='140' bgcolor='"+cursorBack+"'>":"<td width='140'>";switch(u){case 0:i=listTable[graphIndex()].obj(r)._x;break;case 1:i=listTable[graphIndex()].obj(r)._y1;break;case 2:i=listTable[graphIndex()].obj(r)._y2}i.length>13&&(i=r==listTable[graphIndex()].index()?i.substring(0,11)+"<span class='span_ellipsis' style='color:"+cursorText+"'>...<\/span>":i.substring(0,11)+"<span class='span_ellipsis'>...<\/span>");t+=r==listTable[graphIndex()].index()?"<span style='color:"+cursorText+"'>"+i+"<\/span>":i;t+="<\/td>"}if(t+="<\/tr>",f++,f>=listTable[graphIndex()].lineNum())break}t+="<\/table>";divTable.innerHTML=t}function addListTable(){var t=""+document.getElementById("graph_edit_trace_x").value,r=""+document.getElementById("graph_edit_trace_y1").value,u=""+document.getElementById("graph_edit_trace_y2").value,n,i;if(t.length>0){for(i=0,n=0;n<listTable[graphIndex()].num();n++){if(listTable[graphIndex()].obj(n)._x==t)break;parseFloat(listTable[graphIndex()].obj(n)._x)<parseFloat(t)&&(i=n+1)}n==listTable[graphIndex()].num()&&(listTable[graphIndex()].ins(i,new ListTableItem(t,r,u)),updateListTable(graphUI),writeProfileTable())}}function doGraphEditTraceX(){if(document.getElementById("graph_edit_trace_y1").value="",document.getElementById("graph_edit_trace_y2").value="",graphUI._editX=""+document.getElementById("graph_edit_trace_x").value,graphUI._editX.length>0){var n=parseFloat(graphUI._editX),t=new _Float,i=new _Float;procGraph().get(topProc,topParam,n,t,i)&&(graphUI.setValue(n,t._val,i._val),addListTable())}}function doButtonSTO(){doGraphEditTraceX()}function updateLanguage(){document.title=englishFlag?"ClipGraph":"関数グラフ";var n;n=document.getElementById("graph_select_mode");n.options[0].innerHTML=englishFlag?"Linear":"線形座標";n.options[1].innerHTML=englishFlag?"X logarithm":"X軸対数";n.options[2].innerHTML=englishFlag?"Y logarithm":"Y軸対数";n.options[3].innerHTML=englishFlag?"Logarithmic":"対数座標";n.options[4].innerHTML=englishFlag?"Parametric":"媒介変数";n.options[5].innerHTML=englishFlag?"Polar":"極座標";document.getElementById("graph_static_calculator").innerHTML=englishFlag?"Calculator mode":"電卓モード";document.getElementById("button_loadextfunc").innerHTML=englishFlag?"Load external function":"外部関数読み込み";document.getElementById("button_log_del").innerHTML=englishFlag?"Del":"消";document.getElementById("button_log_delall").innerHTML=englishFlag?"Clear":"クリアする";document.getElementById("button_console_clear").innerHTML=englishFlag?"Clear":"クリアする";document.getElementById("graph_static_color_graph").innerHTML=englishFlag?"Graph:":"ｸﾞﾗﾌ:";document.getElementById("button_env_cancel").innerHTML=englishFlag?"Cancel":"ｷｬﾝｾﾙ";document.getElementById("button_env_reset").innerHTML=englishFlag?"&nbsp;&nbsp;Reset&nbsp;&nbsp;":"初期化する";document.getElementById("graph_static_env_offset").innerHTML=englishFlag?"Offset specification (pixels)":"オフセット指定(pixels)";document.getElementById("graph_static_env_offset_x").innerHTML=englishFlag?"Offset X:":"X方向ｵﾌｾｯﾄ:";document.getElementById("graph_static_env_offset_y").innerHTML=englishFlag?"Offset Y:":"Y方向ｵﾌｾｯﾄ:";document.getElementById("graph_static_ratio_x").innerHTML=englishFlag?"Unit X:":"X方向の単位:";document.getElementById("graph_static_ratio").innerHTML=englishFlag?"Unit:":"単位:";document.getElementById("graph_static_ratio_y").innerHTML=englishFlag?"Unit Y:":"Y方向の単位:";document.getElementById("graph_static_env_window").innerHTML=englishFlag?"Window specification":"ウィンドウ指定";document.getElementById("graph_static_env_attention").innerHTML=englishFlag?"* If you specify in the window, some errors will occur.":"※ウィンドウで指定した場合、若干の誤差が生じます。";document.getElementById("button_table_del").innerHTML=englishFlag?"Del":"消";document.getElementById("button_table_export").innerHTML=englishFlag?"Export":"ｴｸｽﾎﾟｰﾄ";document.getElementById("graph_static_option1").innerHTML=englishFlag?"Skin:":"スキン:";n=document.getElementById("graph_select_skin");n.options[0].innerHTML=englishFlag?"Green":"グリーン";n.options[1].innerHTML=englishFlag?"Gray":"グレー";n.options[2].innerHTML=englishFlag?"Purple":"パープル";n.options[3].innerHTML=englishFlag?"Metal (gold)":"メタル(金)";n.options[4].innerHTML=englishFlag?"Metal (silver)":"メタル(銀)";n.options[5].innerHTML=englishFlag?"Metal (iron)":"メタル(鉄)";n.options[6].innerHTML=englishFlag?"Color":"カラー";n.options[7].innerHTML=englishFlag?"Image":"画像";n=document.getElementById("graph_select_skin_color");n.options[0].innerHTML=englishFlag?"Gray":"グレー";n.options[1].innerHTML=englishFlag?"Brown":"ブラウン";n.options[2].innerHTML=englishFlag?"Red":"レッド";n.options[3].innerHTML=englishFlag?"Pink":"ピンク";n.options[4].innerHTML=englishFlag?"Orange":"オレンジ";n.options[5].innerHTML=englishFlag?"Cream":"クリーム";n.options[6].innerHTML=englishFlag?"Green":"グリーン";n.options[7].innerHTML=englishFlag?"Sky blue":"スカイブルー";n.options[8].innerHTML=englishFlag?"Blue":"ブルー";n.options[9].innerHTML=englishFlag?"Purple":"パープル";n.options[10].innerHTML=englishFlag?"Custom":"カスタム";n=document.getElementById("graph_select_skin_trans");n.options[0].innerHTML=englishFlag?"100% through":"100%透過";n.options[1].innerHTML=englishFlag?"90% through":"90%透過";n.options[2].innerHTML=englishFlag?"80% through":"80%透過";n.options[3].innerHTML=englishFlag?"70% through":"70%透過";n.options[4].innerHTML=englishFlag?"60% through":"60%透過";n.options[5].innerHTML=englishFlag?"50% through":"50%透過";document.getElementById("graph_static_option2").innerHTML=englishFlag?"Lock":"固定";document.getElementById("graph_static_option3").innerHTML=englishFlag?"Lock":"固定";document.getElementById("graph_static_option4").innerHTML=englishFlag?"Lock":"固定";document.getElementById("graph_static_option5").innerHTML=englishFlag?"Pos X:":"X方向:";document.getElementById("graph_static_option6").innerHTML=englishFlag?"Pos Y:":"Y方向:";document.getElementById("graph_static_option7").innerHTML=englishFlag?"Scale line":"目盛り線";document.getElementById("graph_static_option8").innerHTML=englishFlag?"Unit X:":"X方向:";document.getElementById("graph_static_option9").innerHTML=englishFlag?"Unit Y:":"Y方向:";document.getElementById("graph_static_option10").innerHTML=englishFlag?"Scale text":"目盛り文字";document.getElementById("graph_static_option11").innerHTML=englishFlag?"X:":"X方向:";document.getElementById("graph_static_option12").innerHTML=englishFlag?"Every":"毎";document.getElementById("graph_static_option13").innerHTML=englishFlag?"Y:":"Y方向:";document.getElementById("graph_static_option14").innerHTML=englishFlag?"Every":"毎";document.getElementById("button_color").innerHTML=englishFlag?"More":"詳細";document.getElementById("graph_static_option15").innerHTML=englishFlag?"Graph re-generation:":"グラフ再生成:";document.getElementById("graph_static_option16").innerHTML=englishFlag?"When changing the coordinate system":"座標系の変更時";document.getElementById("graph_static_option17").innerHTML=englishFlag?"When the unit change of angle":"角度の単位変更時";document.getElementById("graph_static_option18").innerHTML=englishFlag?"When changing the window coordinates (including hand tool)":"ｳｨﾝﾄﾞｳ座標の変更時(手のひらﾂｰﾙ含む)";document.getElementById("graph_static_option19").innerHTML=englishFlag?"Usage is indicated when pressing button":"ボタン押下時に使用法を表示";document.getElementById("button_storage_clear").innerHTML=englishFlag?"Clear<br>storage":"ストレージ<br>クリア";document.getElementById("button_cookie_clear").innerHTML=englishFlag?"Clear<br>cookie":"Cookie<br>クリア";document.getElementById("button_profile_export").innerHTML=englishFlag?"Export<br>profile":"環境設定<br>ｴｸｽﾎﾟｰﾄ";document.getElementById("button_profile_import").innerHTML=englishFlag?"Import<br>profile":"環境設定<br>ｲﾝﾎﾟｰﾄ";document.getElementById("button_return").innerHTML=englishFlag?"Return":"戻る";document.getElementById("graph_static_color_back").innerHTML=englishFlag?"Back:":"背景:";document.getElementById("graph_static_color_scale").innerHTML=englishFlag?"Scale:":"X/Y軸:";document.getElementById("graph_static_color_unit").innerHTML=englishFlag?"Unit:":"目盛り線:";document.getElementById("graph_static_color_text").innerHTML=englishFlag?"Text:":"文字:";document.getElementById("graph_static_color_graph2").innerHTML=englishFlag?"Graph:":"グラフ:";document.getElementById("button_return2").innerHTML=englishFlag?"Return":"戻る";document.getElementById("button_selectimage_del").innerHTML=englishFlag?"Del":"消";document.getElementById("button_return3").innerHTML=englishFlag?"Return":"戻る";document.getElementById("button_profile_import2").innerHTML=englishFlag?"Import":"ｲﾝﾎﾟｰﾄする";document.getElementById("button_return4").innerHTML=englishFlag?"Return":"戻る";document.getElementById("button_savefunc").innerHTML=englishFlag?"Save":"保存する";document.getElementById("graph_static_tab").innerHTML=englishFlag?"Tab width:":"Tab幅:";document.getElementById("graph_static_smart").innerHTML=englishFlag?"Smart":"スマート";englishFlag?(cssSetStyleDisplayById("lang_japanese",!1),cssSetStyleDisplayById("lang_japanese2",!1),cssSetStyleDisplayById("lang_japanese3",!1),cssSetStyleDisplayById("lang_english",!0),cssSetStyleDisplayById("lang_english2",!0),cssSetStyleDisplayById("lang_english3",!0)):(cssSetStyleDisplayById("lang_english",!1),cssSetStyleDisplayById("lang_english2",!1),cssSetStyleDisplayById("lang_english3",!1),cssSetStyleDisplayById("lang_japanese",!0),cssSetStyleDisplayById("lang_japanese2",!0),cssSetStyleDisplayById("lang_japanese3",!0));document.getElementById("button_lang").innerHTML=englishFlag?"to JP":"to EN"}function setEnglish(n){cssSetStyleDisplayById("button_lang",!1);englishFlag=n;updateLanguage()}function doButtonLang(){englishFlag=englishFlag?!1:!0;writeProfileInt("ENV_","Language",englishFlag?1:0);updateLanguage();document.getElementById("graph_usage").innerHTML=""}function doButtonMark(){var n=listTable[graphIndex()].obj(listTable[graphIndex()].index());n!=null&&(document.getElementById("graph_edit_trace_x").value=""+n._x,document.getElementById("graph_edit_trace_y1").value=""+n._y1,document.getElementById("graph_edit_trace_y2").value=""+n._y2,graphUI.setValue(parseFloat(n._x),parseFloat(n._y1),parseFloat(n._y2)),doButtonUIGraph())}function upListTable(){listTable[graphIndex()].up();updateListTable(graphUI)}function downListTable(){listTable[graphIndex()].down();updateListTable(graphUI)}function delListTable(){listTable[graphIndex()].del(listTable[graphIndex()].index());updateListTable(graphUI);writeProfileTable()}function delAllListTable(){listTable[graphIndex()].delAll();updateListTable(graphUI);writeProfileTable()}function doButtonEditMinUp(){doButtonUpFloat("graph_edit_min",1)}function doButtonEditMinDown(){doButtonDownFloat("graph_edit_min",1)}function doButtonEditMaxUp(){doButtonUpFloat("graph_edit_max",1)}function doButtonEditMaxDown(){doButtonDownFloat("graph_edit_max",1)}function doButtonEditPitchUp(){doButtonUpFloat("graph_edit_pitch",1)}function doButtonEditPitchDown(){doButtonDownFloat("graph_edit_pitch",1)}function doButtonEditOffsetXUp(){doButtonUpFloat("graph_edit_offset_x",1)&&doGraphEditOffsetX()}function doButtonEditOffsetXDown(){doButtonDownFloat("graph_edit_offset_x",1)&&doGraphEditOffsetX()}function doButtonEditOffsetYUp(){doButtonUpFloat("graph_edit_offset_y",1)&&doGraphEditOffsetY()}function doButtonEditOffsetYDown(){doButtonDownFloat("graph_edit_offset_y",1)&&doGraphEditOffsetY()}function doButtonEditRatioXUp(){doButtonUpFloat("graph_edit_ratio_x",1)&&doGraphEditRatioX()}function doButtonEditRatioXDown(){doButtonDownFloat("graph_edit_ratio_x",1)&&doGraphEditRatioX()}function doButtonEditRatioYUp(){doButtonUpFloat("graph_edit_ratio_y",1)&&doGraphEditRatioY()}function doButtonEditRatioYDown(){doButtonDownFloat("graph_edit_ratio_y",1)&&doGraphEditRatioY()}function doButtonEditLeftUp(){doButtonUpFloat("graph_edit_left",1)&&doGraphEditLeft()}function doButtonEditLeftDown(){doButtonDownFloat("graph_edit_left",1)&&doGraphEditLeft()}function doButtonEditBottomUp(){doButtonUpFloat("graph_edit_bottom",1)&&doGraphEditBottom()}function doButtonEditBottomDown(){doButtonDownFloat("graph_edit_bottom",1)&&doGraphEditBottom()}function doButtonEditRightUp(){doButtonUpFloat("graph_edit_right",1)&&doGraphEditRight()}function doButtonEditRightDown(){doButtonDownFloat("graph_edit_right",1)&&doGraphEditRight()}function doButtonEditTopUp(){doButtonUpFloat("graph_edit_top",1)&&doGraphEditTop()}function doButtonEditTopDown(){doButtonDownFloat("graph_edit_top",1)&&doGraphEditTop()}function doButtonEditUnitXUp(){doButtonUpFloat("graph_edit_unit_x",1)&&doGraphEditScreen()}function doButtonEditUnitXDown(){doButtonDownFloat("graph_edit_unit_x",1,0)&&doGraphEditScreen()}function doButtonEditUnitYUp(){doButtonUpFloat("graph_edit_unit_y",1)&&doGraphEditScreen()}function doButtonEditUnitYDown(){doButtonDownFloat("graph_edit_unit_y",1,0)&&doGraphEditScreen()}function doButtonEditTextXUp(){doButtonUpInt("graph_edit_text_x",1)&&doGraphEditScreen()}function doButtonEditTextXDown(){doButtonDownInt("graph_edit_text_x",1,1)&&doGraphEditScreen()}function doButtonEditTextYUp(){doButtonUpInt("graph_edit_text_y",1)&&doGraphEditScreen()}function doButtonEditTextYDown(){doButtonDownInt("graph_edit_text_y",1,1)&&doGraphEditScreen()}function updateLogButton(){document.getElementById("button_log").innerHTML=topParam._calculator?"ln":"log";document.getElementById("button_log10").innerHTML=topParam._calculator?"log":"log10"}function changeExpr(){for(var t,i,r,u,n=0;n<2;n++)for(t=0;t<editExpr[graphIndex()][n].num();t++)i=editExpr[graphIndex()][n].token(t),topParam._calculator?(i=="log "&&editExpr[graphIndex()][n].set(t,"ln "),i=="log10 "&&editExpr[graphIndex()][n].set(t,"log ")):(i=="log "&&editExpr[graphIndex()][n].set(t,"log10 "),i=="ln "&&editExpr[graphIndex()][n].set(t,"log "));for(writeProfileExpr(),updateEditExpr(),updateInputExpr1(),updateInputExpr2(),r=new EditExpr(-1),t=0;t<logExpr.num();t++){for(r.importLog(logExpr.obj(t)),n=0;n<r.num();n++)i=r.token(n),topParam._calculator?(i=="log "&&r.set(n,"ln "),i=="log10 "&&r.set(n,"log ")):(i=="log "&&r.set(n,"log10 "),i=="ln "&&r.set(n,"log "));u=new _String;r.exportLog(u);logExpr.set(t,u.str())}updateLogExpr();writeProfileLogExpr()}function doCheckCalculator(){topParam._calculator=document.getElementById("check_calculator").checked;updateLogButton();changeExpr();writeProfileInt("ENV_","Calculator",topParam._calculator?1:0)}function onGraphInitEnv(n){var t,i,r;n._mode=getProfileInt("ENV_","Mode",0);n._rePlotModeFlag=getProfileInt("ENV_","RePlotMode",1)==1;n._rePlotAngleFlag=getProfileInt("ENV_","RePlotAngle",1)==1;n._rePlotWindowFlag=getProfileInt("ENV_","RePlotWindow",1)==1;n._tool=getProfileInt("ENV_","Tool",0);t=_DIV(n._gWorld._width,2);i=_DIV(n._gWorld._height,2);n._rectOffsetX=getProfileFloat("ENV_","RectOffsetX",t);n._rectOffsetY=getProfileFloat("ENV_","RectOffsetY",i);n._rectRatioX=getProfileFloat("ENV_","RectRatioX",20);n._rectRatioY=getProfileFloat("ENV_","RectRatioY",-20);n._paramOffsetX=getProfileFloat("ENV_","ParamOffsetX",t);n._paramOffsetY=getProfileFloat("ENV_","ParamOffsetY",i);n._paramRatioX=getProfileFloat("ENV_","ParamRatioX",20);n._paramRatioY=getProfileFloat("ENV_","ParamRatioY",-20);n._paramMin=getProfileFloat("ENV_","ParamMin",0);n._paramMax=getProfileFloat("ENV_","ParamMax",360);n._paramPitch=getProfileFloat("ENV_","ParamPitch",1);n._polarOffsetX=getProfileFloat("ENV_","PolarOffsetX",t);n._polarOffsetY=getProfileFloat("ENV_","PolarOffsetY",i);n._polarRatioX=getProfileFloat("ENV_","PolarRatioX",20);n._polarRatioY=getProfileFloat("ENV_","PolarRatioY",-20);n._polarMin=getProfileFloat("ENV_","PolarMin",0);n._polarMax=getProfileFloat("ENV_","PolarMax",360);n._polarPitch=getProfileFloat("ENV_","PolarPitch",1);n._unitX=getProfileFloat("ENV_","UnitX",1);n._unitY=getProfileFloat("ENV_","UnitY",1);n._textX=getProfileInt("ENV_","TextX",1);n._textY=getProfileInt("ENV_","TextY",1);n._colorBack=getProfileInt("ENV_","BackColor",11);n._colorScale=getProfileInt("ENV_","ScaleColor",12);n._colorUnit=getProfileInt("ENV_","UnitColor",14);n._colorText=getProfileInt("ENV_","TextColor",15);n._color=getProfileInt("ENV_","GraphColor",4);n._proc.setAngType(getProfileInt("ENV_","Angle",_ANG_TYPE_RAD),!1);r=getProfileInt("ENV_","Calculator",-1);r<0&&(r=1,resetCalculator=!0);n._param._calculator=r==1;colorBack=COLOR_WIN[n.indexToColor(n._colorBack)]}function getProfileVar(){for(var t,n=65;n<=90;n++)t=parseFloat(getProfileString("VAR_",String.fromCharCode(n),"0.0")),t!=0&&(topParam.setVal(n,t,!0),inputVars[n-65].value=""+t)}function writeProfileVar(n){var t=topParam.val(n).toFloat();writeProfileString("VAR_",String.fromCharCode(n),""+t)}function getProfileExpr(){editExpr[graphIndex()][0].importLog(getProfileString("EXPR_","1",""));editExpr[graphIndex()][1].importLog(getProfileString("EXPR_","2",""));var n=new _String,t=new _String;editExpr[graphIndex()][0].get(n,t,!1);graphUI._graph.setExpr1(n.str()+t.str());editExpr[graphIndex()][1].get(n,t,!1);graphUI._graph.setExpr2(n.str()+t.str())}function writeProfileExpr(){var n=new _String;editExpr[graphIndex()][0].exportLog(n);writeProfileString("EXPR_","1",n.str());editExpr[graphIndex()][1].exportLog(n);writeProfileString("EXPR_","2",n.str())}function onEditExprUpdateSelAll(){}function getProfileLogExpr(){var n=new String;for(beginGetProfile("LOG_Expr");;){if(n=getProfile(),n.length==0)break;logExpr.add(n)}endGetProfile();logExpr.setIndex(0)}function writeProfileLogExpr(){var t=new String,n;for(beginWriteProfile(),n=0;n<logExpr.num();n++)t=logExpr.obj(n),writeProfile(t);endWriteProfile("LOG_Expr")}function getProfileTable(){var n,t,i;for(beginGetProfile("TABLE_");;){if(n=getProfile(),t=getProfile(),i=getProfile(),n.length==0)break;listTable[graphIndex()].add(new ListTableItem(n,t,i))}endGetProfile()}function writeProfileTable(){beginWriteProfile();for(var n=0;n<listTable[graphIndex()].num();n++)writeProfile(listTable[graphIndex()].obj(n)._x),writeProfile(listTable[graphIndex()].obj(n)._y1),writeProfile(listTable[graphIndex()].obj(n)._y2);endWriteProfile("TABLE_")}function writeProfileAngle(){var n=new _Integer,t=new _Boolean;topProc.getAngType(n,t);writeProfileInt("ENV_","Angle",n._val)}function writeProfileWindow(){writeProfileFloat("ENV_","RectOffsetX",graphUI._rectOffsetX);writeProfileFloat("ENV_","RectOffsetY",graphUI._rectOffsetY);writeProfileFloat("ENV_","RectRatioX",graphUI._rectRatioX);writeProfileFloat("ENV_","RectRatioY",graphUI._rectRatioY);writeProfileFloat("ENV_","ParamOffsetX",graphUI._paramOffsetX);writeProfileFloat("ENV_","ParamOffsetY",graphUI._paramOffsetY);writeProfileFloat("ENV_","ParamRatioX",graphUI._paramRatioX);writeProfileFloat("ENV_","ParamRatioY",graphUI._paramRatioY);writeProfileFloat("ENV_","PolarOffsetX",graphUI._polarOffsetX);writeProfileFloat("ENV_","PolarOffsetY",graphUI._polarOffsetY);writeProfileFloat("ENV_","PolarRatioX",graphUI._polarRatioX);writeProfileFloat("ENV_","PolarRatioY",graphUI._polarRatioY)}function addListImageFromProfile(n,t,i){for(var r=0;r<listImage.num();r++)if(listImage.obj(r)._url==n)break;r==listImage.num()&&listImage.add(new ListImageItem(n,t,i))}function getProfileImage(){for(var n,r,u,f=[],i,t=0;;t++){if(i=getProfileString("IMAGE_PATH_",""+(t+1),""),i.length==0)break;for(f[t]=new String,f[t]=i,beginGetProfile("IMAGE_"+(t+1));;){if(n=getProfile(),r=getProfile(),u=getProfile(),n.length==0)break;addListImageFromProfile(i+n,r,u)}endGetProfile()}for(beginGetProfile("IMAGE_");;){if(n=getProfile(),r=getProfile(),u=getProfile(),n.length==0)break;n.charAt(0)=="{"&&(i=n.indexOf("}"),i>=2&&(t=parseInt(n.substring(1,i))-1,t<f.length&&(n=f[t]+n.slice(i+1))));addListImageFromProfile(n,r,u)}endGetProfile()}function writeProfileImage(){var n,t,i=[],r=[],u,f,e,o;for(clearProfile("_CLIPGRAPH_IMAGE_"),beginWriteProfile(),n=0;n<listImage.num();n++)if(u=listImage.obj(n)._url,f=u.lastIndexOf("/"),f>=0){for(e=u.substring(0,f+1),o=u.slice(f+1),t=0;t<i.length;t++)if(i[t]==e)break;t>=i.length?(i[t]=new String,i[t]=e,r[t]=new String,r[t]=escape(o)):r[t]+="&"+escape(o);r[t]+="&"+listImage.obj(n)._x;r[t]+="&"+listImage.obj(n)._y}else writeProfile(u),writeProfile(listImage.obj(n)._x),writeProfile(listImage.obj(n)._y);for(endWriteProfile("IMAGE_"),n=0;n<i.length;n++)writeProfileString("IMAGE_PATH_",""+(n+1),i[n]),writeProfileString("IMAGE_",""+(n+1),r[n])}function onEditorUpdateText(){needSaveFunc=!0;cssSetStyleDisplayById("graph_button_savefunc",!0)}function getFunc(n){return getProfileString("FUNC_",""+n,"")}function setFunc(n,t){writeProfileString("FUNC_",""+n,t);topProc.clearFuncCache("!"+n)}function loadFunc(){editor.setText(getFunc(String.fromCharCode(curFunc)))}function saveFunc(){needSaveFunc&&(setFunc(String.fromCharCode(curFunc),""+editor.text()),updateSelectFunc1(document.getElementById("graph_select_func"),curFunc-97),needSaveFunc=!1,cssSetStyleDisplayById("graph_button_savefunc",!1))}function doChangeFunc(n){saveFunc();selFunc=n.selectedIndex;curFunc=n.options[selFunc].value;loadFunc();writeProfileInt("EDITOR_","SelFunc",selFunc)}function callFunc(){saveFunc();insEditExpr("!!"+String.fromCharCode(curFunc)+" ");doButtonUIMain();setButtonMode(0)}function onChangeTabWidth(){var n=parseInt(document.getElementById("tab_width").value);n<0&&(n=0,document.getElementById("tab_width").value=""+n);cssSetPropertyValue(".textarea_func","tab-size",""+n);writeProfileInt("EDITOR_","Tab",n)}function doButtonEditTabUp(){doButtonUpInt("tab_width",1,8)&&onChangeTabWidth()}function doButtonEditTabDown(){doButtonDownInt("tab_width",1,1)&&onChangeTabWidth()}function doCheckSmart(){setEditorSmartFlag(document.getElementById("check_smart").checked);writeProfileInt("EDITOR_","Smart",editorSmartFlag()?1:0)}function updateSelectFunc1(n,t){var i=97+t,r=getFunc(String.fromCharCode(i));n.options[t].innerHTML=r.length==0?""+String.fromCharCode(i):""+String.fromCharCode(i)+"&nbsp;&nbsp;"+splitData(r)[0]}function updateSelectFunc(){for(var t=document.getElementById("graph_select_func"),n=0;n<26;n++)updateSelectFunc1(t,n)}function changeVar1(){cssSetStyleDisplayById("graph_ui_var_2",!1);cssSetStyleDisplayById("graph_ui_var_3",!1);cssSetStyleDisplayById("graph_ui_var_1",!0);document.getElementById("button_ui_var_1").disabled=!0;document.getElementById("button_ui_var_2").disabled=!1}function changeVar2(){cssSetStyleDisplayById("graph_ui_var_1",!1);cssSetStyleDisplayById("graph_ui_var_2",!0);cssSetStyleDisplayById("graph_ui_var_3",!0);document.getElementById("button_ui_var_1").disabled=!1;document.getElementById("button_ui_var_2").disabled=!0}var extFuncData=[],extFuncFile2=[],extFuncData2=[],COLOR_WIN=[0,128,32768,32896,8388608,8388736,8421376,8421504,12639424,15780518,11157290,16727850,24362,5594922,11165482,16736042,32554,5603114,11173674,16744234,40746,5611306,11181866,16752426,48938,5619498,11190058,16760618,57130,5627690,11198250,16768810,65322,5635882,11206442,16777002,85,5570645,11141205,16711765,8021,5578581,11149141,16719701,16213,5586773,11157333,16727893,24405,5594965,11165525,16736085,32597,5603157,11173717,16744277,40789,5611349,11181909,16752469,48981,5619541,11190101,16760661,57173,5627733,11198293,16768853,65365,5635925,11206485,16777045,127,5570687,11141247,16711807,8063,5578623,11149183,16719743,16255,5586815,11157375,16727935,24447,5595007,11165567,16736127,32639,5603199,11173759,16744319,40831,5611391,11181951,16752511,49023,5619583,11190143,16760703,57215,5627775,11198335,16768895,65407,5635967,11206527,16777087,170,5570730,11141290,16711850,8106,5578666,11149226,16719786,16298,5586858,11157418,16727978,24490,5595050,11165610,16736170,32682,5603242,11173802,16744362,40874,5611434,11181994,16752554,49066,5619626,11190186,16760746,57258,5627818,11198378,16768938,65450,5636010,11206570,16777130,212,5570772,11141332,16711892,8148,5578708,11149268,16719828,16340,5586900,11157460,16728020,24532,5595092,11165652,16736212,32724,5603284,11173844,16744404,40916,5611476,11182036,16752596,49108,5619668,11190228,16760788,57300,5627860,11198420,16768980,65492,5636052,11206612,16777172,5570815,11141375,8191,5578751,11149311,16719871,16383,5586943,11157503,16728063,24575,5595135,11165695,16736255,32767,5603327,11173887,16744447,40959,5611519,11182079,16752639,49151,5619711,11190271,16760831,57343,5627903,11198463,16769023,5636095,11206655,16764108,16764159,16777011,16777062,16777113,16777164,32512,5603072,11173632,16744192,40704,5611264,11181824,16752384,48896,5619456,11190016,16760576,57088,5627648,11198208,16768768,5635840,11206400,42,5570602,11141162,16711722,7978,5578538,11149098,16719658,16170,5586730,15793151,10789024,12632256,255,65280,65535,16711680,16711935,16776960,16777215],resetCalculator=!1,started=!1,_console_break="<br>",con,_canvas_env,_input_file_cnt,_input_file_num,inputFile,procError,silentErr,editExpr,logExpr,listTable,listImage,editor,selFunc,curFunc,topProc,topParam,_css_display_none,_css_display_block,common,graphUI,nativeRequest,_preference,_enable_write_profile,_profile_prefix,menu,lastTouchEnd,cursorText,cursorBack,_cookie_expires,_cookie_val,_cookie_s,_cookie_str,_storage_val,_storage_s,_storage_str,_http_header,loadNum,loading,needSaveFunc;_Console.prototype={setMaxBlankLine:function(n){this._blankLine="";for(var t=0;t<=n;t++)this._blankLine+=_console_break},setMaxLen:function(n){this._maxLen=n},setColor:function(n){this._color=n==undefined?"":n},setBold:function(n){this._bold=n},setItalic:function(n){this._italic=n},lock:function(){this._lock=!0;this._needUpdate=!1},unlock:function(){this._lock=!1;this._needUpdate&&(this._update(),this._needUpdate=!1)},_update:function(){if(this._lock){this._needUpdate=!0;return}if(this._maxLen>0)while(this._html.length>this._maxLen){var n=this._html.indexOf(_console_break);if(n<0)break;this._html=this._html.slice(n+_console_break.length)}this._div.innerHTML=this._html;this._html.length>0&&onConsoleUpdate(this._id)},_add:function(n){n.length>0&&(this._bold&&(this._html.slice(-4)=="<\/b>"?this._html=this._html.substring(0,this._html.length-4):this._html+="<b>"),this._italic&&(this._html.slice(-4)=="<\/i>"?this._html=this._html.substring(0,this._html.length-4):this._html+="<i>"),this._color.length>0&&(this._html.slice(-7)=="<\/span>"&&this._color==this._lastColor?this._html=this._html.substring(0,this._html.length-7):this._html+="<span style='color:#"+this._color+"'>",this._lastColor=this._color),this._html+=n,this._color.length>0&&(this._html+="<\/span>"),this._italic&&(this._html+="<\/i>"),this._bold&&(this._html+="<\/b>"))},clear:function(){this._html="";this._update()},newLine:function(){this._html.length>=_console_break.length&&this._html.slice(-_console_break.length)!=_console_break&&(this._html+=_console_break,this._update())},print:function(n){n!=undefined&&(this._add(n),this._update())},println:function(n){var t=!1;n!=undefined&&(this._add(n),t=!0);this._blankLine.length>0&&this._html.length>=this._blankLine.length?this._html.slice(-this._blankLine.length)!=this._blankLine&&(this._html+=_console_break,t=!0):(this._html+=_console_break,t=!0);t&&this._update()},scrollBottom:function(){this._div.scrollTop=this._div.scrollHeight}};_Error.prototype={message:function(){return this._message},name:function(){return this._name},description:function(){return this._description},number:function(){return this._number},file:function(){return this._file},line:function(){return this._line},column:function(){return this._column},stack:function(){return this._stack}};_Canvas.prototype={element:function(){return this._canvas},context:function(){return this._context},_resetContext:function(){this._context.textAlign="left";this._context.textBaseline="bottom";this._setColor();this._setFont();this._setStrokeWidth()},setSize:function(n,t){this._create?(this._canvas.width=n,this._canvas.height=t):(this._canvas.setAttribute("width",""+n),this._canvas.setAttribute("height",""+t));this._resetContext()},left:function(){if(this._create)return 0;for(var n=this._canvas,t=0;n;)t+=n.offsetLeft,n=n.offsetParent;return t},top:function(){if(this._create)return 0;for(var n=this._canvas,t=0;n;)t+=n.offsetTop,n=n.offsetParent;return t},width:function(){return parseInt(this._canvas.width)},height:function(){return parseInt(this._canvas.height)},_setColor:function(){var n;n=_canvas_env._color_a==255?"rgb("+_canvas_env._color_r+","+_canvas_env._color_g+","+_canvas_env._color_b+")":"rgba("+_canvas_env._color_r+","+_canvas_env._color_g+","+_canvas_env._color_b+","+_canvas_env._color_a/255+")";this._context.fillStyle=n;this._context.strokeStyle=n},setColor:function(n,t,i,r){r==undefined&&(r=255);(n!=_canvas_env._color_r||t!=_canvas_env._color_g||i!=_canvas_env._color_b||r!=_canvas_env._color_a)&&(_canvas_env._color_r=n,_canvas_env._color_g=t,_canvas_env._color_b=i,_canvas_env._color_a=r,this._setColor())},setColorRGB:function(n){this.setColor((n&16711680)>>16,(n&65280)>>8,n&255)},setColorBGR:function(n){this.setColor(n&255,(n&65280)>>8,(n&16711680)>>16)},_setFont:function(){_canvas_env._font.length>0&&(this._context.font=_canvas_env._font)},setFont:function(n,t){_canvas_env._font=""+n+"px "+(t.indexOf(" ")>=0?"'"+t+"'":t);this._setFont()},_setStrokeWidth:function(){this._context.lineWidth=_canvas_env._stroke_width},setStrokeWidth:function(n){_canvas_env._stroke_width=n;this._setStrokeWidth()},clearClip:function(){this._context.restore();this._resetContext()},setClip:function(n,t,i,r){!this._context.clip||(this.clearClip(),this._context.save(),this._context.beginPath(),this._context.moveTo(n,t),this._context.lineTo(n+i,t),this._context.lineTo(n+i,t+r),this._context.lineTo(n,t+r),this._context.closePath(),this._context.clip())},clear:function(n,t,i,r){n==undefined&&t==undefined&&i==undefined&&r==undefined?this._canvas.width=this._canvas.width:i==undefined&&r==undefined?this._context.clearRect(n,t,1,1):this._context.clearRect(n,t,i,r);this._resetContext()},put:function(n,t){this._context.fillRect(n,t,1,1)},fill:function(n,t,i,r){this._context.fillRect(n,t,i,r)},line:function(n,t,i,r){this._context.beginPath();this._context.moveTo(n+.5,t+.5);this._context.lineTo(i+.5,r+.5);this._context.stroke();this._context.closePath()},rect:function(n,t,i,r){this._context.strokeRect(n+.5,t+.5,i,r)},circle:function(n,t,i){this._context.beginPath();this._context.arc(n,t,i,0,Math.PI*2,!1);this._context.stroke()},drawString:function(n,t,i){!this._context.fillText||this._context.fillText(n,t,i)},drawImage:function(n,t,i){t==n.width&&i==n.height?this._context.drawImage(n,0,0):this._context.drawImage(n,0,0,n.width,n.height,0,0,t,i)},imageData:function(n,t){return this._context.getImageData(0,0,n,t)}};var canvas,colorBack=0,colorR=0,colorG=0,colorB=0,colorA=255;_InputFile.prototype={element:function(){return this._input}};_ProcError.prototype={add:function(n,t,i,r){for(var f=this._top,u;;){if(f==null)break;if(f._err==n&&f._num==t&&f._func==i&&f._token==r)return;f=f._next}u=new __ProcError;this._top==null?(this._top=u,this._end=u):(u._before=this._end,this._end._next=u,this._end=u);u._err=n;u._num=t;u._func=i;u._token=r;this._num++},delAll:function(){this._top=null;this._num=0},get:function(n,t,i,r,u){for(var e=0,f=this._top;;){if(f==null)return!1;if(e==n)break;e++;f=f._next}return t.set(f._err),i.set(f._num),r.set(f._func),u.set(f._token),!0},num:function(){return this._num},isError:function(){for(var n=this._top;n!=null;){if((n._err&_CLIP_PROC_WARN)==0)return!0;n=n._next}return!1}};silentErr=!1;EditExpr.prototype={setDispLen:function(n,t){this._disp=n<2?2:n;this._forward=t<0?0:t;this._forward>=this._disp&&(this._forward=this._disp-1)},_searchList:function(n){if(n<0)return!1;var t=0;for(this._cur=this._top;;){if(this._cur==null)return!1;if(t==n)break;t++;this._cur=this._cur._next}return!0},_lastChar:function(n){return n.length==0?0:n.charAt(n.length-1)},add:function(n){this._selAll&&this.delAll();var t=new EditExprToken(n);if(this._top==null){if(n==" ")return;this._top=t;this._end=t}else{if(n==" "&&this._lastChar(this._end._token)==" ")return;t._before=this._end;this._end._next=t;this._end=t}this._num++;this._cursor=this._num},ins:function(n){if(this._selAll&&this.delAll(),!this._searchList(this._cursor)){this.add(n);return}if(n==" "){if(this._cur._before==null)return;if(this._cur._token==" "||this._lastChar(this._cur._before._token)==" ")return}var t=new EditExprToken(n);t._before=this._cur._before;t._next=this._cur;this._cur._before!=null?this._cur._before._next=t:this._top=t;this._cur._before=t;this._num++;this._cursor++},del:function(){if(this._selAll){this.delAll();return}(this._searchList(this._cursor-1)||(this.forward(),this._searchList(this._cursor-1)))&&(this._cur._before!=null?this._cur._before._next=this._cur._next:this._top=this._cur._next,this._cur._next!=null?this._cur._next._before=this._cur._before:this._end=this._cur._before,this._num--,this._cursor--)},delAll:function(){this._top=null;this._num=0;this._cursor=0;this._scroll=0;this._unsetAll()},num:function(){return this._num},token:function(n){return this._searchList(n)?this._cur._token:null},set:function(n,t){this._searchList(n)&&(this._cur._token=t)},top:function(){this._cursor=0;this._unsetAll()},end:function(){this._cursor=this._num;this._unsetAll()},backward:function(){if(this._selAll){this.top();return}this._cursor>0&&this._cursor--},forward:function(){if(this._selAll){this.end();return}this._cursor<this._num&&this._cursor++},_unsetAll:function(){this._selAll&&onEditExprUpdateSelAll(this._id,!1);this._selAll=!1},selAll:function(){this._selAll||onEditExprUpdateSelAll(this._id,!0);this._selAll=!0},isSelAll:function(){return this._selAll},get:function(n,t,i){var e,f,r,u;for(i==undefined&&(i=!1),e=new _String,n.set(""),t.set(""),f=0,r=this._top;r!=null;)f<this._cursor?(this._lastChar(n.str())==" "&&this._firstChars.indexOf(""+r._token.charAt(0))>=0&&(u=n.str(),n.set(u.substr(0,u.length-1))),n.add(r._token)):(this._lastChar(t.str())==" "&&this._firstChars.indexOf(""+r._token.charAt(0))>=0&&(u=t.str(),t.set(u.substr(0,u.length-1))),t.add(r._token)),f++,r=r._next;i&&(n.str().length-this._scroll>=this._disp&&(this._scroll=n.str().length-(this._disp-1)),n.str().length<this._scroll+this._forward&&(this._scroll=n.str().length-this._forward,this._scroll<0&&(this._scroll=0)),n.set(n.str().slice(this._scroll)),t.set(t.str().substring(0,this._disp-n.str().length)))},exportLog:function(n){var i=new _String,r,t;for(n.set(""),r=0,t=this._top;t!=null;){if(t==this._end&&t._token==" ")break;n.str().length!=0&&n.add(",");i.set(t._token);i.replace("\\","\\\\");i.replace(",","\\,");n.add(i.str());r++;t=t._next}},importLog:function(n){var u=new String,i=new _String,r,t;for(this.delAll(),r=0,t=0;t<n.length;){if(n.charAt(t)=="\\"){if(t++,t>=n.length)break}else n.charAt(t)==","&&(r!=t&&(u=n.substring(r,t),i.set(u),i.replace("\\,",","),i.replace("\\\\","\\"),this.add(i.str())),r=t+1);t++}r<n.length&&(u=n.slice(r),i.set(u),i.replace("\\,",","),i.replace("\\\\","\\"),this.add(i.str()))}};editExpr=[];ListBox.prototype={_searchList:function(n){if(n<0)return null;for(var i=0,t=this._top;;){if(t==null)return null;if(i==n)break;i++;t=t._next}return t},add:function(n){var t=new ListBoxObj(n);this._top==null?(this._top=t,this._end=t):(t._before=this._end,this._end._next=t,this._end=t);this._num++;this._index=this._num-1;this._updateScroll()},ins:function(n,t){var i=this._searchList(n),r;if(i==null){this.add(t);return}this._index=n;this._updateScroll();r=new ListBoxObj(t);r._before=i._before;r._next=i;i._before!=null?i._before._next=r:this._top=r;i._before=r;this._num++},del:function(n){var t=this._searchList(n);t!=null&&(t._before!=null?t._before._next=t._next:this._top=t._next,t._next!=null?t._next._before=t._before:this._end=t._before,this._num--,this._index>=this._num&&(this._index=this._num-1),this._index<0&&(this._index=0),this._updateScroll())},delAll:function(){this._top=null;this._num=0;this._index=0;this._scroll=0},num:function(){return this._num},obj:function(n){var t=this._searchList(n);return t!=null?t._obj:null},set:function(n,t){var i=this._searchList(n);i!=null&&(i._obj=t)},setLineNum:function(n){this._line=n;this._line<1&&(this._line=1)},lineNum:function(){return this._line},setIndex:function(n){this._index=n;this._index>=this._num&&(this._index=this._num-1);this._index<0&&(this._index=0);this._updateScroll()},index:function(){return this._index},_updateScroll:function(){this._index-this._scroll<0&&(this._scroll=this._index);this._index-this._scroll>=this._line&&(this._scroll=this._index-(this._line-1))},scroll:function(){return this._scroll},up:function(){this._index>0&&(this._index--,this._updateScroll())},down:function(){this._index<this._num-1&&(this._index++,this._updateScroll())}};listTable=[];var _editor_cursor_pos=0,_editor_text="",_editor_smart=!0;_Editor.prototype={element:function(){return this._textarea},text:function(){return this._textarea.value},setText:function(n){this._textarea.value=n;_editor_cursor_pos=this._textarea.selectionStart;_editor_text=this._textarea.value}};_StringUtil.prototype={setFont:function(n,t){this._fontSize=n;this._fontFamily=t.indexOf(" ")>=0?"'"+t+"'":t;this._text.style.cssText=this._textStyle+";font:"+this._fontSize+"px "+this._fontFamily},stringWidth:function(n){this._text.innerHTML="'";var t=this._text.offsetWidth;return n=n.replace(new RegExp("<","igm"),"&lt;"),n=n.replace(new RegExp(">","igm"),"&gt;"),this._text.innerHTML="'"+n+"'",this._text.offsetWidth-t*2},fontHeight:function(){return this._fontSize},trim:function(n){for(var u="",r=0,i,t=0;t<n.length;t++){if(n.charAt(t)!=" "&&n.charAt(t)!="　")break;r++}if(r<n.length){for(i=n.length-1,t=i;t>=0;t--){if(n.charAt(t)!=" "&&n.charAt(t)!="　")break;i--}u=n.substring(r,i+1)}return u},truncate:function(n,t,i){var r,u;if(this.stringWidth(n)<=t)return n;for(t-=this.stringWidth(i),r="",u=0;u<n.length;u++)if(r+=n.charAt(u),this.stringWidth(r)>t&&r.length>1){r=r.substring(0,r.length-1);break}return r+i},setHeadWrap:function(n){this._h=n},setEndWrap:function(n){this._e=n},wrap:function(n,t){var i=[],f,r=0,u;for(i[r]="",u=0;u<n.length;u++)if(i[r]+=n.charAt(u),stringWidth(i[r])>t){if(i[r].length>1){if(i[r]=i[r].substring(0,i[r].length-1),u--,this._h.length>0)for(;;)if(u+1<n.length)if(f=n.charAt(u+1),this._h.indexOf(f)>=0)i[r]+=f,u++;else break;else break;if(this._e.length>0)for(;;)if(i[r].length>1)if(f=i[r].charAt(i[r].length-1),this._e.indexOf(f)>=0)i[r]=i[r].substring(0,i[r].length-1),u--;else break;else break}r++;i[r]=""}return i}};Common.prototype={isAndroidMobile:function(){return this._androidMobile},isAndroidTablet:function(){return this._androidTablet},isIPhone:function(){return this._iPhone},isIPad:function(){return this._iPad},isPC:function(){return!this._androidMobile&&!this._androidTablet&&!this._iPhone&&!this._iPad},isApp:function(){return this._app},setFont:function(n,t){this._su.setFont(n,t)},stringWidth:function(n){return this._su.stringWidth(n)},fontHeight:function(){return this,_su.fontHeight()},truncate:function(n,t,i){return this._su.truncate(n,t,i)},escape:function(n){return new _String(n).escape().str()}};_css_display_none=null;_css_display_block=null;RGB.prototype={get:function(n){var t=(this.f&1)!=0?n:0,i=(this.f&2)!=0?n:0,r=(this.f&4)!=0?n:0;return _RGB(this.r+t,this.g+i,this.b+r)}};var GREEN_LIGHT=new RGB(71,128,128),GREEN_DARK=new RGB(76,99,99),GREEN_RED=new RGB(255,96,112),GREEN_BLUE=new RGB(112,128,255),GREEN_EMERALD=new RGB(37,218,219),GREEN_GRAY=new RGB(169,169,158),GREEN_SELECT=new RGB(192,192,192),GREEN_BG=_RGB(98,143,189),GREEN_TEXT=_RGB(255,255,255),GREEN_SPAN=_RGB(255,255,255),GREEN_CHECKED=_RGB(32,128,176),GRAY_LIGHT_1=_RGB(112,112,120),GRAY_LIGHT_2=_RGB(144,144,152),GRAY_DARK_1=_RGB(64,64,64),GRAY_DARK_2=_RGB(72,72,72),GRAY_RED_1=_RGB(160,0,48),GRAY_RED_2=_RGB(224,0,80),GRAY_SYSTEM=new RGB(192,192,192),GRAY_SELECT=new RGB(192,192,192),GRAY_BG=_RGB(96,96,96),GRAY_TEXT=_RGB(224,224,224),GRAY_SPAN=_RGB(255,255,255),GRAY_CHECKED=_RGB(32,128,176),PURPLE_BLUE_1=_RGB(141,141,234),PURPLE_BLUE_2=_RGB(100,100,141),PURPLE_GRAY_1=_RGB(180,180,180),PURPLE_GRAY_2=_RGB(121,121,121),PURPLE_SELECT=new RGB(192,192,192),PURPLE_BG=_RGB(110,110,130),PURPLE_TEXT=_RGB(255,255,255),PURPLE_SPAN=_RGB(255,255,255),PURPLE_CHECKED=_RGB(32,128,176),GOLD_CHECKED=_RGB(32,128,176),SILVER_CHECKED=_RGB(32,128,176),IRON_CHECKED=_RGB(32,128,176),COLOR=[[161,161,161,7],[160,61,54,7],[246,101,118,6],[255,144,255,2],[255,164,26,6],[247,235,88,4],[107,203,52,3],[76,189,233,3],[87,109,197,3],[181,132,197,3],[161,161,161,7]],COLOR_LIGHT,COLOR_DARK,COLOR_SYSTEM,COLOR_SELECT,COLOR_BG,COLOR_CHECKED,IMAGE_CHECKED;GraphUI.prototype={setRePlotModeFlag:function(n){this._rePlotModeFlag=n},rePlotModeFlag:function(){return this._rePlotModeFlag},setRePlotAngleFlag:function(n){this._rePlotAngleFlag=n},rePlotAngleFlag:function(){return this._rePlotAngleFlag},setRePlotWindowFlag:function(n){this._rePlotWindowFlag=n},rePlotWindowFlag:function(){return this._rePlotWindowFlag},_getWindow:function(){var n=new _Float,t=new _Float,i=new _Float,r=new _Float;this._gWorld.getWindow(n,t,i,r);switch(this._graph.mode()){case _GRAPH_MODE_RECT:this._rectOffsetX=n._val;this._rectOffsetY=t._val;this._rectRatioX=i._val;this._rectRatioY=r._val;break;case _GRAPH_MODE_PARAM:this._paramOffsetX=n._val;this._paramOffsetY=t._val;this._paramRatioX=i._val;this._paramRatioY=r._val;break;case _GRAPH_MODE_POLAR:this._polarOffsetX=n._val;this._polarOffsetY=t._val;this._polarRatioX=i._val;this._polarRatioY=r._val}},_setWindow:function(){switch(this._graph.mode()){case _GRAPH_MODE_RECT:this._gWorld.setWindow(this._rectOffsetX,this._rectOffsetY,this._rectRatioX,this._rectRatioY);break;case _GRAPH_MODE_PARAM:this._gWorld.setWindow(this._paramOffsetX,this._paramOffsetY,this._paramRatioX,this._paramRatioY);break;case _GRAPH_MODE_POLAR:this._gWorld.setWindow(this._polarOffsetX,this._polarOffsetY,this._polarRatioX,this._polarRatioY)}},setValue:function(n,t,i){this._editX=floatToString(n);this._editY1=floatToString(t);this._editY2=this._graph.mode()==_GRAPH_MODE_PARAM?floatToString(i):"";onGraphUpdateValue(this);this._graph.mark(n,t,i)},getMinMaxPitch:function(){var i=new _Token,o=!1,u,f,e,n=new _Value,r,s,t;switch(this._graph.mode()){case _GRAPH_MODE_PARAM:u=this._paramMin;f=this._paramMax;e=this._paramPitch;i.stringToValue(this._param,this._editMin,n);this._paramMin=n.toFloat();i.stringToValue(this._param,this._editMax,n);this._paramMax=n.toFloat();i.stringToValue(this._param,this._editPitch,n);this._paramPitch=n.toFloat();(this._paramMin!=u||this._paramMax!=f||this._paramPitch!=e)&&(o=!0);break;case _GRAPH_MODE_POLAR:u=this._polarMin;f=this._polarMax;e=this._polarPitch;r=new _Integer;s=new _Boolean;this._proc.getAngType(r,s);t=newValueArray(3);i.stringToValue(this._param,this._editMin,n);t[0].ass(n.toFloat());i.stringToValue(this._param,this._editMax,n);t[1].ass(n.toFloat());i.stringToValue(this._param,this._editPitch,n);t[2].ass(n.toFloat());t[0].angToAng(r._val,_ANG_TYPE_DEG);this._polarMin=t[0].toFloat();t[1].angToAng(r._val,_ANG_TYPE_DEG);this._polarMax=t[1].toFloat();t[2].angToAng(r._val,_ANG_TYPE_DEG);this._polarPitch=t[2].toFloat();(this._polarMin!=u||this._polarMax!=f||this._polarPitch!=e)&&(o=!0)}return o},setMinMaxPitch:function(){var t,i,n;switch(this._graph.mode()){case _GRAPH_MODE_RECT:this._editMin="";this._editMax="";this._editPitch="";break;case _GRAPH_MODE_PARAM:this._editMin=floatToStringPoint(this._paramMin);this._editMax=floatToStringPoint(this._paramMax);this._editPitch=floatToStringPoint(this._paramPitch);break;case _GRAPH_MODE_POLAR:t=new _Integer;i=new _Boolean;this._proc.getAngType(t,i);n=newValueArray(3);n[0].ass(this._polarMin);n[0].angToAng(_ANG_TYPE_DEG,t._val);n[1].ass(this._polarMax);n[1].angToAng(_ANG_TYPE_DEG,t._val);n[2].ass(this._polarPitch);n[2].angToAng(_ANG_TYPE_DEG,t._val);this._editMin=floatToStringPoint(n[0].toFloat());this._editMax=floatToStringPoint(n[1].toFloat());this._editPitch=floatToStringPoint(n[2].toFloat())}onGraphUpdatePitch(this)},redraw:function(){this._graph.clear(this.indexToColor(this._colorBack),this.indexToColor(this._colorScale),this.indexToColor(this._colorUnit),this._unitX,this._unitY,this.indexToColor(this._colorText),this._textX,this._textY);this.indexToColor(this._color)!=this._graph.color()&&this._graph.setColor(this.indexToColor(this._color));try{this._graph.rePlot()}catch(n){catchError(n)}},_rePlotWindow:function(){if(this._rePlotWindowFlag)switch(this._graph.mode()){case _GRAPH_MODE_RECT:this.clear();this.draw();break;case _GRAPH_MODE_PARAM:case _GRAPH_MODE_POLAR:this.getMinMaxPitch()?(this.clear(),this.draw()):this.redraw()}else this.redraw()},indexToColor:function(n){switch(n){case 0:return 0;case 1:return 1;case 2:return 249;case 3:return 2;case 4:return 250;case 5:return 3;case 6:return 251;case 7:return 4;case 8:return 252;case 9:return 5;case 10:return 253;case 11:return 6;case 12:return 254;case 13:return 7;case 14:return 247;case 15:return 255}return 0},startTool:function(n,t){if(this._toolX=n,this._toolY=t,this._toolX>=0&&this._toolY>=0&&this._toolX<0+this._gWorld._width&&this._toolY<0+this._gWorld._height){switch(this._tool){case 0:var i=new _GraphAns;this._graph.getAns(this._toolX-0,this._toolY-0,i)?(this._posX=i._x,this._posY=i._y1,this._posY2=i._y2,this._editX=floatToString(this._posX),this._editY1=floatToString(this._posY),this._graph.mode()==_GRAPH_MODE_PARAM&&(this._editY2=floatToString(this._posY2)),onGraphUpdateValue(this),this._drawFlag=!0):(this._editX="",this._editY1="",this._editY2="",onGraphUpdateValue(this),this._drawFlag=!1);break;case 2:this._posX=this._gWorld.wndPosX(this._toolX-0);this._posY=this._gWorld.wndPosY(this._toolY-0);this._endX=this._posX;this._endY=this._posY}if(!this._scrollFlag){this._scrollFlag=!0;switch(this._tool){case 0:this._drawFlag&&this._graph.mark(this._posX,this._posY,this._posY2);break;case 2:this._graph.markRect(this._posX,this._posY,this._endX,this._endY);break;case 1:this._gWorld.beginScroll(this._toolX,this._toolY)}}}},endTool:function(){var n;if(this._scrollFlag){this._scrollFlag=!1;switch(this._tool){case 0:this._drawFlag&&this._graph.mark(this._posX,this._posY,this._posY2);break;case 2:this._graph.mark(this._posX,this._posY,this._endX,this._endY);this._posX>this._endX&&(n=this._posX,this._posX=this._endX,this._endX=n);this._posY>this._endY&&(n=this._posY,this._posY=this._endY,this._endY=n);switch(this._graph.mode()){case _GRAPH_MODE_RECT:this._gWorld.setWindowIndirect(this._posX,this._posY,this._endX,this._endY);break;case _GRAPH_MODE_PARAM:case _GRAPH_MODE_POLAR:n=(this._endX-this._posX)*this._gWorld._width/this._gWorld._height;n-=this._endX-this._posX;this._posX-=n/2;this._endX+=n/2;this._gWorld.setWindowIndirect(this._posX,this._posY,this._endX,this._endY)}this._getWindow();this._rePlotWindow();break;case 1:this._gWorld.endScroll();this._getWindow();this._rePlotWindowFlag&&(this.clear(),this.draw())}}},moveTool:function(n,t){if(this._scrollFlag)switch(this._tool){case 0:if(this._toolX!=n||this._toolY!=t){this._drawFlag&&this._graph.mark(this._posX,this._posY,this._posY2);this._toolX=n;this._toolY=t;var i=new _GraphAns;this._graph.getAns(this._toolX-0,this._toolY-0,i)?(this._posX=i._x,this._posY=i._y1,this._posY2=i._y2,this._editX=floatToString(this._posX),this._editY1=floatToString(this._posY),this._graph.mode()==_GRAPH_MODE_PARAM&&(this._editY2=floatToString(this._posY2)),onGraphUpdateValue(this),this._drawFlag=!0):(this._editX="",this._editY1="",this._editY2="",onGraphUpdateValue(this),this._drawFlag=!1);this._drawFlag&&this._graph.mark(this._posX,this._posY,this._posY2)}break;case 2:if(this._toolX!=n||this._toolY!=t){this._graph.markRect(this._posX,this._posY,this._endX,this._endY);this._toolX=n;this._toolY=t;this._endX=this._gWorld.wndPosX(this._toolX-0);this._endY=this._gWorld.wndPosY(this._toolY-0);switch(this._graph.mode()){case _GRAPH_MODE_PARAM:case _GRAPH_MODE_POLAR:_ABS(this._endX-this._posX)<_ABS(this._endY-this._posY)?this._endX=this._endX-this._posX<0?this._posX-_ABS(this._endY-this._posY):this._posX+_ABS(this._endY-this._posY):_ABS(this._endX-this._posX)>_ABS(this._endY-this._posY)&&(this._endY=this._endY-this._posY<0?this._posY-_ABS(this._endX-this._posX):this._posY+_ABS(this._endX-this._posX))}this._graph.markRect(this._posX,this._posY,this._endX,this._endY)}break;case 1:(this._toolX!=n||this._toolY!=t)&&(this._gWorld.scroll(n,t),this._toolX=n,this._toolY=t,this.redraw())}},zoomIn:function(){var n=new _Float,t=new _Float,i=new _Float,r=new _Float,u=_DIV(this._gWorld._width,2),f=_DIV(this._gWorld._height,2);this._gWorld.getWindow(n,t,i,r);n.set(u+(n._val-u)*2);t.set(f+(t._val-f)*2);i.set(i._val*2);r.set(r._val*2);this._gWorld.setWindow(n._val,t._val,i._val,r._val);this._getWindow();this._rePlotWindow()},zoomOut:function(){var n=new _Float,t=new _Float,i=new _Float,r=new _Float,u=_DIV(this._gWorld._width,2),f=_DIV(this._gWorld._height,2);this._gWorld.getWindow(n,t,i,r);n.set(u+(n._val-u)/2);t.set(f+(t._val-f)/2);i.set(i._val/2);r.set(r._val/2);this._gWorld.setWindow(n._val,t._val,i._val,r._val);this._getWindow();this._rePlotWindow()},clearTable:function(){onGraphClearTable(this);this._editX="";this._editY1="";this._editY2="";onGraphUpdateValue(this)},draw:function(){var t,i,n;switch(this._graph.mode()){case _GRAPH_MODE_RECT:case _GRAPH_MODE_POLAR:this._editExpr1!=this._graph.expr()?(this.clearTable(),this._graph.setExpr(this._editExpr1),t=!1):t=!0;break;case _GRAPH_MODE_PARAM:this._editExpr1!=this._graph.expr1()||this._editExpr2!=this._graph.expr2()?(this.clearTable(),this._graph.setExpr1(this._editExpr1),this._graph.setExpr2(this._editExpr2),t=!1):t=!0}this.indexToColor(this._color)!=this._graph.color()&&this._graph.setColor(this.indexToColor(this._color));try{switch(this._graph.mode()){case _GRAPH_MODE_RECT:this._graph.setStart(this._gWorld.wndPosX(0));this._graph.setEnd(this._gWorld.wndPosX(this._gWorld._width));this._graph.setStep(0);t?(onGraphStartRePlot(),this._graph.rePlot(this._proc,this._param),onGraphEndRePlot()):(onGraphStartPlot(),this._graph.plot(this._proc,this._param),onGraphEndPlot());break;case _GRAPH_MODE_PARAM:i=this._paramPitch;this.getMinMaxPitch();this._graph.setStart(this._paramMin);this._graph.setEnd(this._paramMax);this._graph.setStep(this._paramPitch);t&&this._paramPitch==i?(onGraphStartRePlot(),this._graph.rePlot(this._proc,this._param),onGraphEndRePlot()):(onGraphStartPlot(),this._graph.plot(this._proc,this._param),onGraphEndPlot());break;case _GRAPH_MODE_POLAR:i=this._polarPitch;this.getMinMaxPitch();n=newValueArray(3);n[0].ass(this._polarMin);n[0].angToAng(_ANG_TYPE_DEG,complexAngType());n[1].ass(this._polarMax);n[1].angToAng(_ANG_TYPE_DEG,complexAngType());n[2].ass(this._polarPitch);n[2].angToAng(_ANG_TYPE_DEG,complexAngType());this._graph.setStart(n[0].toFloat());this._graph.setEnd(n[1].toFloat());this._graph.setStep(n[2].toFloat());t&&this._polarPitch==i?(onGraphStartRePlot(),this._graph.rePlot(this._proc,this._param),onGraphEndRePlot()):(onGraphStartPlot(),this._graph.plot(this._proc,this._param),onGraphEndPlot())}}catch(r){catchError(r)}},clear:function(){this._graph.delAns();this.redraw()},setMode:function(n){var t;n!=undefined&&(this._mode=n);switch(this._mode){case 0:t=_GRAPH_MODE_RECT;this._graph.setLogScaleX(0);this._graph.setLogScaleY(0);break;case 1:t=_GRAPH_MODE_RECT;this._graph.setLogScaleX(10);this._graph.setLogScaleY(0);break;case 2:t=_GRAPH_MODE_RECT;this._graph.setLogScaleX(0);this._graph.setLogScaleY(10);break;case 3:t=_GRAPH_MODE_RECT;this._graph.setLogScaleX(10);this._graph.setLogScaleY(10);break;case 4:t=_GRAPH_MODE_PARAM;break;case 5:t=_GRAPH_MODE_POLAR}if(n==undefined||this._graph.mode()!=t){this._editExpr1="";this._editExpr2="";onGraphClearExpr(this);switch(t){case _GRAPH_MODE_RECT:this._param._var._label.setLabel(_CHAR("x"),"x",!0);this._graph.setIndex(_CHAR("x"));this._staticExpr1="y=";this._staticExpr2="";this._staticX="x=";this._staticY1="y=";this._staticY2="";this._tableX="x";this._tableY1="y";this._tableY2="";break;case _GRAPH_MODE_PARAM:this._param._var._label.setLabel(_CHAR("t"),"t",!0);this._graph.setIndex(_CHAR("t"));this._staticExpr1="x=";this._staticExpr2="y=";this._staticX="t=";this._staticY1="x=";this._staticY2="y=";this._tableX="t";this._tableY1="x";this._tableY2="y";break;case _GRAPH_MODE_POLAR:this._param._var._label.setLabel(_CHAR("t"),"t",!0);this._graph.setIndex(_CHAR("t"));this._staticExpr1="r=";this._staticExpr2="";this._staticX="t=";this._staticY1="r=";this._staticY2="";this._tableX="t";this._tableY1="r";this._tableY2=""}onGraphUpdateStatic(this);this.clearTable();this._graph.setMode(t);this.setMinMaxPitch();this._setWindow();this.clear()}else this._rePlotModeFlag?(this.clear(),this.draw()):this.redraw()},setAngType:function(n){this.getMinMaxPitch();this._proc.setAngType(n,!1);this.setMinMaxPitch();this._rePlotAngleFlag&&(this.clear(),this.draw())},setCurVar:function(n){this._curVar=n},buttonRCL:function(){return"@"+String.fromCharCode(this._curVar)},setTool:function(n){this._tool=n},setEnvType:function(n){this._envType=n},startEnv:function(){var n=new _Float,t=new _Float,i=new _Float,r=new _Float;this._gWorld.getWindow(n,t,i,r);this._envOffsetX=n._val;this._envOffsetY=t._val;this._envRatioX=i._val;this._envRatioY=r._val;this._editEnvOffsetX=floatToStringPoint(this._envOffsetX);this._editEnvOffsetY=floatToStringPoint(this._envOffsetY);this._editEnvRatioX=floatToStringPoint(this._envRatioX);this._editEnvRatioY=floatToStringPoint(this._envRatioY);onGraphUpdateEnvOffset(this);this.resetEnvWindow()},resetEnvOffset:function(){var n=parseFloat(this._editEnvLeft),t=parseFloat(this._editEnvBottom),i=parseFloat(this._editEnvRight),r=parseFloat(this._editEnvTop);if(!_ISNAN(n)&&!_ISNAN(t)&&!_ISNAN(i)&&!_ISNAN(r)){var u=new _Float,f=new _Float,e=new _Float,o=new _Float;this._gWorld.getWindow(u,f,e,o);this._gWorld.setWindowIndirect(n,t,i,r);var s=new _Float,h=new _Float,c=new _Float,l=new _Float;this._gWorld.getWindow(s,h,c,l);this._envOffsetX=s._val;this._envOffsetY=h._val;this._envRatioX=c._val;this._envRatioY=l._val;this._editEnvOffsetX=floatToStringPoint(this._envOffsetX);this._editEnvOffsetY=floatToStringPoint(this._envOffsetY);this._editEnvRatioX=floatToStringPoint(this._envRatioX);this._editEnvRatioY=floatToStringPoint(this._envRatioY);onGraphUpdateEnvOffset(this);this._gWorld.setWindow(u._val,f._val,e._val,o._val)}},resetEnvWindow:function(){var n=new _Float,t=new _Float,i=new _Float,r=new _Float;this._gWorld.getWindow(n,t,i,r);switch(this._graph.mode()){case _GRAPH_MODE_RECT:this._gWorld.setWindow(this._envOffsetX,this._envOffsetY,this._envRatioX,this._envRatioY);break;case _GRAPH_MODE_PARAM:case _GRAPH_MODE_POLAR:this._gWorld.setWindow(this._envOffsetX,this._envOffsetY,this._envRatioX,-this._envRatioX)}var u=this._gWorld.wndPosX(0),f=this._gWorld.wndPosY(0),e=this._gWorld.wndPosX(this._gWorld._width),o=this._gWorld.wndPosY(this._gWorld._height);this._editEnvLeft=floatToStringPoint(u);this._editEnvBottom=floatToStringPoint(o);this._editEnvRight=floatToStringPoint(e);this._editEnvTop=floatToStringPoint(f);onGraphUpdateEnvWindow(this);this._gWorld.setWindow(n._val,t._val,i._val,r._val)},resetEnv:function(){this._envOffsetX=_DIV(this._gWorld._width,2);this._envOffsetY=_DIV(this._gWorld._height,2);this._envRatioX=20;this._envRatioY=-20;this._editEnvOffsetX=floatToStringPoint(this._envOffsetX);this._editEnvOffsetY=floatToStringPoint(this._envOffsetY);this._editEnvRatioX=floatToStringPoint(this._envRatioX);this._editEnvRatioY=floatToStringPoint(this._envRatioY);onGraphUpdateEnvOffset(this);this.resetEnvWindow()},endEnv:function(){var n=parseFloat(this._editEnvOffsetX),t=parseFloat(this._editEnvOffsetY),i=parseFloat(this._editEnvRatioX),r=parseFloat(this._editEnvRatioY);if(!_ISNAN(n)&&!_ISNAN(t)&&!_ISNAN(i)&&!_ISNAN(r)){this._envOffsetX=n;this._envOffsetY=t;this._envRatioX=i;this._envRatioY=r;switch(this._graph.mode()){case _GRAPH_MODE_RECT:this._rectOffsetX=this._envOffsetX;this._rectOffsetY=this._envOffsetY;this._rectRatioX=this._envRatioX;this._rectRatioY=this._envRatioY;break;case _GRAPH_MODE_PARAM:this._paramOffsetX=this._envOffsetX;this._paramOffsetY=this._envOffsetY;this._paramRatioX=this._envRatioX;this._paramRatioY=-this._envRatioX;break;case _GRAPH_MODE_POLAR:this._polarOffsetX=this._envOffsetX;this._polarOffsetY=this._envOffsetY;this._polarRatioX=this._envRatioX;this._polarRatioY=-this._envRatioX}this._setWindow();this._rePlotWindow()}}};var _graph_event_canvas=null,_graph_mouse_x,_graph_mouse_y,_graph_touch_start=!1,_graph_touch_x=[],_graph_touch_y=[],_graph_touch_x0,_graph_touch_y0;NativeRequest.prototype={setScheme:function(n){this.s=n},send:function(n){this.e.src=this.s.length>0?this.s+"://"+n:n}};_enable_write_profile=!1;_profile_prefix=new String;Electron.prototype={isEnglish:function(){return this._main.isEnglish},platform:function(){return this._main.platform},extFuncKeyNum:function(){return Object.keys(this._extfunc).length},extFuncKey:function(n){return Object.keys(this._extfunc)[n]},getExtFunc:function(n,t){var i=this._extfunc[n];return i==undefined?t:i},setExtFunc:function(n,t){this._extfunc[n]=t;this._extfunc_update=!0},clearExtFunc:function(){this._extfunc={};this._extfunc_update=!0;this.applyExtFunc()},beginReadExtFunc:function(n){this._extfunc_val=this.getExtFunc(n,"");this._extfunc_s=0},readExtFunc:function(){if(this._extfunc_s>=this._extfunc_val.length)this._extfunc_str="";else{var n=this._extfunc_val.indexOf("&",this._extfunc_s);n<0&&(n=this._extfunc_val.length);this._extfunc_str=this._extfunc_val.substring(this._extfunc_s,n);this._extfunc_s=n+1}return unescape(this._extfunc_str)},endReadExtFunc:function(){this._extfunc_val="";this._extfunc_str=""},beginWriteExtFunc:function(){this._extfunc_val=""},writeExtFunc:function(n){this._extfunc_val.length>0&&(this._extfunc_val+="&");this._extfunc_val+=escape(n)},endWriteExtFunc:function(n){this.setExtFunc(n,this._extfunc_val);this._extfunc_val=""},applyExtFunc:function(){this._extfunc_update&&(this._extfunc_update=!1,this._main.fs.writeFileSync(this._main.extFuncCachePath,JSON.stringify(this._extfunc)))}};var electron=null,divEdit,divLog,divTable,divSelectImage,inputVars,buttonMode=0,exprType=0,usageFlag=!0,englishFlag=!1,lockGraphResetEnv=!1,skin,skinColor,skinLockR,skinLockG,skinLockB,skinTrans,skinImage,fontSpan,fontEdit;menu=-1;lastTouchEnd=0;_cookie_expires="Tue, 01 Jan 2030 00:00:00 GMT";_Preference.prototype={num:function(){return this.s?storageNum():this.c?cookieNum():0},getKey:function(n){return this.s?getStorageKey(n):this.c?getCookieKey(n):null},get:function(n,t){return this.s?getStorage(n,t):this.c?getCookie(n,t):t},set:function(n,t){this.s?setStorage(n,t):this.c&&setCookie(n,t)},clear:function(n){this.s?clearStorage(n):this.c&&clearCookie(n)},beginRead:function(n){this.s?beginStorageRead(n):this.c&&beginCookieRead(n)},read:function(){return this.s?storageRead():this.c?cookieRead():""},endRead:function(){this.s?endStorageRead():this.c&&endCookieRead()},beginWrite:function(){this.s?beginStorageWrite():this.c&&beginCookieWrite()},write:function(n){this.s?storageWrite(n):this.c&&cookieWrite(n)},endWrite:function(n){this.s?endStorageWrite(n):this.c&&endCookieWrite(n)}};_HttpRequestHeader.prototype={set:function(n){_httpSetRequestHeader(n,this._header,this._value)}};loadNum=0;loading=!1;needSaveFunc=!1